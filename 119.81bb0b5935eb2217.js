"use strict";(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[119],{6119:(Q,h,i)=>{i.r(h),i.d(h,{MchUpgradeModule:()=>A});var d=i(9808),p=i(4573);class l{constructor(s){this.ControlNo=s&&s.ControlNo||"",this.Name=s&&s.Name||"",this.OwnerName=s&&s.OwnerName||"",this.RepresentativeName=s&&s.RepresentativeName||"",this.ApplicationTypeName=s&&s.ApplicationTypeName||"",this.Category=s&&s.Category||"",this.Address=s&&s.Address||"",this.Status=s&&s.Status||""}}var o=i(4893),u=i(3075),v=i(6470),r=i(7854),a=i(2340),n=i(520);let g=(()=>{class t{constructor(e){this.http=e}generateReport(e){return this.http.get(`${a.N.api}/api/v1/Applications/generatereport?controlno=${e}`).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f=(()=>{class t{constructor(e){this.http=e}InspectionSave(e){return this.http.post(`${a.N.api}/api/v1/ApplicationInspections/InspectionSave`,e).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),z=(()=>{class t{constructor(e){this.http=e}getQRData(e){return this.http.get(`${a.N.api}/api/v1/ApplicationQrcodes/${e}`).pipe((0,r.II)())}updateQRStatus(e){return this.http.post(`${a.N.api}/api/v1/ApplicationQrcodes`,e).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(e){this.http=e}getAddressData(e){return this.http.get(`${a.N.api}/api/v1/ApplicationAddresss/${e}`).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M=(()=>{class t{constructor(e){this.http=e}getZoningData(e){return this.http.get(`${a.N.api}/api/v1/ZoneClassifications/${e}`).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),I=(()=>{class t{constructor(e){this.http=e}updateQRLogs(e){return this.http.post(`${a.N.api}/api/v1/ApplicationLogs`,e).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),N=(()=>{class t{constructor(e){this.http=e}getInspector(e){return this.http.get(`${a.N.api}/api/v1/ApplicationInspectors/${e}`).pipe((0,r.II)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S=[{path:"mzas-inspection/:controlno",component:(()=>{class t{constructor(e,c,C,F,Y,L,D,$,w,R){this._fb=e,this._route=c,this._notifSrvc=C,this._application=F,this._inspection=Y,this._qrCode=L,this._address=D,this._zoning=$,this._logs=w,this._inspector=R,this.isCtrlNumValid=!1,this.isLoading=!1,this.hasSubmitted=!1,this.hasFindings=!0,this.isSuccess=!1,this.data=new l}ngOnInit(){this.controlno=this._route.snapshot.paramMap.get("controlno")}getQRData(){this.isLoading=!0,this._qrCode.getQRData(this.controlno).subscribe(e=>{0==e.Isupdated?(this.isCtrlNumValid=!0,this.code=e.Code,this.applicationData(),this.addressData()):(this.isCtrlNumValid=!1,window.location.href="https://www.makati.gov.ph/")})}getInspectorName(){this._inspector.getInspector(this.controlno).subscribe(e=>{this.inspectorName=e.inspector.InspectorName})}applicationData(){this._application.generateReport(this.controlno).subscribe(e=>{this.data=e[0],this.isLoading=!1})}addressData(){this._address.getAddressData(this.controlno).subscribe(e=>{this.zoningData(e.ZonedId)})}zoningData(e){this._zoning.getZoningData(e).subscribe(c=>{this.zoning=c.Name})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u.qu),o.Y36(p.gz),o.Y36(v.c),o.Y36(g),o.Y36(f),o.Y36(z),o.Y36(m),o.Y36(M),o.Y36(I),o.Y36(N))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-mzas"]],decls:2,vars:0,template:function(e,c){1&e&&(o.TgZ(0,"p"),o._uU(1,"mzas works!"),o.qZA())},styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[p.Bz.forChild(S)],p.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[d.ez,y]]}),t})()}}]);