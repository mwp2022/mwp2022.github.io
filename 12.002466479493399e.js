var ft=Object.defineProperty,pt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,qe=(ge,k,Z)=>k in ge?ft(ge,k,{enumerable:!0,configurable:!0,writable:!0,value:Z}):ge[k]=Z,$e=(ge,k)=>{for(var Z in k||(k={}))_t.call(k,Z)&&qe(ge,Z,k[Z]);if(et)for(var Z of et(k))mt.call(k,Z)&&qe(ge,Z,k[Z]);return ge},Ye=(ge,k)=>pt(ge,gt(k)),We=(ge,k,Z)=>(qe(ge,"symbol"!=typeof k?k+"":k,Z),Z),Qe=(ge,k,Z)=>{if(!k.has(ge))throw TypeError("Cannot "+Z)},ve=(ge,k,Z)=>(Qe(ge,k,"read from private field"),Z?Z.call(ge):k.get(ge)),Pe=(ge,k,Z)=>{if(k.has(ge))throw TypeError("Cannot add the same private member more than once");k instanceof WeakSet?k.add(ge):k.set(ge,Z)},Re=(ge,k,Z,_)=>(Qe(ge,k,"write to private field"),_?_.call(ge,Z):k.set(ge,Z),Z),tt=(ge,k,Z,_)=>({set _(fe){Re(ge,k,fe,Z)},get _(){return ve(ge,k,_)}}),Se=(ge,k,Z)=>(Qe(ge,k,"access private method"),Z);(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[12],{7012:(ge,k,Z)=>{"use strict";Z.r(k),Z.d(k,{CmsModule:()=>R});var _=Z(9808),fe=Z(8231),re=Z(4776),ie=Z(9841),ne=Z(4004),N=Z(9646),h=Z(8056);const E=[{title:"Support",url:"/content/support"},{title:"Mayor's Corner",url:"/content/mayors-corner/gallery"},{title:"Makati News",url:"/content/news"},{title:"Makati News",url:"/content/events"},{title:"Makati News",url:"/content/makati-videos"},{title:"Are you satisfied?",url:"/content/content/customer-satisfaction-survey-form"},{title:"I Want To",url:"/content/i-want-to"},{title:"Downloads",url:"/content/downloads"}];var A=Z(7854),r=Z(4893),P=Z(817),o=Z(7787),s=Z(7045);function n(v,G){1&v&&(r.TgZ(0,"span"),r._UZ(1,"i",6),r.qZA())}function c(v,G){if(1&v){const f=r.EpF();r.TgZ(0,"shrd-sidebar-item",7),r.NdJ("on_is_active",function(z){const ye=r.CHM(f).index;return r.oxw().set_up_parent(z,ye)})("on_select",function(z){return r.CHM(f),r.oxw().on_select.emit(z)}),r.qZA()}if(2&v){const f=G.$implicit;r.Q6J("is_child_menu",!0)("item",f)}}const w=function(v,G){return{"ps-3 pt-3":v,"p-3":G}},p=function(v){return{"text-primary tx-active":v}};let g=(()=>{class v{constructor(f,O){this.route=f,this.router=O,this.is_child_menu=!1,this.on_select=new r.vpe,this.on_is_active=new r.vpe(!1),this._is_active=!1,this.is_collapsed=!0,this._subscriptions=[],this.child_statuses=[]}ngOnInit(){this.set_up_is_active()}on_click(){this.item.children.length>0?this.is_collapsed=!this.is_collapsed:this.on_select.emit(this.item)}ngOnDestroy(){this._subscriptions.forEach(f=>f.unsubscribe())}ngAfterViewInit(){if(0!=this.item.menuId&&0==this.item.children.length==1){const O=this.router.events.subscribe(z=>{z instanceof re.m2&&this.set_up_is_active()});this._subscriptions.push(O)}}set_up_is_active(){var f,O;const z=null!==(f=this.route.snapshot.queryParamMap.get("content"))&&void 0!==f?f:0,_e=null!==(O=this.route.snapshot.paramMap.get("pageId"))&&void 0!==O?O:0;this.is_active=+this.item.menuId==+(0!=+z?+z:+_e)}set is_active(f){setTimeout(()=>{this._is_active=f,this.on_is_active.emit(f),this.is_collapsed=!f,this.child_statuses=[]},20)}get is_active(){return this._is_active}set_up_parent(f,O){if(this.child_statuses.push(f),O+1==this.item.children.length){const z=this.child_statuses.reduce((_e,ye)=>1==_e||ye,!1);this.is_active=z}}}return v.\u0275fac=function(f){return new(f||v)(r.Y36(re.gz),r.Y36(re.F0))},v.\u0275cmp=r.Xpm({type:v,selectors:[["shrd-sidebar-item"]],inputs:{item:"item",is_child_menu:"is_child_menu"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:7,vars:12,consts:[[1,"d-flex","flex-column",3,"ngClass"],[1,"d-flex","justify-content-between","c-pointer",3,"click"],[1,"pb-3","tx",3,"ngClass"],[4,"ngIf"],[1,"ms-1",3,"collapse","isAnimated"],[3,"is_child_menu","item","on_is_active","on_select",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-down"],[3,"is_child_menu","item","on_is_active","on_select"]],template:function(f,O){1&f&&(r.TgZ(0,"div",0)(1,"div",1),r.NdJ("click",function(){return O.on_click()}),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.YNc(4,n,2,0,"span",3),r.qZA(),r.TgZ(5,"div",4),r.YNc(6,c,1,2,"shrd-sidebar-item",5),r.qZA()()),2&f&&(r.Q6J("ngClass",r.WLB(7,w,1==O.is_child_menu,0==O.is_child_menu)),r.xp6(2),r.Q6J("ngClass",r.VKq(10,p,1==O.is_active)),r.xp6(1),r.hij(" ",O.item.menuLabel," "),r.xp6(1),r.Q6J("ngIf",O.item.children.length>0),r.xp6(1),r.Q6J("collapse",O.is_collapsed)("isAnimated",!0),r.xp6(1),r.Q6J("ngForOf",O.item.children))},directives:[_.mk,_.O5,s.Y,_.sg,v],styles:[""]}),v})();function e(v,G){if(1&v){const f=r.EpF();r.TgZ(0,"shrd-sidebar-item",2),r.NdJ("on_select",function(z){return r.CHM(f),r.oxw().on_select.emit(z)}),r.qZA()}2&v&&r.Q6J("item",G.$implicit)}let i=(()=>{class v{constructor(){this.items=[],this.on_select=new r.vpe,this.on_is_active=new r.vpe}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=r.Xpm({type:v,selectors:[["shrd-sidebar"]],inputs:{items:"items"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:2,vars:1,consts:[[1,"sidebar-bg"],[3,"item","on_select",4,"ngFor","ngForOf"],[3,"item","on_select"]],template:function(f,O){1&f&&(r.TgZ(0,"div",0),r.YNc(1,e,1,1,"shrd-sidebar-item",1),r.qZA()),2&f&&(r.xp6(1),r.Q6J("ngForOf",O.items))},directives:[_.sg,g],styles:[""]}),v})();var m=Z(1135),b=Z(8372),S=Z(1884),L=Z(9300),F=Z(8505),D=Z(3900),V=Z(2340),H=Z(2313);const q=["contentRef"],J=["*"];let B=(()=>{class v{constructor(f){this.display="inline-block",this._dragDisabled=!1,this._elementRef=f}get dragDisabled(){return this._dragDisabled}set dragDisabled(f){this._dragDisabled=f}}return v.\u0275fac=function(f){return new(f||v)(r.Y36(r.SBq))},v.\u0275dir=r.lG2({type:v,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(f,O){2&f&&r.Udp("display",O.display)},inputs:{dragDisabled:["drag-disabled","dragDisabled"]}}),v})(),Y=(()=>{class v{constructor(f,O,z){this._elementRef=f,this._renderer=O,this._document=z,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new r.vpe,this.indexChanged=new r.vpe,this.reachesLeftBound=new r.vpe,this.reachesRightBound=new r.vpe,this.snapAnimationFinished=new r.vpe,this.dragStart=new r.vpe,this.dragEnd=new r.vpe,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(f){f!==this._index&&(this._index=f,this.indexChanged.emit(f))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(f){this._scrollbarHidden=f}get disabled(){return this._disabled}set disabled(f){this._disabled=f}get xDisabled(){return this._xDisabled}set xDisabled(f){this._xDisabled=f}get yDisabled(){return this._yDisabled}set yDisabled(f){this._yDisabled=f}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(f){this._xWheelEnabled=f}get dragDisabled(){return this._dragDisabled}set dragDisabled(f){this._dragDisabled=f}get snapDisabled(){return this._snapDisabled}set snapDisabled(f){this._snapDisabled=f}get snapOffset(){return this._snapOffset}set snapOffset(f){this._snapOffset=f}get snapDuration(){return this._snapDuration}set snapDuration(f){this._snapDuration=f}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType="undefined"!=typeof window?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",f=>{f.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl="rtl"===getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(f){this.onMouseMove(f)}onMouseMove(f){if((f.clientX!==this.downX||f.clientY!==this.downY)&&this.isPressed&&!this.disabled){if(!f.buttons&&!f.which)return this.onMouseUpHandler(f);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){const O=f.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-O+this.downX,this.downX=O}if(!this.yDisabled&&!this.dragDisabled){const O=f.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-O+this.downY,this.downY=O}}}onMouseDownHandler(f){const O=this.locateDragScrollItem(f.target);if(O&&O.dragDisabled)return;this._startGlobalListening("touchstart"===f.type),this.isPressed=!0;const _e=f;this.downX=_e.clientX,this.downY=_e.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),this.isPressed||this.isAnimating||this.snapDisabled?this.locateCurrentIndex():(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500))}onMouseUpHandler(f){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(0!==this.currIndex||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){const f=this.wrapper||this.parentNode,O=f?f.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(O,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(f){const O=this.wrapper||this.parentNode,z=O?O.clientWidth:0;f>=0&&f!==this.currIndex&&this.currIndex<=this.maximumIndex(z,this._children.toArray())&&(this.currIndex=Math.min(f,this.maximumIndex(z,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{const f=Boolean(this._children.length<=1),O=Boolean(this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth);f||O?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):0===this._contentRef.nativeElement.scrollLeft&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(f){this._xWheelEnabled&&(f.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(f.deltaY,0):f.deltaY<0?this.moveLeft():f.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(f){this._isDragging!==f&&(this._isDragging=f,f?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(f){this._onMouseMoveListener||(this._onMouseMoveListener=this._renderer.listen("document",f?"touchmove":"mousemove",this.onMouseMoveHandler.bind(this))),this._onMouseUpListener||(this._onMouseUpListener=this._renderer.listen("document",f?"touchend":"mouseup",this.onMouseUpHandler.bind(this)))}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(f){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${f}`,"hidden")}enableScroll(f){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${f}`,"auto")}hideScrollbar(){"none"!==this._contentRef.nativeElement.style.display&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),null!==this.parentNode&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._renderer.setStyle(this._contentRef.nativeElement,"height",this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?"100%":`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"width",this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?"100%":`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){const f=this._renderer.createElement("div");this._renderer.setStyle(f,"visibility","hidden"),this._renderer.setStyle(f,"width","100px"),this._renderer.setStyle(f,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,f);const O=f.offsetWidth;this._renderer.setStyle(f,"overflow","scroll");const z=this._renderer.createElement("div");this._renderer.setStyle(z,"width","100%"),this._renderer.appendChild(f,z);const _e=z.offsetWidth;return this._renderer.removeChild(this._document.body,f),O-_e||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px":"100%"))}scrollTo(f,O,z){const _e=this;_e.isAnimating=!0;const Ce=f.scrollLeft,xe=(this.rtl?-1:1)*O-Ce-this.snapOffset;let Le=0;const ke=function(){var Fe,Be,Ie;Le+=20,f.scrollLeft=(Fe=Le,Be=Ce,Ie=xe,(Fe/=z/2)<1?Ie/2*Fe*Fe+Be:-Ie/2*(--Fe*(Fe-2)-1)+Be),Le<z?_e.scrollToTimer=setTimeout(ke,20):setTimeout(()=>{_e.isAnimating=!1,_e.snapAnimationFinished.emit(_e.currIndex)},20)};ke()}locateCurrentIndex(f){const O=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((z,_e,ye,Ce,xe)=>{O>=ye&&O<=_e?(_e-O>z/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=Ce),f&&this.scrollTo(this._contentRef.nativeElement,ye,this.snapDuration)):0!==O&&(this.isAnimating||(this.currIndex=Ce+1),f&&this.scrollTo(this._contentRef.nativeElement,ye+z,this.snapDuration)),xe()):Ce+1===this._children.length-1&&(this.isAnimating||(this.currIndex=Ce+1),xe())})}currentChildWidth(f){let O=0,z=!1;const _e=function(){z=!0},ye=this._children.toArray();for(let Ce=0;Ce<ye.length&&Ce!==ye.length-1&&!z;Ce++){const Te=ye[Ce]._elementRef.nativeElement.clientWidth;f(Te,O+ye[Ce+1]._elementRef.nativeElement.clientWidth,O,Ce,_e),O+=Te}}toChildrenLocation(){let f=0;const O=this._children.toArray();for(let z=0;z<this.currIndex;z++)f+=O[z]._elementRef.nativeElement.clientWidth;return f}locateDragScrollItem(f){let O=null;const z=this._children.toArray();for(let _e=0;_e<z.length;_e++)f===z[_e]._elementRef.nativeElement&&(O=z[_e]);return O}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");const f=this.wrapper||this.parentNode;this._children.length>1&&(this.indexBound=this.maximumIndex(f?f.clientWidth:0,this._children.toArray()))}maximumIndex(f,O){let z=0,_e=0;for(let ye=0;ye<=O.length;ye++){const Ce=O[O.length-1-ye];if(!Ce)break;{const xe=Ce._elementRef.nativeElement;let Te=xe.clientWidth;if(0===Te&&xe.firstElementChild&&(Te=Ce._elementRef.nativeElement.firstElementChild.clientWidth),_e+=Te,!(_e<f))break;z++}}return O.length-z}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){const f=this._children.toArray();this._renderer.setStyle(f[f.length-1]._elementRef.nativeElement,"margin-right",this.wrapper&&f.length>1?this.scrollbarWidth:0)}}}return v.\u0275fac=function(f){return new(f||v)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(_.K0))},v.\u0275cmp=r.Xpm({type:v,selectors:[["drag-scroll"]],contentQueries:function(f,O,z){if(1&f&&r.Suo(z,B,5),2&f){let _e;r.iGM(_e=r.CRH())&&(O._children=_e)}},viewQuery:function(f,O){if(1&f&&r.Gf(q,7),2&f){let z;r.iGM(z=r.CRH())&&(O._contentRef=z.first)}},hostVars:2,hostBindings:function(f,O){1&f&&r.NdJ("wheel",function(_e){return O.onWheel(_e)})("resize",function(){return O.onWindowResize()},!1,r.Jf7),2&f&&r.Udp("pointer-events",O._pointerEvents)},inputs:{scrollbarHidden:["scrollbar-hidden","scrollbarHidden"],disabled:["drag-scroll-disabled","disabled"],xDisabled:["drag-scroll-x-disabled","xDisabled"],yDisabled:["drag-scroll-y-disabled","yDisabled"],xWheelEnabled:["scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:["drag-disabled","dragDisabled"],snapDisabled:["snap-disabled","snapDisabled"],snapOffset:["snap-offset","snapOffset"],snapDuration:["snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},features:[r.TTD],ngContentSelectors:J,decls:3,vars:0,consts:[[1,"drag-scroll-content"],["contentRef",""]],template:function(f,O){1&f&&(r.F$t(),r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"]}),v})(),ee=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=r.oAB({type:v}),v.\u0275inj=r.cJS({}),v})();function ae(v,G){if(1&v&&(r.TgZ(0,"drag-scroll"),r._UZ(1,"div",1),r.qZA()),2&v){const f=r.oxw();r.xp6(1),r.Q6J("innerHTML",f.ct,r.oJD)}}let ce=(()=>{class v{constructor(f){this.sanitizer=f}ngOnInit(){this.ct=this.sanitizer.bypassSecurityTrustHtml(this.item.contentDetail)}}return v.\u0275fac=function(f){return new(f||v)(r.Y36(H.H7))},v.\u0275cmp=r.Xpm({type:v,selectors:[["cms-html-content-viewer"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"draggable-cont",3,"innerHTML"]],template:function(f,O){1&f&&r.YNc(0,ae,2,1,"drag-scroll",0),2&f&&r.Q6J("ngIf",O.item.contentDetail)},directives:[_.O5,Y],styles:[""]}),v})();var M=Z(4968),a=Z(7579),d=Z(2076),t=Z(4482),l=Z(5403),u=Z(8421),C=Z(5032);function y(v){return(0,t.e)((G,f)=>{(0,u.Xf)(v).subscribe((0,l.x)(f,()=>f.complete(),C.Z)),!f.closed&&G.subscribe(f)})}var T=Z(6036),U=Z.t(T,2),j=Z(2813),W=Z.t(j,2);const X=["pdfViewerContainer"];function he(v,G,f){v[G]=f}function me(){return"undefined"==typeof window}me()||he(U,"verbosity",T.VerbosityLevel.INFOS);var K=(()=>{return(v=K||(K={}))[v.DISABLED=0]="DISABLED",v[v.ENABLED=1]="ENABLED",v[v.ENHANCED=2]="ENHANCED",K;var v})();let le=(()=>{class v{constructor(f,O){if(this.element=f,this.ngZone=O,this.isVisible=!1,this._cMapsUrl=void 0!==U?`https://unpkg.com/pdfjs-dist@${T.version}/cmaps/`:null,this._imageResourcesPath=void 0!==U?`https://unpkg.com/pdfjs-dist@${T.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=K.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new a.x,this.afterLoadComplete=new r.vpe,this.pageRendered=new r.vpe,this.pageInitialized=new r.vpe,this.textLayerRendered=new r.vpe,this.onError=new r.vpe,this.onProgress=new r.vpe,this.pageChange=new r.vpe(!0),me())return;let z;z=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${T.version}/legacy/build/pdf.worker.min.js`,he(T.GlobalWorkerOptions,"workerSrc",z)}set cMapsUrl(f){this._cMapsUrl=f}set page(f){const O=f=parseInt(f,10)||1;this._pdf&&(f=this.getValidPageNumber(f)),this._page=f,O!==f&&this.pageChange.emit(f)}set renderText(f){this._renderText=f}set renderTextMode(f){this._renderTextMode=f}set originalSize(f){this._originalSize=f}set showAll(f){this._showAll=f}set stickToPage(f){this._stickToPage=f}set zoom(f){f<=0||(this._zoom=f)}get zoom(){return this._zoom}set zoomScale(f){this._zoomScale=f}get zoomScale(){return this._zoomScale}set rotation(f){"number"==typeof f&&f%90==0?this._rotation=f:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(f){this._externalLinkTarget=f}set autoresize(f){this._canAutoResize=Boolean(f)}set fitToPage(f){this._fitToPage=Boolean(f)}set showBorders(f){this._showBorders=Boolean(f)}static getLinkTarget(f){switch(f){case"blank":return j.LinkTarget.BLANK;case"none":return j.LinkTarget.NONE;case"self":return j.LinkTarget.SELF;case"parent":return j.LinkTarget.PARENT;case"top":return j.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const f=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=f?!1===this.isVisible&&null!=f&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(f){if(!me()&&this.isVisible)if("src"in f)this.loadPDF();else if(this._pdf){if("renderText"in f?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:K.DISABLED,this.resetPdfDocument()):"showAll"in f&&(this.setupViewer(),this.resetPdfDocument()),"page"in f){const{page:O}=f;if(O.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,d.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(y(this.destroy$)).subscribe({next:f=>{const O=this._rotation||f.rotate,z=f.getViewport({scale:this._zoom,rotation:O}).width*v.CSS_UNITS;let _e=this._zoom,ye=!0;if(!this._originalSize||this._fitToPage&&z>this.pdfViewerContainer.nativeElement.clientWidth){const Ce=f.getViewport({scale:1,rotation:O});_e=this.getScale(Ce.width,Ce.height),ye=!this._stickToPage}this.pdfViewer._setScale(_e,ye)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const f=v.getLinkTarget(this._externalLinkTarget);return f?{externalLinkTarget:f}:{}}initEventBus(){this.eventBus=function Q(v,G){const f=new v.EventBus;return function te(v,G){(0,M.R)(v,"documentload").pipe(y(G)).subscribe(()=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(f)}),(0,M.R)(v,"pagerendered").pipe(y(G)).subscribe(({pageNumber:f,cssTransform:O,source:z})=>{const _e=document.createEvent("CustomEvent");_e.initCustomEvent("pagerendered",!0,!0,{pageNumber:f,cssTransform:O}),z.div.dispatchEvent(_e)}),(0,M.R)(v,"textlayerrendered").pipe(y(G)).subscribe(({pageNumber:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:f}),O.textLayerDiv.dispatchEvent(z)}),(0,M.R)(v,"pagechanging").pipe(y(G)).subscribe(({pageNumber:f,source:O})=>{const z=document.createEvent("UIEvents");z.initEvent("pagechanging",!0,!0),z.pageNumber=f,O.container.dispatchEvent(z)}),(0,M.R)(v,"pagesinit").pipe(y(G)).subscribe(({source:f})=>{const O=document.createEvent("CustomEvent");O.initCustomEvent("pagesinit",!0,!0,null),f.container.dispatchEvent(O)}),(0,M.R)(v,"pagesloaded").pipe(y(G)).subscribe(({pagesCount:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("pagesloaded",!0,!0,{pagesCount:f}),O.container.dispatchEvent(z)}),(0,M.R)(v,"scalechange").pipe(y(G)).subscribe(({scale:f,presetValue:O,source:z})=>{const _e=document.createEvent("UIEvents");_e.initEvent("scalechange",!0,!0),_e.scale=f,_e.presetValue=O,z.container.dispatchEvent(_e)}),(0,M.R)(v,"updateviewarea").pipe(y(G)).subscribe(({location:f,source:O})=>{const z=document.createEvent("UIEvents");z.initEvent("updateviewarea",!0,!0),z.location=f,O.container.dispatchEvent(z)}),(0,M.R)(v,"find").pipe(y(G)).subscribe(({source:f,type:O,query:z,phraseSearch:_e,caseSensitive:ye,highlightAll:Ce,findPrevious:xe})=>{if(f===window)return;const Te=document.createEvent("CustomEvent");Te.initCustomEvent("find"+O,!0,!0,{query:z,phraseSearch:_e,caseSensitive:ye,highlightAll:Ce,findPrevious:xe}),window.dispatchEvent(Te)}),(0,M.R)(v,"attachmentsloaded").pipe(y(G)).subscribe(({attachmentsCount:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:f}),O.container.dispatchEvent(z)}),(0,M.R)(v,"sidebarviewchanged").pipe(y(G)).subscribe(({view:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("sidebarviewchanged",!0,!0,{view:f}),O.outerContainer.dispatchEvent(z)}),(0,M.R)(v,"pagemode").pipe(y(G)).subscribe(({mode:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("pagemode",!0,!0,{mode:f}),O.pdfViewer.container.dispatchEvent(z)}),(0,M.R)(v,"namedaction").pipe(y(G)).subscribe(({action:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("namedaction",!0,!0,{action:f}),O.pdfViewer.container.dispatchEvent(z)}),(0,M.R)(v,"presentationmodechanged").pipe(y(G)).subscribe(({active:f,switchInProgress:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("presentationmodechanged",!0,!0,{active:f,switchInProgress:O}),window.dispatchEvent(z)}),(0,M.R)(v,"outlineloaded").pipe(y(G)).subscribe(({outlineCount:f,source:O})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("outlineloaded",!0,!0,{outlineCount:f}),O.container.dispatchEvent(z)})}(f,G),f}(W,this.destroy$),(0,M.R)(this.eventBus,"pagerendered").pipe(y(this.destroy$)).subscribe(f=>{this.pageRendered.emit(f)}),(0,M.R)(this.eventBus,"pagesinit").pipe(y(this.destroy$)).subscribe(f=>{this.pageInitialized.emit(f)}),(0,M.R)(this.eventBus,"pagechanging").pipe(y(this.destroy$)).subscribe(({pageNumber:f})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=f,this.pageChange.emit(f)},100)}),(0,M.R)(this.eventBus,"textlayerrendered").pipe(y(this.destroy$)).subscribe(f=>{this.textLayerRendered.emit(f)})}initPDFServices(){this.pdfLinkService=new j.PDFLinkService(Object.assign({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new j.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:K.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){he(U,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new j.PDFViewer(this.getPDFOptions()):new j.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(f){return f<1?1:f>this._pdf.numPages?this._pdf.numPages:f}getDocumentParams(){const f=typeof this.src;if(!this._cMapsUrl)return this.src;const O={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===f?O.url=this.src:"object"===f&&(void 0!==this.src.byteLength?O.data=this.src:Object.assign(O,this.src)),O}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=T.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=O=>{this.onProgress.emit(O)};const f=this.src;(0,d.D)(this.loadingTask.promise).pipe(y(this.destroy$)).subscribe({next:O=>{this._pdf=O,this.lastLoaded=f,this.afterLoadComplete.emit(O),this.resetPdfDocument(),this.update()},error:O=>{this.lastLoaded=null,this.onError.emit(O)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(f,O){const z=this._showBorders?2*v.BORDER_WIDTH:0,_e=this.pdfViewerContainer.nativeElement.clientWidth-z,ye=this.pdfViewerContainer.nativeElement.clientHeight-z;if(0===ye||0===O||0===_e||0===f)return 1;let Ce=1;switch(this._zoomScale){case"page-fit":Ce=Math.min(ye/O,_e/f);break;case"page-height":Ce=ye/O;break;default:Ce=_e/f}return this._zoom*Ce/v.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){me()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){me()||this.ngZone.runOutsideAngular(()=>{(0,M.R)(window,"resize").pipe((0,b.b)(100),(0,L.h)(()=>this._canAutoResize&&!!this._pdf),y(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return v.CSS_UNITS=96/72,v.BORDER_WIDTH=9,v.\u0275fac=function(f){return new(f||v)(r.Y36(r.SBq),r.Y36(r.R0b))},v.\u0275cmp=r.Xpm({type:v,selectors:[["pdf-viewer"]],viewQuery:function(f,O){if(1&f&&r.Gf(X,5),2&f){let z;r.iGM(z=r.CRH())&&(O.pdfViewerContainer=z.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[r.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(f,O){1&f&&(r.TgZ(0,"div",0,1),r._UZ(2,"div",2),r.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),v})(),oe=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=r.oAB({type:v}),v.\u0275inj=r.cJS({}),v})();var x=Z(2492),I=Z(3075);function $(v,G){if(1&v&&r._UZ(0,"cms-html-content-viewer",5),2&v){const f=r.oxw(2);r.Q6J("item",f.content)}}function ue(v,G){if(1&v){const f=r.EpF();r.TgZ(0,"div")(1,"pagination",9),r.NdJ("ngModelChange",function(z){return r.CHM(f),r.oxw(3).pdf_page=z}),r.qZA()()}if(2&v){const f=r.oxw(3);r.xp6(1),r.Q6J("itemsPerPage",1)("totalItems",f.pdf_total_pages)("ngModel",f.pdf_page)("maxSize",5)}}function de(v,G){if(1&v){const f=r.EpF();r.TgZ(0,"div",6)(1,"pdf-viewer",7),r.NdJ("after-load-complete",function(z){return r.CHM(f),r.oxw(2).callBackFn(z)})("pageChange",function(z){return r.CHM(f),r.oxw(2).pdf_page=z}),r.qZA(),r.YNc(2,ue,2,4,"div",8),r.qZA()}if(2&v){const f=r.oxw(2);r.xp6(1),r.Q6J("src",f.content.contentDetail)("render-text",!1)("fit-to-page",!0)("show-all",!1)("zoom-scale","page-fit")("original-size",!1)("autoresize",!0)("page",f.pdf_page),r.xp6(1),r.Q6J("ngIf",f.pdf_total_pages>1)}}function pe(v,G){1&v&&(r.TgZ(0,"div"),r._uU(1,"Unsupported content"),r.qZA())}function be(v,G){if(1&v&&(r.TgZ(0,"div",1),r.YNc(1,$,1,1,"cms-html-content-viewer",2),r.YNc(2,de,3,9,"div",3),r.YNc(3,pe,2,0,"div",4),r.qZA()),2&v){const f=r.oxw();r.Q6J("ngSwitch",f.content.contentType),r.xp6(1),r.Q6J("ngSwitchCase",1),r.xp6(1),r.Q6J("ngSwitchCase",2)}}let Ae=(()=>{class v{constructor(f,O){this.menu_service=f,this.app_loader_service=O,this._cms_content_id=new m.X(0),this._subscriptions=[],this.pdf_page=1,this.pdf_total_pages=0}set cms_content_id(f){this._cms_content_id.next(f)}get cms_content_id(){return this._cms_content_id.getValue()}ngOnDestroy(){this._subscriptions.forEach(f=>f.unsubscribe())}ngOnInit(){const f=this._cms_content_id.pipe((0,b.b)(200),(0,S.x)(),(0,L.h)(O=>0!=O),(0,F.b)(O=>this.content=void 0),(0,D.w)(O=>(this.app_loader_service.loading_start(),this.menu_service.get_menu_content(+O)))).subscribe(O=>{this.app_loader_service.loading_end(),2==O.contentType&&(this.pdf_page=1,this.pdf_total_pages=0,this.app_loader_service.loading_start(),O.contentDetail=`${V.N.api}/assets/uploads${O.contentDetail}`),this.content=O});this._subscriptions.push(f)}callBackFn(f){this.pdf_total_pages=f.numPages,this.app_loader_service.loading_end()}}return v.\u0275fac=function(f){return new(f||v)(r.Y36(h.h),r.Y36(P.P))},v.\u0275cmp=r.Xpm({type:v,selectors:[["cms-content-viewer"]],inputs:{cms_content_id:"cms_content_id"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"item",4,"ngSwitchCase"],["class","pdf-viewer",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"item"],[1,"pdf-viewer"],[3,"src","render-text","fit-to-page","show-all","zoom-scale","original-size","autoresize","page","after-load-complete","pageChange"],[4,"ngIf"],[3,"itemsPerPage","totalItems","ngModel","maxSize","ngModelChange"]],template:function(f,O){1&f&&r.YNc(0,be,4,3,"div",0),2&f&&r.Q6J("ngIf",O.content)},directives:[_.O5,_.RF,_.n9,ce,le,x.Qt,I.JJ,I.On,_.ED],styles:[".html-cont[_ngcontent-%COMP%]{overflow:auto;cursor:grab}.pdf-viewer[_ngcontent-%COMP%]{height:1100px}pdf-viewer[_ngcontent-%COMP%]{height:100%;max-width:1000px}"]}),v})();const Ee=[{path:":grandParentTitle/:pageTitle/:pageId",component:(()=>{class v{constructor(f,O,z,_e){this.route=f,this.router=O,this.app_loader=z,this.menu_service=_e,this.sidebar_content=[],this.title="",this._subscriptions=[],this.content_id$=(0,ie.a)([this.route.paramMap.pipe((0,ne.U)(ye=>ye.get("pageId"))),this.route.queryParamMap.pipe((0,ne.U)(ye=>ye.get("content")))]).pipe((0,ne.U)(ye=>{var Ce;return ye[1]?+ye[1]:+(null!==(Ce=ye[0])&&void 0!==Ce?Ce:0)}))}ngOnInit(){this.set_up_page();const f=this.route.paramMap.pipe((0,ne.U)(O=>O.get("pageId"))).subscribe(O=>{this.set_up_page()});this._subscriptions.push(f)}ngOnDestroy(){this._subscriptions.forEach(f=>f.unsubscribe())}set_up_page(){var f;const O=this.route.snapshot.queryParamMap.get("content"),z=+(null!==(f=this.route.snapshot.paramMap.get("pageId"))&&void 0!==f?f:0);O||(this.sidebar_content=this.default_sidebar()),(O?this.menu_service.get_top_menu_tree(+z):(0,N.of)(this.default_sidebar())).subscribe(ye=>{if(O){const Ce=h.h.get_first_grandchild(ye[0]);this.title=Ce.menuLabel}else this.title="";this.sidebar_content=ye,this.app_loader.loading_end()})}default_sidebar(){return(0,A.JG)(E).map((O,z)=>({children:[],isPublished:!0,menuId:0,menuLabel:O.title,menuOrder:z,menuParent:0}))}navigate(f){const O={content:f.menuId};this.title=f.menuLabel,this.router.navigate([],{relativeTo:this.route,queryParams:O,queryParamsHandling:"merge"})}}return v.\u0275fac=function(f){return new(f||v)(r.Y36(re.gz),r.Y36(re.F0),r.Y36(P.P),r.Y36(h.h))},v.\u0275cmp=r.Xpm({type:v,selectors:[["app-default-cms"]],decls:15,vars:6,consts:[["cms",""],[1,"bg-white","py-5","mayora-overflow-fix"],[1,"container","layout-container"],[1,"row"],[1,"col-md-4"],[3,"items","on_select"],[1,"col-md-8"],[1,"cms-cont","ms-3"],[1,"cms-title","mb-3","p-relative",3,"hidden"],[1,"priority"],[3,"cms_content_id"]],template:function(f,O){1&f&&(r.TgZ(0,"div",null,0),r._UZ(2,"util-page-title"),r.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"shrd-sidebar",5),r.NdJ("on_select",function(_e){return O.navigate(_e)}),r.qZA()(),r.TgZ(8,"div",6)(9,"div",7)(10,"h2",8),r._UZ(11,"div",9),r._uU(12),r.qZA(),r._UZ(13,"cms-content-viewer",10),r.ALo(14,"async"),r.qZA()()()()()()),2&f&&(r.xp6(7),r.Q6J("items",O.sidebar_content),r.xp6(3),r.Q6J("hidden",!O.title),r.xp6(2),r.hij(" ",O.title," "),r.xp6(1),r.Q6J("cms_content_id",r.lcZ(14,4,O.content_id$)))},directives:[o.T,i,Ae],pipes:[_.Ov],styles:[""]}),v})()}];let Me=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=r.oAB({type:v}),v.\u0275inj=r.cJS({imports:[[re.Bz.forChild(Ee)],re.Bz]}),v})();var se=Z(2234);let R=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=r.oAB({type:v}),v.\u0275inj=r.cJS({imports:[[_.ez,Me,fe.A,s.f,ee,oe,x.u3,I.u5,se.m]]}),v})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,Z;Z=()=>(()=>{"use strict";var __webpack_modules__=[,(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.VerbosityLevel=k.Util=k.UnknownErrorException=k.UnexpectedResponseException=k.UNSUPPORTED_FEATURES=k.TextRenderingMode=k.StreamType=k.RenderingIntentFlag=k.PermissionFlag=k.PasswordResponses=k.PasswordException=k.PageActionEventType=k.OPS=k.MissingPDFException=k.InvalidPDFException=k.ImageKind=k.IDENTITY_MATRIX=k.FormatError=k.FontType=k.FeatureTest=k.FONT_IDENTITY_MATRIX=k.DocumentActionEventType=k.CMapCompressionType=k.BaseException=k.AnnotationType=k.AnnotationStateModelType=k.AnnotationReviewState=k.AnnotationReplyType=k.AnnotationMode=k.AnnotationMarkedState=k.AnnotationFlag=k.AnnotationFieldFlag=k.AnnotationBorderStyleType=k.AnnotationActionEventType=k.AbortException=void 0,k.arrayByteLength=j,k.arraysToBytes=function W(se){const R=se.length;if(1===R&&se[0]instanceof Uint8Array)return se[0];let v=0;for(let O=0;O<R;O++)v+=j(se[O]);let G=0;const f=new Uint8Array(v);for(let O=0;O<R;O++){let z=se[O];z instanceof Uint8Array||(z="string"==typeof z?U(z):new Uint8Array(z));const _e=z.byteLength;f.set(z,G),G+=_e}return f},k.assert=function Y(se,R){se||B(R)},k.bytesToString=function T(se){("object"!=typeof se||null===se||void 0===se.length)&&B("Invalid argument for bytesToString");const R=se.length,v=8192;if(R<v)return String.fromCharCode.apply(null,se);const G=[];for(let f=0;f<R;f+=v){const O=Math.min(f+v,R),z=se.subarray(f,O);G.push(String.fromCharCode.apply(null,z))}return G.join("")},k.createPromiseCapability=function Me(){const se=Object.create(null);let R=!1;return Object.defineProperty(se,"settled",{get:()=>R}),se.promise=new Promise(function(v,G){se.resolve=function(f){R=!0,v(f)},se.reject=function(f){R=!0,G(f)}}),se},k.createValidAbsoluteUrl=function ae(se,R=null,v=null){if(!se)return null;try{if(v&&"string"==typeof se){if(v.addDefaultProtocol&&se.startsWith("www.")){const f=se.match(/\./g);f&&f.length>=2&&(se=`http://${se}`)}if(v.tryConvertEncoding)try{se=pe(se)}catch(f){}}const G=R?new URL(se,R):new URL(se);if(function ee(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(G))return G}catch(G){}return null},k.escapeString=function $(se){return se.replace(/([()\\\n\r])/g,R=>"\n"===R?"\\n":"\r"===R?"\\r":`\\${R}`)},k.getModificationDate=function Ee(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")},k.getVerbosityLevel=function H(){return D},k.info=function q(se){D>=m.INFOS&&console.log(`Info: ${se}`)},k.isArrayBuffer=function Ae(se){return"object"==typeof se&&null!==se&&void 0!==se.byteLength},k.isArrayEqual=function we(se,R){if(se.length!==R.length)return!1;for(let v=0,G=se.length;v<G;v++)if(se[v]!==R[v])return!1;return!0},k.isAscii=function ue(se){return/^[\x00-\x7F]*$/.test(se)},k.objectFromMap=function te(se){const R=Object.create(null);for(const[v,G]of se)R[v]=G;return R},k.objectSize=function Q(se){return Object.keys(se).length},k.setVerbosityLevel=function V(se){Number.isInteger(se)&&(D=se)},k.shadow=ce,k.string32=function X(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,255&se)},k.stringToBytes=U,k.stringToPDFString=function I(se){if(se[0]>="\xef"){let v;if("\xfe"===se[0]&&"\xff"===se[1]?v="utf-16be":"\xff"===se[0]&&"\xfe"===se[1]?v="utf-16le":"\xef"===se[0]&&"\xbb"===se[1]&&"\xbf"===se[2]&&(v="utf-8"),v)try{const G=new TextDecoder(v,{fatal:!0}),f=U(se);return G.decode(f)}catch(G){J(`stringToPDFString: "${G}".`)}}const R=[];for(let v=0,G=se.length;v<G;v++){const f=x[se.charCodeAt(v)];R.push(f?String.fromCharCode(f):se.charAt(v))}return R.join("")},k.stringToUTF16BEString=function de(se){const R=["\xfe\xff"];for(let v=0,G=se.length;v<G;v++){const f=se.charCodeAt(v);R.push(String.fromCharCode(f>>8&255),String.fromCharCode(255&f))}return R.join("")},k.stringToUTF8String=pe,k.unreachable=B,k.utf8StringToString=function be(se){return unescape(encodeURIComponent(se))},k.warn=J,Z(2),k.IDENTITY_MATRIX=[1,0,0,1,0,0],k.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],k.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},k.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},k.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},k.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},k.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},k.AnnotationReplyType={GROUP:"Group",REPLY:"R"},k.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},k.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},k.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},k.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},k.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},k.PageActionEventType={O:"PageOpen",C:"PageClose"},k.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},k.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const m={ERRORS:0,WARNINGS:1,INFOS:5};k.VerbosityLevel=m,k.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},k.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},k.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},k.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let D=m.WARNINGS;function J(se){D>=m.WARNINGS&&console.log(`Warning: ${se}`)}function B(se){throw new Error(se)}function ce(se,R,v){return Object.defineProperty(se,R,{value:v,enumerable:!0,configurable:!0,writable:!1}),v}const M=function(){function R(v,G){this.constructor===R&&B("Cannot initialize BaseException."),this.message=v,this.name=G}return R.prototype=new Error,R.constructor=R,R}();function U(se){"string"!=typeof se&&B("Invalid argument for stringToBytes");const R=se.length,v=new Uint8Array(R);for(let G=0;G<R;++G)v[G]=255&se.charCodeAt(G);return v}function j(se){return void 0!==se.length?se.length:void 0!==se.byteLength?se.byteLength:void B("Invalid argument for arrayByteLength")}k.BaseException=M,k.PasswordException=class a extends M{constructor(R,v){super(R,"PasswordException"),this.code=v}},k.UnknownErrorException=class d extends M{constructor(R,v){super(R,"UnknownErrorException"),this.details=v}},k.InvalidPDFException=class t extends M{constructor(R){super(R,"InvalidPDFException")}},k.MissingPDFException=class l extends M{constructor(R){super(R,"MissingPDFException")}},k.UnexpectedResponseException=class u extends M{constructor(R,v){super(R,"UnexpectedResponseException"),this.status=v}},k.FormatError=class C extends M{constructor(R){super(R,"FormatError")}},k.AbortException=class y extends M{constructor(R){super(R,"AbortException")}},k.FeatureTest=class K{static get isLittleEndian(){return ce(this,"isLittleEndian",function he(){const se=new Uint8Array(4);return se[0]=1,1===new Uint32Array(se.buffer,0,1)[0]}())}static get isEvalSupported(){return ce(this,"isEvalSupported",function me(){try{return new Function(""),!0}catch(se){return!1}}())}static get isOffscreenCanvasSupported(){return ce(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const le=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class oe{static makeHexColor(R,v,G){return`#${le[R]}${le[v]}${le[G]}`}static scaleMinMax(R,v){let G;R[0]?(R[0]<0&&(G=v[0],v[0]=v[1],v[1]=G),v[0]*=R[0],v[1]*=R[0],R[3]<0&&(G=v[2],v[2]=v[3],v[3]=G),v[2]*=R[3],v[3]*=R[3]):(G=v[0],v[0]=v[2],v[2]=G,G=v[1],v[1]=v[3],v[3]=G,R[1]<0&&(G=v[2],v[2]=v[3],v[3]=G),v[2]*=R[1],v[3]*=R[1],R[2]<0&&(G=v[0],v[0]=v[1],v[1]=G),v[0]*=R[2],v[1]*=R[2]),v[0]+=R[4],v[1]+=R[4],v[2]+=R[5],v[3]+=R[5]}static transform(R,v){return[R[0]*v[0]+R[2]*v[1],R[1]*v[0]+R[3]*v[1],R[0]*v[2]+R[2]*v[3],R[1]*v[2]+R[3]*v[3],R[0]*v[4]+R[2]*v[5]+R[4],R[1]*v[4]+R[3]*v[5]+R[5]]}static applyTransform(R,v){return[R[0]*v[0]+R[1]*v[2]+v[4],R[0]*v[1]+R[1]*v[3]+v[5]]}static applyInverseTransform(R,v){const G=v[0]*v[3]-v[1]*v[2];return[(R[0]*v[3]-R[1]*v[2]+v[2]*v[5]-v[4]*v[3])/G,(-R[0]*v[1]+R[1]*v[0]+v[4]*v[1]-v[5]*v[0])/G]}static getAxialAlignedBoundingBox(R,v){const G=oe.applyTransform(R,v),f=oe.applyTransform(R.slice(2,4),v),O=oe.applyTransform([R[0],R[3]],v),z=oe.applyTransform([R[2],R[1]],v);return[Math.min(G[0],f[0],O[0],z[0]),Math.min(G[1],f[1],O[1],z[1]),Math.max(G[0],f[0],O[0],z[0]),Math.max(G[1],f[1],O[1],z[1])]}static inverseTransform(R){const v=R[0]*R[3]-R[1]*R[2];return[R[3]/v,-R[1]/v,-R[2]/v,R[0]/v,(R[2]*R[5]-R[4]*R[3])/v,(R[4]*R[1]-R[5]*R[0])/v]}static apply3dTransform(R,v){return[R[0]*v[0]+R[1]*v[1]+R[2]*v[2],R[3]*v[0]+R[4]*v[1]+R[5]*v[2],R[6]*v[0]+R[7]*v[1]+R[8]*v[2]]}static singularValueDecompose2dScale(R){const v=[R[0],R[2],R[1],R[3]],G=R[0]*v[0]+R[1]*v[2],z=R[2]*v[1]+R[3]*v[3],_e=(G+z)/2,ye=Math.sqrt((G+z)**2-4*(G*z-(R[2]*v[0]+R[3]*v[2])*(R[0]*v[1]+R[1]*v[3])))/2,xe=_e-ye||1;return[Math.sqrt(_e+ye||1),Math.sqrt(xe)]}static normalizeRect(R){const v=R.slice(0);return R[0]>R[2]&&(v[0]=R[2],v[2]=R[0]),R[1]>R[3]&&(v[1]=R[3],v[3]=R[1]),v}static intersect(R,v){const G=Math.max(Math.min(R[0],R[2]),Math.min(v[0],v[2])),f=Math.min(Math.max(R[0],R[2]),Math.max(v[0],v[2]));if(G>f)return null;const O=Math.max(Math.min(R[1],R[3]),Math.min(v[1],v[3])),z=Math.min(Math.max(R[1],R[3]),Math.max(v[1],v[3]));return O>z?null:[G,O,f,z]}static bezierBoundingBox(R,v,G,f,O,z,_e,ye){const Ce=[],xe=[[],[]];let Te,Le,Ne,ke,Fe,Be,Ie,Ve;for(let Xe=0;Xe<2;++Xe)if(0===Xe?(Le=6*R-12*G+6*O,Te=-3*R+9*G-9*O+3*_e,Ne=3*G-3*R):(Le=6*v-12*f+6*z,Te=-3*v+9*f-9*z+3*ye,Ne=3*f-3*v),Math.abs(Te)<1e-12){if(Math.abs(Le)<1e-12)continue;ke=-Ne/Le,0<ke&&ke<1&&Ce.push(ke)}else Ie=Le*Le-4*Ne*Te,Ve=Math.sqrt(Ie),!(Ie<0)&&(Fe=(-Le+Ve)/(2*Te),0<Fe&&Fe<1&&Ce.push(Fe),Be=(-Le-Ve)/(2*Te),0<Be&&Be<1&&Ce.push(Be));let Oe,De=Ce.length;const Ue=De;for(;De--;)ke=Ce[De],Oe=1-ke,xe[0][De]=Oe*Oe*Oe*R+3*Oe*Oe*ke*G+3*Oe*ke*ke*O+ke*ke*ke*_e,xe[1][De]=Oe*Oe*Oe*v+3*Oe*Oe*ke*f+3*Oe*ke*ke*z+ke*ke*ke*ye;return xe[0][Ue]=R,xe[1][Ue]=v,xe[0][Ue+1]=_e,xe[1][Ue+1]=ye,xe[0].length=xe[1].length=Ue+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}k.Util=oe;const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pe(se){return decodeURIComponent(escape(se))}},(ge,k,Z)=>{Z(3)},(ge,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.isNodeJS=void 0;const Z=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);k.isNodeJS=Z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ge,Z,_,fe,re,ie,ne,N,h,nt,A;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:P,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:s}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=P,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=s}function setPDFNetworkStreamFactory(P){createPDFNetworkStream=P}function getDocument(P){const o=new PDFDocumentLoadingTask;let s;if("string"==typeof P||P instanceof URL)s={url:P};else if((0,_util.isArrayBuffer)(P))s={data:P};else if(P instanceof PDFDataRangeTransport)s={range:P};else{if("object"!=typeof P)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!P.url&&!P.data&&!P.range)throw new Error("Invalid parameter object: need either .data, .range or .url");s=P}const n=Object.create(null);let c=null,w=null;for(const g in s){const e=s[g];switch(g){case"url":if("undefined"!=typeof window)try{n[g]=new URL(e,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof e||e instanceof URL){n[g]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=e;continue;case"worker":w=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)n[g]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)n[g]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[g]=new Uint8Array(e)}else n[g]=new Uint8Array(e)}continue}n[g]=e}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!w){const g={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};w=g.port?PDFWorker.fromPort(g):new PDFWorker(g),o._worker=w}const p=o.docId;return w.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const g=_fetchDocument(w,n,c,p),e=new Promise(function(i){let m;c?m=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},c):n.data||(m=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),i(m)});return Promise.all([g,e]).then(function([i,m]){if(o.destroyed)throw new Error("Loading aborted");const b=new _message_handler.MessageHandler(p,i,w.port),S=new WorkerTransport(b,o,m,n);o._transport=S,b.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(P,o,s,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(P,o,s,n){if(P.destroyed)throw new Error("Worker was destroyed");s&&(o.length=s.length,o.initialData=s.initialData,o.progressiveDone=s.progressiveDone,o.contentDispositionFilename=s.contentDispositionFilename);const c=yield P.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(P.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}const k=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+tt(k,ge)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){var s;o.destroyed=!0,yield null==(s=o._transport)?void 0:s.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}};let PDFDocumentLoadingTask=k;ge=new WeakMap,Pe(PDFDocumentLoadingTask,ge,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,s,n=!1,c=null){this.length=o,this.initialData=s,this.progressiveDone=n,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,s){for(const n of this._rangeListeners)n(o,s)}onDataProgress(o,s){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(o,s)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,s){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,s){var c,n=this;this._pdfInfo=o,this._transport=s,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,s,n,c,w=!1){this._pageIndex=o,this._pageInfo=s,this._ownerDocument=c,this._transport=n,this._stats=w?new _display_utils.StatTimer:null,this._pdfBug=w,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:s=this.rotate,offsetX:n=0,offsetY:c=0,dontFlip:w=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:s,offsetX:n,offsetY:c,dontFlip:w})}getAnnotations({intent:o="display"}={}){const s=this._transport.getRenderingIntent(o);let n=this._annotationPromises.get(s.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,s.renderingIntent),this._annotationPromises.set(s.cacheKey,n),n=n.then(c=>{for(const w of c)void 0!==w.titleObj&&Object.defineProperty(w,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),w.titleObj.str)}),void 0!==w.contentsObj&&Object.defineProperty(w,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),w.contentsObj.str)});return c})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){var s;return(null==(s=o._transport._htmlForXfa)?void 0:s.children[o._pageIndex])||null})()}render({canvasContext:o,viewport:s,intent:n="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:w=null,imageLayer:p=null,canvasFactory:g=null,background:e=null,optionalContentConfigPromise:i=null,annotationCanvasMap:m=null,pageColors:b=null}){var J,B;void 0!==(null==(J=arguments[0])?void 0:J.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(B=arguments[0])?void 0:B.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const S=this._transport.getRenderingIntent(n,c);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let L=this._intentStates.get(S.cacheKey);L||(L=Object.create(null),this._intentStates.set(S.cacheKey,L)),L.streamReaderCancelTimeout&&(clearTimeout(L.streamReaderCancelTimeout),L.streamReaderCancelTimeout=null);const F=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),D=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);L.displayReadyCapability||(L.displayReadyCapability=(0,_util.createPromiseCapability)(),L.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(S));const V=Y=>{L.renderTasks.delete(H),(this.cleanupAfterRender||D)&&(this.pendingCleanup=!0),this._tryCleanup(),Y?(H.capability.reject(Y),this._abortOperatorList({intentState:L,reason:Y instanceof Error?Y:new Error(Y)})):H.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},H=new InternalRenderTask({callback:V,params:{canvasContext:o,viewport:s,transform:w,imageLayer:p,background:e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:L.operatorList,pageIndex:this._pageIndex,canvasFactory:F,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:b});(L.renderTasks||(L.renderTasks=new Set)).add(H);const q=H.task;return Promise.all([L.displayReadyCapability.promise,i]).then(([Y,ee])=>{this.pendingCleanup?V():(this._stats&&this._stats.time("Rendering"),H.initializeGraphics({transparency:Y,optionalContentConfig:ee}),H.operatorListChanged())}).catch(V),q}getOperatorList({intent:o="display",annotationMode:s=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(o,s,!0);let p,w=this._intentStates.get(c.cacheKey);return w||(w=Object.create(null),this._intentStates.set(c.cacheKey,w)),w.opListReadCapability||(p=Object.create(null),p.operatorListChanged=function n(){w.operatorList.lastChunk&&(w.opListReadCapability.resolve(w.operatorList),w.renderTasks.delete(p))},w.opListReadCapability=(0,_util.createPromiseCapability)(),(w.renderTasks||(w.renderTasks=new Set)).add(p),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),w.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===s},{highWaterMark:100,size:c=>c.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const s=this.streamTextContent(o);return new Promise(function(n,c){const p=s.getReader(),g={items:[],styles:Object.create(null)};!function w(){p.read().then(function({value:e,done:i}){i?n(g):(Object.assign(g.styles,e.styles),g.items.push(...e.items),w())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const n of s.renderTasks)o.push(n.completed),n.cancel();this.objs.clear();for(const s of this._bitmaps)s.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:s,operatorList:n}of this._intentStates.values())if(s.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const s of this._bitmaps)s.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,s){const n=this._intentStates.get(s);!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(o))}_renderPageChunk(o,s){for(let n=0,c=o.length;n<c;n++)s.operatorList.fnArray.push(o.fnArray[n]),s.operatorList.argsArray.push(o.argsArray[n]);s.operatorList.lastChunk=o.lastChunk;for(const n of s.renderTasks)n.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:s}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:s,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),w=this._intentStates.get(s);w.streamReader=c;const p=()=>{c.read().then(({value:g,done:e})=>{e?w.streamReader=null:this._transport.destroyed||(this._renderPageChunk(g,w),p())},g=>{if(w.streamReader=null,!this._transport.destroyed){if(w.operatorList){w.operatorList.lastChunk=!0;for(const e of w.renderTasks)e.operatorListChanged();this._tryCleanup()}if(w.displayReadyCapability)w.displayReadyCapability.reject(g);else{if(!w.opListReadCapability)throw g;w.opListReadCapability.reject(g)}}})};p()}_abortOperatorList({intentState:o,reason:s,force:n=!1}){if(o.streamReader){if(!n){if(o.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:s,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[c,w]of this._intentStates)if(w===o){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,s){const n={data:structuredClone(o,s)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,n)})}addEventListener(o,s){this._listeners.push(s)}removeEventListener(o,s){const n=this._listeners.indexOf(s);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const P=null==(Z=null==document?void 0:document.currentScript)?void 0:Z.src;P&&(PDFWorkerUtil.fallbackWorkerSrc=P.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(P,o){let s;try{if(s=new URL(P),!s.origin||"null"===s.origin)return!1}catch(c){return!1}const n=new URL(o,s);return s.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(P){return URL.createObjectURL(new Blob([`importScripts("${P}");`]))};const _PDFWorker=class{constructor({name:P=null,port:o=null,verbosity:s=(0,_util.getVerbosityLevel)()}={}){if(o&&ve(_PDFWorker,_).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=P,this.destroyed=!1,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return ve(_PDFWorker,_).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(P){this._port=P,this._messageHandler=new _message_handler.MessageHandler("main","worker",P),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let P=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,P)||(P=PDFWorkerUtil.createCDNWrapper(new URL(P,window.location).href));const o=new Worker(P),s=new _message_handler.MessageHandler("main","worker",o),n=()=>{o.removeEventListener("error",c),s.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||n()};o.addEventListener("error",c),s.on("test",p=>{o.removeEventListener("error",c),this.destroyed?n():p?(this._messageHandler=s,this._port=o,this._webWorker=o,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),o.terminate())}),s.on("ready",p=>{if(o.removeEventListener("error",c),this.destroyed)n();else try{w()}catch(g){this._setupFakeWorker()}});const w=()=>{const p=new Uint8Array;s.send("test",p,[p.buffer])};return void w()}catch(o){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(P=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const s="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(s+"_worker",s,o);P.setup(n,o);const c=new _message_handler.MessageHandler(s,s+"_worker",o);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(P=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${P.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ve(_PDFWorker,_).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(P){if(!(null==P?void 0:P.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ve(this,_).has(P.port)?ve(this,_).get(P.port):new _PDFWorker(P)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var P;try{return(null==(P=globalThis.pdfjsWorker)?void 0:P.WorkerMessageHandler)||null}catch(o){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function P(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;_=new WeakMap,Pe(PDFWorker,_,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(o,s,n,c){Pe(this,fe,null),Pe(this,re,new Map),Pe(this,ie,new Map),Pe(this,ne,null),this.messageHandler=o,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:s.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ve(this,fe)}getRenderingIntent(o,s=_util.AnnotationMode.ENABLE,n=!1){let c=_util.RenderingIntentFlag.DISPLAY,w="";switch(o){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(s){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,w=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${s}`)}return n&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${w}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const n of ve(this,re).values())o.push(n._destroy());ve(this,re).clear(),ve(this,ie).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return o.push(s),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Re(this,ne,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:s}=this;o.on("GetReader",(n,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=w=>{this._lastProgress={loaded:w.loaded,total:w.total}},c.onPull=()=>{this._fullReader.read().then(function({value:w,done:p}){p?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(w),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(w),1,[w]))}).catch(w=>{c.error(w)})},c.onCancel=w=>{this._fullReader.cancel(w),c.ready.catch(p=>{if(!this.destroyed)throw p})}}),o.on("ReaderHeadersReady",n=>{const c=(0,_util.createPromiseCapability)(),w=this._fullReader;return w.headersReady.then(()=>{var p;(!w.isStreamingSupported||!w.isRangeSupported)&&(this._lastProgress&&(null==(p=s.onProgress)||p.call(s,this._lastProgress)),w.onProgress=g=>{var e;null==(e=s.onProgress)||e.call(s,{loaded:g.loaded,total:g.total})}),c.resolve({isStreamingSupported:w.isStreamingSupported,isRangeSupported:w.isRangeSupported,contentLength:w.contentLength})},c.reject),c.promise}),o.on("GetRangeReader",(n,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const w=this._networkStream.getRangeReader(n.begin,n.end);w?(c.onPull=()=>{w.read().then(function({value:p,done:g}){g?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(p),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(p),1,[p]))}).catch(p=>{c.error(p)})},c.onCancel=p=>{w.cancel(p),c.ready.catch(g=>{if(!this.destroyed)throw g})}):c.close()}),o.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(n,this))}),o.on("DocException",function(n){let c;switch(n.name){case"PasswordException":c=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":c=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}s._capability.reject(c)}),o.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),s.onPassword){const c=w=>{w instanceof Error?this._passwordCapability.reject(w):this._passwordCapability.resolve({password:w})};try{s.onPassword(c,n.code)}catch(w){this._passwordCapability.reject(w)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),o.on("DataLoaded",n=>{var c;null==(c=s.onProgress)||c.call(s,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),o.on("StartRenderPage",n=>{this.destroyed||ve(this,re).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),o.on("commonobj",([n,c,w])=>{var p;if(!this.destroyed&&!this.commonObjs.has(n))switch(c){case"Font":const g=this._params;if("error"in w){const m=w.error;(0,_util.warn)(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}let e=null;g.pdfBug&&(null==(p=globalThis.FontInspector)?void 0:p.enabled)&&(e={registerFont(m,b){globalThis.FontInspector.fontAdded(m,b)}});const i=new _font_loader.FontFaceObject(w,{isEvalSupported:g.isEvalSupported,disableFontFace:g.disableFontFace,ignoreErrors:g.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(i).catch(m=>o.sendWithPromise("FontFallback",{id:n})).finally(()=>{!g.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(n,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,w);break;default:throw new Error(`Got unknown common object type ${c}`)}}),o.on("obj",([n,c,w,p])=>{var e;if(this.destroyed)return;const g=ve(this,re).get(c);if(!g.objs.has(n))switch(w){case"Image":g.objs.resolve(n,p);const i=8e6;if(p){let m;if(p.bitmap){const{bitmap:b,width:S,height:L}=p;m=S*L*4,g._bitmaps.add(b)}else m=(null==(e=p.data)?void 0:e.length)||0;m>i&&(g.cleanupAfterRender=!0)}break;case"Pattern":g.objs.resolve(n,p);break;default:throw new Error(`Got unknown object type ${w}`)}}),o.on("DocProgress",n=>{var c;this.destroyed||null==(c=s.onProgress)||c.call(s,{loaded:n.loaded,total:n.total})}),o.on("DocStats",n=>{this.destroyed||Re(this,fe,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){var s,n;this.destroyed||null==(n=(s=this.loadingTask).onUnsupportedFeature)||n.call(s,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=o-1,n=ve(this,ie).get(s);if(n)return n;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(w=>{if(this.destroyed)throw new Error("Transport destroyed");const p=new PDFPageProxy(s,w,this,this._params.ownerDocument,this._params.pdfBug);return ve(this,re).set(s,p),p});return ve(this,ie).set(s,c),c}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:s})}saveDocument(){var o,s;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(s=null==(o=this._fullReader)?void 0:o.filename)?s:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ve(this,ne)||Re(this,ne,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>{var s,n,c,w;return{info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:null!=(n=null==(s=this._fullReader)?void 0:s.filename)?n:null,contentLength:null!=(w=null==(c=this._fullReader)?void 0:c.contentLength)?w:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var s=this;return _asyncToGenerator(function*(){if(yield s.messageHandler.sendWithPromise("Cleanup",null),!s.destroyed){for(const n of ve(s,re).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);s.commonObjs.clear(),o||s.fontLoader.clear(),Re(s,ne,null),s._getFieldObjectsPromise=null,s._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}fe=new WeakMap,re=new WeakMap,ie=new WeakMap,ne=new WeakMap;class PDFObjects{constructor(){Pe(this,h),Pe(this,N,Object.create(null))}get(o,s=null){if(s){const c=Se(this,h,nt).call(this,o);return c.capability.promise.then(()=>s(c.data)),null}const n=ve(this,N)[o];if(!(null==n?void 0:n.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${o}.`);return n.data}has(o){const s=ve(this,N)[o];return(null==s?void 0:s.capability.settled)||!1}resolve(o,s=null){const n=Se(this,h,nt).call(this,o);n.data=s,n.capability.resolve()}clear(){Re(this,N,Object.create(null))}}N=new WeakMap,h=new WeakSet,nt=function(o){return ve(this,N)[o]||(ve(this,N)[o]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const r=class{constructor({callback:o,params:s,objs:n,commonObjs:c,annotationCanvasMap:w,operatorList:p,pageIndex:g,canvasFactory:e,useRequestAnimationFrame:i=!1,pdfBug:m=!1,pageColors:b=null}){this.callback=o,this.params=s,this.objs=n,this.commonObjs=c,this.annotationCanvasMap=w,this.operatorListIdx=null,this.operatorList=p,this._pageIndex=g,this.canvasFactory=e,this._pdfBug=m,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:s}){var e;if(this.cancelled)return;if(this._canvas){if(ve(r,A).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ve(r,A).add(this._canvas)}this._pdfBug&&(null==(e=globalThis.StepperManager)?void 0:e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:c,transform:w,imageLayer:p,background:g}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,p,s,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:w,viewport:c,transparency:o,background:g}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&ve(r,A).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&ve(r,A).delete(o._canvas),o.callback())))})()}};let InternalRenderTask=r;A=new WeakMap,Pe(InternalRenderTask,A,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.StatTimer=k.RenderingCancelledException=k.PixelsPerInch=k.PageViewport=k.PDFDateString=k.DOMStandardFontDataFactory=k.DOMSVGFactory=k.DOMCanvasFactory=k.DOMCMapReaderFactory=void 0,k.deprecated=function i(F){console.log("Deprecated API usage: "+F)},k.getFilenameFromUrl=function c(F){const D=F.indexOf("#"),V=F.indexOf("?"),H=Math.min(D>0?D:F.length,V>0?V:F.length);return F.substring(F.lastIndexOf("/",H)+1,H)},k.getPdfFilenameFromUrl=function w(F,D="document.pdf"){if("string"!=typeof F)return D;if(s(F))return(0,fe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),D;const H=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,q=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(F);let J=H.exec(q[1])||H.exec(q[2])||H.exec(q[3]);if(J&&(J=J[0],J.includes("%")))try{J=H.exec(decodeURIComponent(J))[0]}catch(B){}return J||D},k.getXfaPageViewport=function S(F,{scale:D=1,rotation:V=0}){const{width:H,height:q}=F.attributes.style,J=[0,0,parseInt(H),parseInt(q)];return new P({viewBox:J,scale:D,rotation:V})},k.isDataScheme=s,k.isPdfFile=function n(F){return"string"==typeof F&&/\.pdf$/i.test(F)},k.isValidFetchUrl=g,k.loadScript=function e(F,D=!1){return new Promise((V,H)=>{const q=document.createElement("script");q.src=F,q.onload=function(J){D&&q.remove(),V(J)},q.onerror=function(){H(new Error(`Cannot load script at: ${q.src}`))},(document.head||document.documentElement).appendChild(q)})};var _=Z(6),fe=Z(1);const L=class{};let m,ie=L;function N(F){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(function*(F,D=!1){if(g(F,document.baseURI)){const V=yield fetch(F);if(!V.ok)throw new Error(V.statusText);return D?new Uint8Array(yield V.arrayBuffer()):(0,fe.stringToBytes)(yield V.text())}return new Promise((V,H)=>{const q=new XMLHttpRequest;q.open("GET",F,!0),D&&(q.responseType="arraybuffer"),q.onreadystatechange=()=>{if(q.readyState===XMLHttpRequest.DONE){if(200===q.status||0===q.status){let J;if(D&&q.response?J=new Uint8Array(q.response):!D&&q.responseText&&(J=(0,fe.stringToBytes)(q.responseText)),J)return void V(J)}H(new Error(q.statusText))}},q.send(null)})})).apply(this,arguments)}We(ie,"CSS",96),We(ie,"PDF",72),We(ie,"PDF_TO_CSS_UNITS",L.CSS/L.PDF),k.PixelsPerInch=ie,k.DOMCanvasFactory=class ne extends _.BaseCanvasFactory{constructor({ownerDocument:D=globalThis.document}={}){super(),this._document=D}_createCanvas(D,V){const H=this._document.createElement("canvas");return H.width=D,H.height=V,H}},k.DOMCMapReaderFactory=class E extends _.BaseCMapReaderFactory{_fetchData(D,V){return N(D,this.isCompressed).then(H=>({cMapData:H,compressionType:V}))}},k.DOMStandardFontDataFactory=class A extends _.BaseStandardFontDataFactory{_fetchData(D){return N(D,!0)}},k.DOMSVGFactory=class r extends _.BaseSVGFactory{_createSVG(D){return document.createElementNS("http://www.w3.org/2000/svg",D)}};class P{constructor({viewBox:D,scale:V,rotation:H,offsetX:q=0,offsetY:J=0,dontFlip:B=!1}){this.viewBox=D,this.scale=V,this.rotation=H,this.offsetX=q,this.offsetY=J;const Y=(D[2]+D[0])/2,ee=(D[3]+D[1])/2;let ae,ce,M,a,d,t,l,u;switch((H%=360)<0&&(H+=360),H){case 180:ae=-1,ce=0,M=0,a=1;break;case 90:ae=0,ce=1,M=1,a=0;break;case 270:ae=0,ce=-1,M=-1,a=0;break;case 0:ae=1,ce=0,M=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(M=-M,a=-a),0===ae?(d=Math.abs(ee-D[1])*V+q,t=Math.abs(Y-D[0])*V+J,l=Math.abs(D[3]-D[1])*V,u=Math.abs(D[2]-D[0])*V):(d=Math.abs(Y-D[0])*V+q,t=Math.abs(ee-D[1])*V+J,l=Math.abs(D[2]-D[0])*V,u=Math.abs(D[3]-D[1])*V),this.transform=[ae*V,ce*V,M*V,a*V,d-ae*V*Y-M*V*ee,t-ce*V*Y-a*V*ee],this.width=l,this.height=u}clone({scale:D=this.scale,rotation:V=this.rotation,offsetX:H=this.offsetX,offsetY:q=this.offsetY,dontFlip:J=!1}={}){return new P({viewBox:this.viewBox.slice(),scale:D,rotation:V,offsetX:H,offsetY:q,dontFlip:J})}convertToViewportPoint(D,V){return fe.Util.applyTransform([D,V],this.transform)}convertToViewportRectangle(D){const V=fe.Util.applyTransform([D[0],D[1]],this.transform),H=fe.Util.applyTransform([D[2],D[3]],this.transform);return[V[0],V[1],H[0],H[1]]}convertToPdfPoint(D,V){return fe.Util.applyInverseTransform([D,V],this.transform)}}function s(F){const D=F.length;let V=0;for(;V<D&&""===F[V].trim();)V++;return"data:"===F.substring(V,V+5).toLowerCase()}function g(F,D){try{const{protocol:V}=D?new URL(F,D):new URL(F);return"http:"===V||"https:"===V}catch(V){return!1}}k.PageViewport=P,k.RenderingCancelledException=class o extends fe.BaseException{constructor(D,V){super(D,"RenderingCancelledException"),this.type=V}},k.StatTimer=class p{constructor(){this.started=Object.create(null),this.times=[]}time(D){D in this.started&&(0,fe.warn)(`Timer is already running for ${D}`),this.started[D]=Date.now()}timeEnd(D){D in this.started||(0,fe.warn)(`Timer has not been started for ${D}`),this.times.push({name:D,start:this.started[D],end:Date.now()}),delete this.started[D]}toString(){const D=[];let V=0;for(const H of this.times){const q=H.name;q.length>V&&(V=q.length)}for(const H of this.times){const q=H.end-H.start;D.push(`${H.name.padEnd(V)} ${q}ms\n`)}return D.join("")}},k.PDFDateString=class b{static toDateObject(D){if(!D||"string"!=typeof D)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=m.exec(D);if(!V)return null;const H=parseInt(V[1],10);let q=parseInt(V[2],10);q=q>=1&&q<=12?q-1:0;let J=parseInt(V[3],10);J=J>=1&&J<=31?J:1;let B=parseInt(V[4],10);B=B>=0&&B<=23?B:0;let Y=parseInt(V[5],10);Y=Y>=0&&Y<=59?Y:0;let ee=parseInt(V[6],10);ee=ee>=0&&ee<=59?ee:0;const ae=V[7]||"Z";let ce=parseInt(V[8],10);ce=ce>=0&&ce<=23?ce:0;let M=parseInt(V[9],10)||0;return M=M>=0&&M<=59?M:0,"-"===ae?(B+=ce,Y+=M):"+"===ae&&(B-=ce,Y-=M),new Date(Date.UTC(H,q,J,B,Y,ee))}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.BaseStandardFontDataFactory=k.BaseSVGFactory=k.BaseCanvasFactory=k.BaseCMapReaderFactory=void 0;var _=Z(1);class fe{constructor(){this.constructor===fe&&(0,_.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,E){if(h<=0||E<=0)throw new Error("Invalid canvas size");const A=this._createCanvas(h,E);return{canvas:A,context:A.getContext("2d")}}reset(h,E,A){if(!h.canvas)throw new Error("Canvas is not specified");if(E<=0||A<=0)throw new Error("Invalid canvas size");h.canvas.width=E,h.canvas.height=A}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,E){(0,_.unreachable)("Abstract method `_createCanvas` called.")}}k.BaseCanvasFactory=fe;class re{constructor({baseUrl:h=null,isCompressed:E=!1}){this.constructor===re&&(0,_.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=E}fetch({name:h}){var E=this;return _asyncToGenerator(function*(){if(!E.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const A=E.baseUrl+h+(E.isCompressed?".bcmap":"");return E._fetchData(A,E.isCompressed?_.CMapCompressionType.BINARY:_.CMapCompressionType.NONE).catch(P=>{throw new Error(`Unable to load ${E.isCompressed?"binary ":""}CMap at: ${A}`)})})()}_fetchData(h,E){(0,_.unreachable)("Abstract method `_fetchData` called.")}}k.BaseCMapReaderFactory=re;class ie{constructor({baseUrl:h=null}){this.constructor===ie&&(0,_.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch({filename:h}){var E=this;return _asyncToGenerator(function*(){if(!E.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const A=`${E.baseUrl}${h}`;return E._fetchData(A).catch(r=>{throw new Error(`Unable to load font data at: ${A}`)})})()}_fetchData(h){(0,_.unreachable)("Abstract method `_fetchData` called.")}}k.BaseStandardFontDataFactory=ie;class ne{constructor(){this.constructor===ne&&(0,_.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,E){if(h<=0||E<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),A.setAttribute("width",`${h}px`),A.setAttribute("height",`${E}px`),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox",`0 0 ${h} ${E}`),A}createElement(h){if("string"!=typeof h)throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,_.unreachable)("Abstract method `_createSVG` called.")}}k.BaseSVGFactory=ne},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.FontLoader=k.FontFaceObject=void 0;var _=Z(1);class fe{constructor({docId:N,onUnsupportedFeature:h,ownerDocument:E=globalThis.document,styleElement:A=null}){this.constructor===fe&&(0,_.unreachable)("Cannot initialize BaseFontLoader."),this.docId=N,this._onUnsupportedFeature=h,this._document=E,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(N){this.nativeFontFaces.push(N),this._document.fonts.add(N)}insertRule(N){let h=this.styleElement;h||(h=this.styleElement=this._document.createElement("style"),h.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(h));const E=h.sheet;E.insertRule(N,E.cssRules.length)}clear(){for(const N of this.nativeFontFaces)this._document.fonts.delete(N);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(N){var h=this;return _asyncToGenerator(function*(){if(N.attached||N.missingFile)return;if(N.attached=!0,h.isFontLoadingAPISupported){const A=N.createNativeFontFace();if(A){h.addNativeFontFace(A);try{yield A.loaded}catch(r){throw h._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_.warn)(`Failed to load font '${A.family}': '${r}'.`),N.disableFontFace=!0,r}}return}const E=N.createFontFaceRule();if(E){if(h.insertRule(E),h.isSyncFontLoadingSupported)return;yield new Promise(A=>{const r=h._queueLoadingCallback(A);h._prepareFontLoadEvent([E],[N],r)})}})()}_queueLoadingCallback(N){(0,_.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var h;const N=!!(null==(h=this._document)?void 0:h.fonts);return(0,_.shadow)(this,"isFontLoadingAPISupported",N)}get isSyncFontLoadingSupported(){(0,_.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(N,h,E){(0,_.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let re;k.FontLoader=re,k.FontLoader=re=class extends fe{constructor(N){super(N),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let N=!1;if("undefined"==typeof navigator)N=!0;else{const h=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==h?void 0:h[1])>=14&&(N=!0)}return(0,_.shadow)(this,"isSyncFontLoadingSupported",N)}_queueLoadingCallback(N){const E=this.loadingContext,A={id:"pdfjs-font-loading-"+E.nextRequestId++,done:!1,complete:function h(){for((0,_.assert)(!A.done,"completeRequest() cannot be called twice."),A.done=!0;E.requests.length>0&&E.requests[0].done;){const r=E.requests.shift();setTimeout(r.callback,0)}},callback:N};return E.requests.push(A),A}get _loadTestFont(){return(0,_.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(N,h,E){function A(V,H){return V.charCodeAt(H)<<24|V.charCodeAt(H+1)<<16|V.charCodeAt(H+2)<<8|255&V.charCodeAt(H+3)}function r(V,H,q,J){return V.substring(0,H)+J+V.substring(H+q)}let P,o;const s=this._document.createElement("canvas");s.width=1,s.height=1;const n=s.getContext("2d");let c=0;const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,p.length,p);const m=1482184792;let b=A(g,16);for(P=0,o=p.length-3;P<o;P+=4)b=b-m+A(p,P)|0;P<p.length&&(b=b-m+A(p+"XXX",P)|0),g=r(g,16,4,(0,_.string32)(b));const S=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${p}";src:${S}}`);const F=[];for(const V of h)F.push(V.loadedName);F.push(p);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const V of F){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=V,D.appendChild(H)}this._document.body.appendChild(D),function w(V,H){if(c++,c>30)return(0,_.warn)("Load test font never loaded."),void H();n.font="30px "+V,n.fillText(".",0,20),n.getImageData(0,0,1,1).data[3]>0?H():setTimeout(w.bind(null,V,H))}(p,()=>{D.remove(),E.complete()})}},k.FontFaceObject=class ie{constructor(N,{isEvalSupported:h=!0,disableFontFace:E=!1,ignoreErrors:A=!1,onUnsupportedFeature:r,fontRegistry:P=null}){this.compiledGlyphs=Object.create(null);for(const o in N)this[o]=N[o];this.isEvalSupported=!1!==h,this.disableFontFace=!0===E,this.ignoreErrors=!0===A,this._onUnsupportedFeature=r,this.fontRegistry=P}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let N;if(this.cssFontInfo){const h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),N=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}else N=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),N}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const N=(0,_.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(N)});`;let E;if(this.cssFontInfo){let A=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(A+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),E=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${A}src:${h}}`}else E=`@font-face {font-family:"${this.loadedName}";src:${h}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,h),E}getPathGenerator(N,h){if(void 0!==this.compiledGlyphs[h])return this.compiledGlyphs[h];let E;try{E=N.get(this.loadedName+"_path_"+h)}catch(A){if(!this.ignoreErrors)throw A;return this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_.warn)(`getPathGenerator - ignoring character: "${A}".`),this.compiledGlyphs[h]=function(r,P){}}if(this.isEvalSupported&&_.FeatureTest.isEvalSupported){const A=[];for(const r of E){const P=void 0!==r.args?r.args.join(","):"";A.push("c.",r.cmd,"(",P,");\n")}return this.compiledGlyphs[h]=new Function("c","size",A.join(""))}return this.compiledGlyphs[h]=function(A,r){for(const P of E)"scale"===P.cmd&&(P.args=[r,-r]),A[P.cmd].apply(A,P.args)}}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationStorage=void 0;var _=Z(9),fe=Z(1);k.AnnotationStorage=class re{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ne,N){const h=this._storage.get(ne);return void 0===h?N:Object.assign(N,h)}getRawValue(ne){return this._storage.get(ne)}setValue(ne,N){const h=this._storage.get(ne);let E=!1;if(void 0!==h)for(const[A,r]of Object.entries(N))h[A]!==r&&(E=!0,h[A]=r);else E=!0,this._storage.set(ne,N);E&&this._setModified()}getAll(){return this._storage.size>0?(0,fe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ne=new _.MurmurHash3_64;for(const[N,h]of this._storage)ne.update(`${N}:${JSON.stringify(h)}`);return ne.hexdigest()}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MurmurHash3_64=void 0;var _=Z(1);const fe=3285377520,re=4294901760,ie=65535;k.MurmurHash3_64=class ne{constructor(h){this.h1=h?4294967295&h:fe,this.h2=h?4294967295&h:fe}update(h){let E,A;if("string"==typeof h){E=new Uint8Array(2*h.length),A=0;for(let m=0,b=h.length;m<b;m++){const S=h.charCodeAt(m);S<=255?E[A++]=S:(E[A++]=S>>>8,E[A++]=255&S)}}else{if(!(0,_.isArrayBuffer)(h))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");E=h.slice(),A=E.byteLength}const r=A>>2,P=A-4*r,o=new Uint32Array(E.buffer,0,r);let s=0,n=0,c=this.h1,w=this.h2;const p=3432918353,g=461845907,e=p&ie,i=g&ie;for(let m=0;m<r;m++)1&m?(s=o[m],s=s*p&re|s*e&ie,s=s<<15|s>>>17,s=s*g&re|s*i&ie,c^=s,c=c<<13|c>>>19,c=5*c+3864292196):(n=o[m],n=n*p&re|n*e&ie,n=n<<15|n>>>17,n=n*g&re|n*i&ie,w^=n,w=w<<13|w>>>19,w=5*w+3864292196);switch(s=0,P){case 3:s^=E[4*r+2]<<16;case 2:s^=E[4*r+1]<<8;case 1:s^=E[4*r],s=s*p&re|s*e&ie,s=s<<15|s>>>17,s=s*g&re|s*i&ie,1&r?c^=s:w^=s}this.h1=c,this.h2=w}hexdigest(){let h=this.h1,E=this.h2;h^=E>>>1,h=3981806797*h&re|36045*h&ie,E=4283543511*E&re|(2950163797*(E<<16|h>>>16)&re)>>>16,h^=E>>>1,h=444984403*h&re|60499*h&ie,E=3301882366*E&re|(3120437893*(E<<16|h>>>16)&re)>>>16,h^=E>>>1;const A=(h>>>0).toString(16),r=(E>>>0).toString(16);return A.padStart(8,"0")+r.padStart(8,"0")}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CanvasGraphics=void 0;var _=Z(1),fe=Z(11),re=Z(12),ie=Z(3),ne=Z(5);const E=4096,s=16;function w(M){if(M._transformStack&&(M._transformStack=[]),!M.mozCurrentTransform){M._originalSave=M.save,M._originalRestore=M.restore,M._originalRotate=M.rotate,M._originalScale=M.scale,M._originalTranslate=M.translate,M._originalTransform=M.transform,M._originalSetTransform=M.setTransform,M._originalResetTransform=M.resetTransform,M._transformMatrix=M._transformMatrix||[1,0,0,1,0,0],M._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"lineWidth");M._setLineWidth=a.set,M._getLineWidth=a.get,Object.defineProperty(M,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(a){}Object.defineProperty(M,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(M,"mozCurrentTransformInverse",{get:function(){const[d,t,l,u,C,y]=this._transformMatrix,T=d*u-t*l,U=t*l-d*u;return[u/T,t/U,l/U,d/T,(u*C-l*y)/U,(t*C-d*y)/T]}}),M.save=function(){const d=this._transformMatrix;this._transformStack.push(d),this._transformMatrix=d.slice(0,6),this._originalSave()},M.restore=function(){0===this._transformStack.length&&(0,_.warn)("Tried to restore a ctx when the stack was already empty.");const d=this._transformStack.pop();d&&(this._transformMatrix=d,this._originalRestore())},M.translate=function(d,t){const l=this._transformMatrix;l[4]=l[0]*d+l[2]*t+l[4],l[5]=l[1]*d+l[3]*t+l[5],this._originalTranslate(d,t)},M.scale=function(d,t){const l=this._transformMatrix;l[0]*=d,l[1]*=d,l[2]*=t,l[3]*=t,this._originalScale(d,t)},M.transform=function(d,t,l,u,C,y){const T=this._transformMatrix;this._transformMatrix=[T[0]*d+T[2]*t,T[1]*d+T[3]*t,T[0]*l+T[2]*u,T[1]*l+T[3]*u,T[0]*C+T[2]*y+T[4],T[1]*C+T[3]*y+T[5]],M._originalTransform(d,t,l,u,C,y)},M.setTransform=function(d,t,l,u,C,y){this._transformMatrix=[d,t,l,u,C,y],M._originalSetTransform(d,t,l,u,C,y)},M.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],M._originalResetTransform()},M.rotate=function(d){const t=Math.cos(d),l=Math.sin(d),u=this._transformMatrix;this._transformMatrix=[u[0]*t+u[2]*l,u[1]*t+u[3]*l,u[0]*-l+u[2]*t,u[1]*-l+u[3]*t,u[4],u[5]],this._originalRotate(d)}}}class p{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,d,t,l){let u;return void 0!==this.cache[a]?(u=this.cache[a],this.canvasFactory.reset(u,d,t),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(d,t),this.cache[a]=u),l&&w(u.context),u}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function g(M,a,d,t,l,u,C,y,T,U){const[j,W,X,Q,te,he]=M.mozCurrentTransform;if(0===W&&0===X){const oe=Math.round(C*j+te),I=Math.round(y*Q+he),ue=Math.abs(Math.round((C+T)*j+te)-oe)||1,pe=Math.abs(Math.round((y+U)*Q+he)-I)||1;return M.setTransform(Math.sign(j),0,0,Math.sign(Q),oe,I),M.drawImage(a,d,t,l,u,0,0,ue,pe),M.setTransform(j,W,X,Q,te,he),[ue,pe]}if(0===j&&0===Q){const oe=Math.round(y*X+te),I=Math.round(C*W+he),ue=Math.abs(Math.round((y+U)*X+te)-oe)||1,pe=Math.abs(Math.round((C+T)*W+he)-I)||1;return M.setTransform(0,Math.sign(W),Math.sign(X),0,oe,I),M.drawImage(a,d,t,l,u,0,0,pe,ue),M.setTransform(j,W,X,Q,te,he),[pe,ue]}return M.drawImage(a,d,t,l,u,C,y,T,U),[Math.hypot(j,W)*T,Math.hypot(X,Q)*U]}class i{constructor(a,d){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,d])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,d){this.x=a,this.y=d}updatePathMinMax(a,d,t){[d,t]=_.Util.applyTransform([d,t],a),this.minX=Math.min(this.minX,d),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,d),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(a,d){const t=_.Util.applyTransform(d,a),l=_.Util.applyTransform(d.slice(2),a);this.minX=Math.min(this.minX,t[0],l[0]),this.minY=Math.min(this.minY,t[1],l[1]),this.maxX=Math.max(this.maxX,t[0],l[0]),this.maxY=Math.max(this.maxY,t[1],l[1])}updateScalingPathMinMax(a,d){_.Util.scaleMinMax(a,d),this.minX=Math.min(this.minX,d[0]),this.maxX=Math.max(this.maxX,d[1]),this.minY=Math.min(this.minY,d[2]),this.maxY=Math.max(this.maxY,d[3])}updateCurvePathMinMax(a,d,t,l,u,C,y,T,U,j){const W=_.Util.bezierBoundingBox(d,t,l,u,C,y,T,U);if(j)return j[0]=Math.min(j[0],W[0],W[2]),j[1]=Math.max(j[1],W[0],W[2]),j[2]=Math.min(j[2],W[1],W[3]),void(j[3]=Math.max(j[3],W[1],W[3]));this.updateRectMinMax(a,W)}getPathBoundingBox(a=fe.PathType.FILL,d=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(a===fe.PathType.STROKE){d||(0,_.unreachable)("Stroke bounding box must include transform.");const l=_.Util.singularValueDecompose2dScale(d),u=l[0]*this.lineWidth/2,C=l[1]*this.lineWidth/2;t[0]-=u,t[1]-=C,t[2]+=u,t[3]+=C}return t}updateClipFromPath(){const a=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=fe.PathType.FILL,d=null){return _.Util.intersect(this.clipBox,this.getPathBoundingBox(a,d))}}function m(M,a,d=null){if("undefined"!=typeof ImageData&&a instanceof ImageData)return void M.putImageData(a,0,0);const t=a.height,l=a.width,u=t%s,C=(t-u)/s,y=0===u?C:C+1,T=M.createImageData(l,s);let j,U=0;const W=a.data,X=T.data;let Q,te,he,me,K,le,oe,x;if(d)switch(d.length){case 1:K=d[0],le=d[0],oe=d[0],x=d[0];break;case 4:K=d[0],le=d[1],oe=d[2],x=d[3]}if(a.kind===_.ImageKind.GRAYSCALE_1BPP){const I=W.byteLength,$=new Uint32Array(X.buffer,0,X.byteLength>>2),ue=$.length,de=l+7>>3;let pe=4294967295,be=_.FeatureTest.isLittleEndian?4278190080:255;for(x&&255===x[0]&&0===x[255]&&([pe,be]=[be,pe]),Q=0;Q<y;Q++){for(he=Q<C?s:u,j=0,te=0;te<he;te++){const Ae=I-U;let we=0;const Ee=Ae>de?l:8*Ae-7,Me=-8&Ee;let se=0,R=0;for(;we<Me;we+=8)R=W[U++],$[j++]=128&R?pe:be,$[j++]=64&R?pe:be,$[j++]=32&R?pe:be,$[j++]=16&R?pe:be,$[j++]=8&R?pe:be,$[j++]=4&R?pe:be,$[j++]=2&R?pe:be,$[j++]=1&R?pe:be;for(;we<Ee;we++)0===se&&(R=W[U++],se=128),$[j++]=R&se?pe:be,se>>=1}for(;j<ue;)$[j++]=0;M.putImageData(T,0,Q*s)}}else if(a.kind===_.ImageKind.RGBA_32BPP){const I=!!(K||le||oe);for(te=0,me=l*s*4,Q=0;Q<C;Q++){if(X.set(W.subarray(U,U+me)),U+=me,I)for(let $=0;$<me;$+=4)K&&(X[$+0]=K[X[$+0]]),le&&(X[$+1]=le[X[$+1]]),oe&&(X[$+2]=oe[X[$+2]]);M.putImageData(T,0,te),te+=s}if(Q<y){if(me=l*u*4,X.set(W.subarray(U,U+me)),I)for(let $=0;$<me;$+=4)K&&(X[$+0]=K[X[$+0]]),le&&(X[$+1]=le[X[$+1]]),oe&&(X[$+2]=oe[X[$+2]]);M.putImageData(T,0,te)}}else{if(a.kind!==_.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const I=!!(K||le||oe);for(he=s,me=l*he,Q=0;Q<y;Q++){for(Q>=C&&(he=u,me=l*he),j=0,te=me;te--;)X[j++]=W[U++],X[j++]=W[U++],X[j++]=W[U++],X[j++]=255;if(I)for(let $=0;$<j;$+=4)K&&(X[$+0]=K[X[$+0]]),le&&(X[$+1]=le[X[$+1]]),oe&&(X[$+2]=oe[X[$+2]]);M.putImageData(T,0,Q*s)}}}}function b(M,a){if(a.bitmap)return void M.drawImage(a.bitmap,0,0);const d=a.height,t=a.width,l=d%s,u=(d-l)/s,C=0===l?u:u+1,y=M.createImageData(t,s);let T=0;const U=a.data,j=y.data;for(let W=0;W<C;W++){const X=W<u?s:l;({srcPos:T}=(0,re.applyMaskImageData)({src:U,srcPos:T,dest:j,width:t,height:X})),M.putImageData(y,0,W*s)}}function S(M,a){const d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,l=d.length;t<l;t++){const u=d[t];void 0!==M[u]&&(a[u]=M[u])}void 0!==M.setLineDash&&(a.setLineDash(M.getLineDash()),a.lineDashOffset=M.lineDashOffset)}function L(M,a){M.strokeStyle=M.fillStyle=a||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",void 0!==M.setLineDash&&(M.setLineDash([]),M.lineDashOffset=0)}function F(M,a,d,t){const l=M.length;for(let u=3;u<l;u+=4){const C=M[u];if(0===C)M[u-3]=a,M[u-2]=d,M[u-1]=t;else if(C<255){const y=255-C;M[u-3]=M[u-3]*C+a*y>>8,M[u-2]=M[u-2]*C+d*y>>8,M[u-1]=M[u-1]*C+t*y>>8}}}function D(M,a,d){const t=M.length;for(let u=3;u<t;u+=4)a[u]=a[u]*(d?d[M[u]]:M[u])*.00392156862745098|0}function V(M,a,d){const t=M.length;for(let l=3;l<t;l+=4){const u=77*M[l-3]+152*M[l-2]+28*M[l-1];a[l]=d?a[l]*d[u>>8]>>8:a[l]*u>>16}}function J(M,a){const d=_.Util.singularValueDecompose2dScale(M);d[0]=Math.fround(d[0]),d[1]=Math.fround(d[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:d[0]<=t||d[1]<=t}const B=["butt","round","square"],Y=["miter","round","bevel"],ee={},ae={};class ce{constructor(a,d,t,l,u,C,y,T){this.ctx=a,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=d,this.objs=t,this.canvasFactory=l,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=C,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=y,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==T?void 0:T.background)||null,this.foregroundColor=(null==T?void 0:T.foreground)||null,a&&w(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,d=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):d}beginDrawing({transform:a,viewport:d,transparency:t=!1,background:l=null}){const u=this.ctx.canvas.width,C=this.ctx.canvas.height,y=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const T=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const U=this.backgroundColor=this.ctx.fillStyle;let j=!0,W=y;if(this.ctx.fillStyle=y,W=this.ctx.fillStyle,j="string"==typeof W&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===T&&"#ffffff"===U||T===U||!j)this.foregroundColor=this.backgroundColor=null;else{const X=parseInt(W.slice(1),16),te=(X&&65280)>>8,he=X&&255,me=le=>(le/=255)<=.03928?le/12.92:((le+.055)/1.055)**2.4,K=Math.round(.2126*me((X&&16711680)>>16)+.7152*me(te)+.0722*me(he));this.selectColor=(le,oe,x)=>{const I=.2126*me(le)+.7152*me(oe)+.0722*me(x);return Math.round(I)===K?U:T}}}if(this.ctx.fillStyle=this.backgroundColor||y,this.ctx.fillRect(0,0,u,C),this.ctx.restore(),t){const T=this.cachedCanvases.getCanvas("transparent",u,C,!0);this.compositeCtx=this.ctx,this.transparentCanvas=T.canvas,this.ctx=T.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,d.transform),this.viewportScale=d.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,d,t,l){const u=a.argsArray,C=a.fnArray;let y=d||0;const T=u.length;if(T===y)return y;const U=T-y>10&&"function"==typeof t,j=U?Date.now()+15:0;let W=0;const X=this.commonObjs,Q=this.objs;let te;for(;;){if(void 0!==l&&y===l.nextBreakPoint)return l.breakIt(y,t),y;if(te=C[y],te!==_.OPS.dependency)this[te].apply(this,u[y]);else for(const he of u[y]){const me=he.startsWith("g_")?X:Q;if(!me.has(he))return me.get(he,t),y}if(y++,y===T)return y;if(U&&++W>10){if(Date.now()>j)return t(),y;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const d of a.values())"undefined"!=typeof HTMLCanvasElement&&d instanceof HTMLCanvasElement&&(d.width=d.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,d){const t=a.width,l=a.height;let j,W,u=Math.max(Math.hypot(d[0],d[1]),1),C=Math.max(Math.hypot(d[2],d[3]),1),y=t,T=l,U="prescale1";for(;u>2&&y>1||C>2&&T>1;){let X=y,Q=T;u>2&&y>1&&(X=Math.ceil(y/2),u/=y/X),C>2&&T>1&&(Q=Math.ceil(T/2),C/=T/Q),j=this.cachedCanvases.getCanvas(U,X,Q,!1),W=j.context,W.clearRect(0,0,X,Q),W.drawImage(a,0,0,y,T,0,0,X,Q),a=j.canvas,y=X,T=Q,U="prescale1"===U?"prescale2":"prescale1"}return{img:a,paintWidth:y,paintHeight:T}}_createMaskCanvas(a){const d=this.ctx,{width:t,height:l}=a,u=this.current.fillColor,C=this.current.patternFill,y=d.mozCurrentTransform;let T,U,j,W;if((a.bitmap||a.data)&&a.count>1){const ue=a.bitmap||a.data.buffer,de=y.slice(0,4);U=JSON.stringify(C?de:[de,u]),T=this._cachedBitmapsMap.get(ue),T||(T=new Map,this._cachedBitmapsMap.set(ue,T));const pe=T.get(U);if(pe&&!C)return{canvas:pe,offsetX:Math.round(Math.min(y[0],y[2])+y[4]),offsetY:Math.round(Math.min(y[1],y[3])+y[5])};j=pe}j||(W=this.cachedCanvases.getCanvas("maskCanvas",t,l,!1),b(W.context,a));let X=_.Util.transform(y,[1/t,0,0,-1/l,0,0]);X=_.Util.transform(X,[1,0,0,1,0,-l]);const Q=_.Util.applyTransform([0,0],X),te=_.Util.applyTransform([t,l],X),he=_.Util.normalizeRect([Q[0],Q[1],te[0],te[1]]),me=Math.round(he[2]-he[0])||1,K=Math.round(he[3]-he[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",me,K,!0),oe=le.context,x=Math.min(Q[0],te[0]),I=Math.min(Q[1],te[1]);oe.translate(-x,-I),oe.transform.apply(oe,X),j||(j=this._scaleImage(W.canvas,oe.mozCurrentTransformInverse),j=j.img,T&&C&&T.set(U,j)),oe.imageSmoothingEnabled=J(oe.mozCurrentTransform,a.interpolate),g(oe,j,0,0,j.width,j.height,0,0,t,l),oe.globalCompositeOperation="source-in";const $=_.Util.transform(oe.mozCurrentTransformInverse,[1,0,0,1,-x,-I]);return oe.fillStyle=C?u.getPattern(d,this,$,fe.PathType.FILL):u,oe.fillRect(0,0,t,l),T&&!C&&(this.cachedCanvases.delete("fillCanvas"),T.set(U,le.canvas)),{canvas:le.canvas,offsetX:Math.round(x),offsetY:Math.round(I)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=B[a]}setLineJoin(a){this.ctx.lineJoin=Y[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,d){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(a),t.lineDashOffset=d)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let d=0,t=a.length;d<t;d++){const l=a[d],C=l[1];switch(l[0]){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=C}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),S(this.suspendedCtx,u),function c(M,a){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){a.save(),this.__originalSave()},M.restore=function(){a.restore(),this.__originalRestore()},M.translate=function(t,l){a.translate(t,l),this.__originalTranslate(t,l)},M.scale=function(t,l){a.scale(t,l),this.__originalScale(t,l)},M.transform=function(t,l,u,C,y,T){a.transform(t,l,u,C,y,T),this.__originalTransform(t,l,u,C,y,T)},M.setTransform=function(t,l,u,C,y,T){a.setTransform(t,l,u,C,y,T),this.__originalSetTransform(t,l,u,C,y,T)},M.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},M.rotate=function(t){a.rotate(t),this.__originalRotate(t)},M.clip=function(t){a.clip(t),this.__originalClip(t)},M.moveTo=function(d,t){a.moveTo(d,t),this.__originalMoveTo(d,t)},M.lineTo=function(d,t){a.lineTo(d,t),this.__originalLineTo(d,t)},M.bezierCurveTo=function(d,t,l,u,C,y){a.bezierCurveTo(d,t,l,u,C,y),this.__originalBezierCurveTo(d,t,l,u,C,y)},M.rect=function(d,t,l,u){a.rect(d,t,l,u),this.__originalRect(d,t,l,u)},M.closePath=function(){a.closePath(),this.__originalClosePath()},M.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),S(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function q(M,a,d,t){const l=t[0],u=t[1],C=t[2]-l,y=t[3]-u;0===C||0===y||(function H(M,a,d,t,l,u,C,y,T,U,j){const W=!!u,X=W?u[0]:0,Q=W?u[1]:0,te=W?u[2]:0;let he;he="Luminosity"===l?V:D;const K=Math.min(t,Math.ceil(1048576/d));for(let le=0;le<t;le+=K){const oe=Math.min(K,t-le),x=M.getImageData(y-U,le+(T-j),d,oe),I=a.getImageData(y,le+T,d,oe);W&&F(x.data,X,Q,te),he(x.data,I.data,C),a.putImageData(I,y,le+T)}}(a.context,d,C,y,a.subtype,a.backdrop,a.transferMap,l,u,a.offsetX,a.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(d.canvas,0,0),M.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(S(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),S(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,d,t,l,u,C){this.ctx.transform(a,d,t,l,u,C),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,d,t){const l=this.ctx,u=this.current;let T,U,C=u.x,y=u.y;const j=l.mozCurrentTransform,W=0===j[0]&&0===j[3]||0===j[1]&&0===j[2],X=W?t.slice(0):null;for(let Q=0,te=0,he=a.length;Q<he;Q++)switch(0|a[Q]){case _.OPS.rectangle:C=d[te++],y=d[te++];const me=d[te++],K=d[te++],le=C+me,oe=y+K;l.moveTo(C,y),0===me||0===K?l.lineTo(le,oe):(l.lineTo(le,y),l.lineTo(le,oe),l.lineTo(C,oe)),W||u.updateRectMinMax(j,[C,y,le,oe]),l.closePath();break;case _.OPS.moveTo:C=d[te++],y=d[te++],l.moveTo(C,y),W||u.updatePathMinMax(j,C,y);break;case _.OPS.lineTo:C=d[te++],y=d[te++],l.lineTo(C,y),W||u.updatePathMinMax(j,C,y);break;case _.OPS.curveTo:T=C,U=y,C=d[te+4],y=d[te+5],l.bezierCurveTo(d[te],d[te+1],d[te+2],d[te+3],C,y),u.updateCurvePathMinMax(j,T,U,d[te],d[te+1],d[te+2],d[te+3],C,y,X),te+=6;break;case _.OPS.curveTo2:T=C,U=y,l.bezierCurveTo(C,y,d[te],d[te+1],d[te+2],d[te+3]),u.updateCurvePathMinMax(j,T,U,C,y,d[te],d[te+1],d[te+2],d[te+3],X),C=d[te+2],y=d[te+3],te+=4;break;case _.OPS.curveTo3:T=C,U=y,C=d[te+2],y=d[te+3],l.bezierCurveTo(d[te],d[te+1],C,y,C,y),u.updateCurvePathMinMax(j,T,U,d[te],d[te+1],C,y,C,y,X),te+=4;break;case _.OPS.closePath:l.closePath()}W&&u.updateScalingPathMinMax(j,X),u.setCurrentPoint(C,y)}closePath(){this.ctx.closePath()}stroke(a){a=void 0===a||a;const d=this.ctx,t=this.current.strokeColor;d.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&(null==t?void 0:t.getPattern)?(d.save(),d.strokeStyle=t.getPattern(d,this,d.mozCurrentTransformInverse,fe.PathType.STROKE),this.rescaleAndStroke(!1),d.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),d.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=void 0===a||a;const d=this.ctx,t=this.current.fillColor;let u=!1;this.current.patternFill&&(d.save(),d.fillStyle=t.getPattern(d,this,d.mozCurrentTransformInverse,fe.PathType.FILL),u=!0);const C=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==C&&(this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill()),u&&d.restore(),a&&this.consumePath(C)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ee}eoClip(){this.pendingClip=ae}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,d=this.ctx;if(void 0!==a){d.save(),d.beginPath();for(let t=0;t<a.length;t++){const l=a[t];d.setTransform.apply(d,l.transform),d.translate(l.x,l.y),l.addToPath(d,l.fontSize)}d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}else d.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,d){const t=this.commonObjs.get(a),l=this.current;if(!t)throw new Error(`Can't find font for ${a}`);if(l.fontMatrix=t.fontMatrix||_.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,_.warn)("Invalid font matrix for font "+a),d<0?(d=-d,l.fontDirection=-1):l.fontDirection=1,this.current.font=t,this.current.fontSize=d,t.isType3Font)return;let C="normal";t.black?C="900":t.bold&&(C="bold");const y=t.italic?"italic":"normal",T=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let U=d;d<16?U=16:d>100&&(U=100),this.current.fontSizeScale=d/U,this.ctx.font=`${y} ${C} ${U}px ${T}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,d){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=d}setLeadingMoveText(a,d){this.setLeading(-d),this.moveText(a,d)}setTextMatrix(a,d,t,l,u,C){this.current.textMatrix=[a,d,t,l,u,C],this.current.textMatrixScale=Math.hypot(a,d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,d,t,l){const u=this.ctx,C=this.current,y=C.font,T=C.textRenderingMode,U=C.fontSize/C.fontSizeScale,j=T&_.TextRenderingMode.FILL_STROKE_MASK,W=!!(T&_.TextRenderingMode.ADD_TO_PATH_FLAG),X=C.patternFill&&!y.missingFile;let Q;(y.disableFontFace||W||X)&&(Q=y.getPathGenerator(this.commonObjs,a)),y.disableFontFace||X?(u.save(),u.translate(d,t),u.beginPath(),Q(u,U),l&&u.setTransform.apply(u,l),(j===_.TextRenderingMode.FILL||j===_.TextRenderingMode.FILL_STROKE)&&u.fill(),(j===_.TextRenderingMode.STROKE||j===_.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((j===_.TextRenderingMode.FILL||j===_.TextRenderingMode.FILL_STROKE)&&u.fillText(a,d,t),(j===_.TextRenderingMode.STROKE||j===_.TextRenderingMode.FILL_STROKE)&&u.strokeText(a,d,t)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:d,y:t,fontSize:U,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const d=a.getImageData(0,0,10,10).data;let t=!1;for(let l=3;l<d.length;l+=4)if(d[l]>0&&d[l]<255){t=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(a){const d=this.current,t=d.font;if(t.isType3Font)return this.showType3Text(a);const l=d.fontSize;if(0===l)return;const u=this.ctx,C=d.fontSizeScale,y=d.charSpacing,T=d.wordSpacing,U=d.fontDirection,j=d.textHScale*U,W=a.length,X=t.vertical,Q=X?1:-1,te=t.defaultVMetrics,he=l*d.fontMatrix[0],me=d.textRenderingMode===_.TextRenderingMode.FILL&&!t.disableFontFace&&!d.patternFill;let K;if(u.save(),u.transform.apply(u,d.textMatrix),u.translate(d.x,d.y+d.textRise),u.scale(j,U>0?-1:1),d.patternFill){u.save();const $=d.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,fe.PathType.FILL);K=u.mozCurrentTransform,u.restore(),u.fillStyle=$}let le=d.lineWidth;const oe=d.textMatrixScale;if(0===oe||0===le){const $=d.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;($===_.TextRenderingMode.STROKE||$===_.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=oe;1!==C&&(u.scale(C,C),le/=C),u.lineWidth=le;let I,x=0;for(I=0;I<W;++I){const $=a[I];if("number"==typeof $){x+=Q*$*l/1e3;continue}let ue=!1;const de=($.isSpace?T:0)+y,pe=$.fontChar,be=$.accent;let Ae,we,Me,Ee=$.width;if(X){const se=$.vmetric||te,R=-($.vmetric?se[1]:.5*Ee)*he;Ee=se?-se[0]:Ee,Ae=R/C,we=(x+se[2]*he)/C}else Ae=x/C,we=0;if(t.remeasure&&Ee>0){const se=1e3*u.measureText(pe).width/l*C;if(Ee<se&&this.isFontSubpixelAAEnabled){const R=Ee/se;ue=!0,u.save(),u.scale(R,1),Ae/=R}else Ee!==se&&(Ae+=(Ee-se)/2e3*l/C)}this.contentVisible&&($.isInFont||t.missingFile)&&(me&&!be?u.fillText(pe,Ae,we):(this.paintChar(pe,Ae,we,K),be&&this.paintChar(be.fontChar,Ae+l*be.offset.x/C,we-l*be.offset.y/C,K))),Me=X?Ee*he-de*U:Ee*he+de*U,x+=Me,ue&&u.restore()}X?d.y-=x:d.x+=x*j,u.restore(),this.compose()}showType3Text(a){const d=this.ctx,t=this.current,l=t.font,u=t.fontSize,C=t.fontDirection,y=l.vertical?1:-1,T=t.charSpacing,U=t.wordSpacing,j=t.textHScale*C,W=t.fontMatrix||_.FONT_IDENTITY_MATRIX,X=a.length;let te,he,me,K;if(t.textRenderingMode!==_.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,d.save(),d.transform.apply(d,t.textMatrix),d.translate(t.x,t.y),d.scale(j,C),te=0;te<X;++te){if(he=a[te],"number"==typeof he){K=y*he*u/1e3,this.ctx.translate(K,0),t.x+=K*j;continue}const le=(he.isSpace?U:0)+T,oe=l.charProcOperatorList[he.operatorListId];oe?(this.contentVisible&&(this.processingType3=he,this.save(),d.scale(u,u),d.transform.apply(d,W),this.executeOperatorList(oe),this.restore()),me=_.Util.applyTransform([he.width,0],W)[0]*u+le,d.translate(me,0),t.x+=me*j):(0,_.warn)(`Type3 character "${he.operatorListId}" is not available.`)}d.restore(),this.processingType3=null}}setCharWidth(a,d){}setCharWidthAndBounds(a,d,t,l,u,C){this.ctx.rect(t,l,u-t,C-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let d;if("TilingPattern"===a[0]){const t=a[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();d=new fe.TilingPattern(a,t,this.ctx,{createCanvasGraphics:C=>new ce(C,this.commonObjs,this.objs,this.canvasFactory)},l)}else d=this._getPattern(a[1],a[2]);return d}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,d,t){var u;const l=(null==(u=this.selectColor)?void 0:u.call(this,a,d,t))||_.Util.makeHexColor(a,d,t);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(a,d,t){var u;const l=(null==(u=this.selectColor)?void 0:u.call(this,a,d,t))||_.Util.makeHexColor(a,d,t);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(a,d=null){let t;return this.cachedPatterns.has(a)?t=this.cachedPatterns.get(a):(t=(0,fe.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,t)),d&&(t.matrix=d),t}shadingFill(a){if(!this.contentVisible)return;const d=this.ctx;this.save();const t=this._getPattern(a);d.fillStyle=t.getPattern(d,this,d.mozCurrentTransformInverse,fe.PathType.SHADING);const l=d.mozCurrentTransformInverse;if(l){const u=d.canvas,C=u.width,y=u.height,T=_.Util.applyTransform([0,0],l),U=_.Util.applyTransform([0,y],l),j=_.Util.applyTransform([C,0],l),W=_.Util.applyTransform([C,y],l),X=Math.min(T[0],U[0],j[0],W[0]),Q=Math.min(T[1],U[1],j[1],W[1]),te=Math.max(T[0],U[0],j[0],W[0]),he=Math.max(T[1],U[1],j[1],W[1]);this.ctx.fillRect(X,Q,te-X,he-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,d){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,d)&&(this.ctx.rect(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,d),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const d=this.ctx;a.isolated||(0,_.info)("TODO: Support non-isolated groups."),a.knockout&&(0,_.warn)("Knockout groups not supported.");const t=d.mozCurrentTransform;if(a.matrix&&d.transform.apply(d,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let l=_.Util.getAxialAlignedBoundingBox(a.bbox,d.mozCurrentTransform);l=_.Util.intersect(l,[0,0,d.canvas.width,d.canvas.height])||[0,0,0,0];const C=Math.floor(l[0]),y=Math.floor(l[1]);let T=Math.max(Math.ceil(l[2])-C,1),U=Math.max(Math.ceil(l[3])-y,1),j=1,W=1;T>E&&(j=T/E,T=E),U>E&&(W=U/E,U=E),this.current.startNewPathAndClipBox([0,0,T,U]);let X="groupAt"+this.groupLevel;a.smask&&(X+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(X,T,U,!0),te=Q.context;te.scale(1/j,1/W),te.translate(-C,-y),te.transform.apply(te,t),a.smask?this.smaskStack.push({canvas:Q.canvas,context:te,offsetX:C,offsetY:y,scaleX:j,scaleY:W,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate(C,y),d.scale(j,W),d.save()),S(d,te),this.ctx=te,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const d=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const u=_.Util.getAxialAlignedBoundingBox([0,0,d.canvas.width,d.canvas.height],l);this.ctx.drawImage(d.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,d,t,l,u){if(this.save(),Array.isArray(d)&&4===d.length){const C=d[2]-d[0],y=d[3]-d[1];if(u&&this.annotationCanvasMap){(t=t.slice())[4]-=d[0],t[5]-=d[1],(d=d.slice())[0]=d[1]=0,d[2]=C,d[3]=y;const[T,U]=_.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:j}=this,W=Math.ceil(C*this.outputScaleX*j),X=Math.ceil(y*this.outputScaleY*j);this.annotationCanvas=this.canvasFactory.create(W,X);const{canvas:Q,context:te}=this.annotationCanvas,he=`var(--zoom-factor) * ${ne.PixelsPerInch.PDF_TO_CSS_UNITS}`;Q.style.width=`calc(${C}px * ${he})`,Q.style.height=`calc(${y}px * ${he})`,this.annotationCanvasMap.set(a,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=te,this.ctx.setTransform(T,0,0,-U,0,y*U),w(this.ctx),L(this.ctx,this.foregroundColor)}else L(this.ctx,this.foregroundColor),this.ctx.rect(d[0],d[1],C,y),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const d=a.count;(a=this.getObject(a.data,a)).count=d;const t=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function e(M){const{width:a,height:d}=M;if(a>1e3||d>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=a+1;let y,T,U,C=new Uint8Array(u*(d+1));const j=a+7&-8;let W=new Uint8Array(j*d),X=0;for(const oe of M.data){let x=128;for(;x>0;)W[X++]=oe&x?0:255,x>>=1}let Q=0;for(X=0,0!==W[X]&&(C[0]=1,++Q),T=1;T<a;T++)W[X]!==W[X+1]&&(C[T]=W[X]?2:1,++Q),X++;for(0!==W[X]&&(C[T]=2,++Q),y=1;y<d;y++){X=y*j,U=y*u,W[X-j]!==W[X]&&(C[U]=W[X]?1:8,++Q);let oe=(W[X]?4:0)+(W[X-j]?8:0);for(T=1;T<a;T++)oe=(oe>>2)+(W[X+1]?4:0)+(W[X-j+1]?8:0),l[oe]&&(C[U+T]=l[oe],++Q),X++;if(W[X-j]!==W[X]&&(C[U+T]=W[X]?2:4,++Q),Q>1e3)return null}for(X=j*(d-1),U=y*u,0!==W[X]&&(C[U]=8,++Q),T=1;T<a;T++)W[X]!==W[X+1]&&(C[U+T]=W[X]?4:8,++Q),X++;if(0!==W[X]&&(C[U+T]=4,++Q),Q>1e3)return null;const te=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let he,me,K;for(ie.isNodeJS?me=[]:he=new Path2D,y=0;Q&&y<=d;y++){let oe=y*u;const x=oe+a;for(;oe<x&&!C[oe];)oe++;if(oe===x)continue;he?he.moveTo(oe%u,y):K=[oe%u,y];const I=oe;let $=C[oe];do{const ue=te[$];do{oe+=ue}while(!C[oe]);const de=C[oe];5!==de&&10!==de?($=de,C[oe]=0):($=de&51*$>>4,C[oe]&=$>>2|$<<2),he?he.lineTo(oe%u,oe/u|0):K.push(oe%u,oe/u|0),C[oe]||--Q}while(I!==oe);he||me.push(K),--y}return W=null,C=null,function(oe){if(oe.save(),oe.scale(1/a,-1/d),oe.translate(0,-d),he)oe.fill(he);else{oe.beginPath();for(const x of me){oe.moveTo(x[0],x[1]);for(let I=2,$=x.length;I<$;I+=2)oe.lineTo(x[I],x[I+1])}oe.fill()}oe.beginPath(),oe.restore()}}(a)),l.compiled))return void l.compiled(t);const u=this._createMaskCanvas(a),C=u.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(C,u.offsetX,u.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(a,d,t=0,l=0,u,C){if(!this.contentVisible)return;a=this.getObject(a.data,a);const y=this.ctx;y.save();const T=y.mozCurrentTransform;y.transform(d,t,l,u,0,0);const U=this._createMaskCanvas(a);y.setTransform(1,0,0,1,0,0);for(let j=0,W=C.length;j<W;j+=2){const X=_.Util.transform(T,[d,t,l,u,C[j],C[j+1]]),[Q,te]=_.Util.applyTransform([0,0],X);y.drawImage(U.canvas,Q,te)}y.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const d=this.ctx,t=this.current.fillColor,l=this.current.patternFill;for(let u=0,C=a.length;u<C;u++){const y=a[u],T=y.width,U=y.height,j=this.cachedCanvases.getCanvas("maskCanvas",T,U,!1),W=j.context;W.save(),b(W,y),W.globalCompositeOperation="source-in",W.fillStyle=l?t.getPattern(W,this,d.mozCurrentTransformInverse,fe.PathType.FILL):t,W.fillRect(0,0,T,U),W.restore(),d.save(),d.transform.apply(d,y.transform),d.scale(1,-1),g(d,j.canvas,0,0,T,U,0,-1,1,1),d.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const d=this.getObject(a);d?this.paintInlineImageXObject(d):(0,_.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,d,t,l){if(!this.contentVisible)return;const u=this.getObject(a);if(!u)return void(0,_.warn)("Dependent image isn't ready yet");const C=u.width,y=u.height,T=[];for(let U=0,j=l.length;U<j;U+=2)T.push({transform:[d,0,0,t,l[U],l[U+1]],x:0,y:0,w:C,h:y});this.paintInlineImageXObjectGroup(u,T)}paintInlineImageXObject(a){if(!this.contentVisible)return;const d=a.width,t=a.height,l=this.ctx;let u;if(this.save(),l.scale(1/d,-1/t),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)u=a;else{const U=this.cachedCanvases.getCanvas("inlineImage",d,t,!1);m(U.context,a,this.current.transferMaps),u=U.canvas}const C=this._scaleImage(u,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=J(l.mozCurrentTransform,a.interpolate);const[y,T]=g(l,C.img,0,0,C.paintWidth,C.paintHeight,0,-t,d,t);if(this.imageLayer){const U=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:a,left:U[0],top:U[1],width:y,height:T})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,d){if(!this.contentVisible)return;const t=this.ctx,l=a.width,u=a.height,C=this.cachedCanvases.getCanvas("inlineImage",l,u,!1);m(C.context,a,this.current.transferMaps);for(let T=0,U=d.length;T<U;T++){const j=d[T];if(t.save(),t.transform.apply(t,j.transform),t.scale(1,-1),g(t,C.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(j.x,j.y);this.imageLayer.appendImage({imgData:a,left:W[0],top:W[1],width:l,height:u})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,d){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,d){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(d)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const t=this.ctx;this.pendingClip&&(d||(this.pendingClip===ae?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const d=Math.abs(a[0]*a[3]-a[2]*a[1]),t=Math.hypot(a[0],a[2]),l=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(t,l)/d}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,d=this.ctx.mozCurrentTransform;let t,l;if(0===d[1]&&0===d[2]){const u=Math.abs(d[0]),C=Math.abs(d[3]);if(0===a)t=1/u,l=1/C;else{const y=u*a,T=C*a;t=y<1?1/y:1,l=T<1?1/T:1}}else{const u=Math.abs(d[0]*d[3]-d[2]*d[1]),C=Math.hypot(d[0],d[1]),y=Math.hypot(d[2],d[3]);if(0===a)t=y/u,l=C/u;else{const T=a*u;t=y>T?y/T:1,l=C>T?C/T:1}}this._cachedScaleForStroking=[t,l]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:d}=this,{lineWidth:t}=this.current,[l,u]=this.getScaleForStroking();if(d.lineWidth=t||1,1===l&&1===u)return void d.stroke();let C,y,T;a&&(C=d.mozCurrentTransform.slice(),y=d.getLineDash().slice(),T=d.lineDashOffset),d.scale(l,u);const U=Math.max(l,u);d.setLineDash(d.getLineDash().map(j=>j/U)),d.lineDashOffset/=U,d.stroke(),a&&(d.setTransform(...C),d.setLineDash(y),d.lineDashOffset=T)}getCanvasPosition(a,d){const t=this.ctx.mozCurrentTransform;return[t[0]*a+t[2]*d+t[4],t[1]*a+t[3]*d+t[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}k.CanvasGraphics=ce;for(const M in _.OPS)void 0!==ce.prototype[M]&&(ce.prototype[_.OPS[M]]=ce.prototype[M])},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.TilingPattern=k.PathType=void 0,k.getShadingPattern=function P(n){switch(n[0]){case"RadialAxial":return new N(n);case"Mesh":return new A(n);case"Dummy":return new r}throw new Error(`Unknown IR type: ${n[0]}`)};var _=Z(1),fe=Z(3);const re={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(n,c){if(!c||fe.isNodeJS)return;const w=c[2]-c[0],p=c[3]-c[1],g=new Path2D;g.rect(c[0],c[1],w,p),n.clip(g)}k.PathType=re;class ne{constructor(){this.constructor===ne&&(0,_.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_.unreachable)("Abstract method `getPattern` called.")}}class N extends ne{constructor(c){super(),this._type=c[1],this._bbox=c[2],this._colorStops=c[3],this._p0=c[4],this._p1=c[5],this._r0=c[6],this._r1=c[7],this.matrix=null}_createGradient(c){let w;"axial"===this._type?w=c.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(w=c.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const p of this._colorStops)w.addColorStop(p[0],p[1]);return w}getPattern(c,w,p,g){let e;if(g===re.STROKE||g===re.FILL){const i=w.current.getClippedPathBoundingBox(g,c.mozCurrentTransform)||[0,0,0,0],m=Math.ceil(i[2]-i[0])||1,b=Math.ceil(i[3]-i[1])||1,S=w.cachedCanvases.getCanvas("pattern",m,b,!0),L=S.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-i[0],-i[1]),p=_.Util.transform(p,[1,0,0,1,i[0],i[1]]),L.transform.apply(L,w.baseTransform),this.matrix&&L.transform.apply(L,this.matrix),ie(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),e=c.createPattern(S.canvas,"no-repeat");const F=new DOMMatrix(p);try{e.setTransform(F)}catch(D){(0,_.warn)(`RadialAxialShadingPattern.getPattern: "${null==D?void 0:D.message}".`)}}else ie(c,this._bbox),e=this._createGradient(c);return e}}function h(n,c,w,p,g,e,i,m){const b=c.coords,S=c.colors,L=n.data,F=4*n.width;let D;b[w+1]>b[p+1]&&(D=w,w=p,p=D,D=e,e=i,i=D),b[p+1]>b[g+1]&&(D=p,p=g,g=D,D=i,i=m,m=D),b[w+1]>b[p+1]&&(D=w,w=p,p=D,D=e,e=i,i=D);const V=(b[w]+c.offsetX)*c.scaleX,H=(b[w+1]+c.offsetY)*c.scaleY,q=(b[p]+c.offsetX)*c.scaleX,J=(b[p+1]+c.offsetY)*c.scaleY,B=(b[g]+c.offsetX)*c.scaleX,Y=(b[g+1]+c.offsetY)*c.scaleY;if(H>=Y)return;const ee=S[e],ae=S[e+1],ce=S[e+2],M=S[i],a=S[i+1],d=S[i+2],t=S[m],l=S[m+1],u=S[m+2],C=Math.round(H),y=Math.round(Y);let T,U,j,W,X,Q,te,he;for(let me=C;me<=y;me++){if(me<J){let I;I=me<H?0:(H-me)/(H-J),T=V-(V-q)*I,U=ee-(ee-M)*I,j=ae-(ae-a)*I,W=ce-(ce-d)*I}else{let I;I=me>Y?1:J===Y?0:(J-me)/(J-Y),T=q-(q-B)*I,U=M-(M-t)*I,j=a-(a-l)*I,W=d-(d-u)*I}let K;K=me<H?0:me>Y?1:(H-me)/(H-Y),X=V-(V-B)*K,Q=ee-(ee-t)*K,te=ae-(ae-l)*K,he=ce-(ce-u)*K;const le=Math.round(Math.min(T,X)),oe=Math.round(Math.max(T,X));let x=F*me+4*le;for(let I=le;I<=oe;I++)K=(T-I)/(T-X),K<0?K=0:K>1&&(K=1),L[x++]=U-(U-Q)*K|0,L[x++]=j-(j-te)*K|0,L[x++]=W-(W-he)*K|0,L[x++]=255}}function E(n,c,w){const p=c.coords,g=c.colors;let e,i;switch(c.type){case"lattice":const m=c.verticesPerRow,b=Math.floor(p.length/m)-1,S=m-1;for(e=0;e<b;e++){let L=e*m;for(let F=0;F<S;F++,L++)h(n,w,p[L],p[L+1],p[L+m],g[L],g[L+1],g[L+m]),h(n,w,p[L+m+1],p[L+1],p[L+m],g[L+m+1],g[L+1],g[L+m])}break;case"triangles":for(e=0,i=p.length;e<i;e+=3)h(n,w,p[e],p[e+1],p[e+2],g[e],g[e+1],g[e+2]);break;default:throw new Error("illegal figure")}}class A extends ne{constructor(c){super(),this._coords=c[2],this._colors=c[3],this._figures=c[4],this._bounds=c[5],this._bbox=c[7],this._background=c[8],this.matrix=null}_createMeshCanvas(c,w,p){const m=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),S=Math.ceil(this._bounds[2])-m,L=Math.ceil(this._bounds[3])-b,F=Math.min(Math.ceil(Math.abs(S*c[0]*1.1)),3e3),D=Math.min(Math.ceil(Math.abs(L*c[1]*1.1)),3e3),V=S/F,H=L/D,q={coords:this._coords,colors:this._colors,offsetX:-m,offsetY:-b,scaleX:1/V,scaleY:1/H},Y=p.getCanvas("mesh",F+4,D+4,!1),ee=Y.context,ae=ee.createImageData(F,D);if(w){const M=ae.data;for(let a=0,d=M.length;a<d;a+=4)M[a]=w[0],M[a+1]=w[1],M[a+2]=w[2],M[a+3]=255}for(const M of this._figures)E(ae,M,q);return ee.putImageData(ae,2,2),{canvas:Y.canvas,offsetX:m-2*V,offsetY:b-2*H,scaleX:V,scaleY:H}}getPattern(c,w,p,g){let e;if(ie(c,this._bbox),g===re.SHADING)e=_.Util.singularValueDecompose2dScale(c.mozCurrentTransform);else if(e=_.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const m=_.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*m[0],e[1]*m[1]]}const i=this._createMeshCanvas(e,g===re.SHADING?null:this._background,w.cachedCanvases);return g!==re.SHADING&&(c.setTransform.apply(c,w.baseTransform),this.matrix&&c.transform.apply(c,this.matrix)),c.translate(i.offsetX,i.offsetY),c.scale(i.scaleX,i.scaleY),c.createPattern(i.canvas,"no-repeat")}}class r extends ne{getPattern(){return"hotpink"}}class s{static get MAX_PATTERN_SIZE(){return(0,_.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(c,w,p,g,e){this.operatorList=c[2],this.matrix=c[3]||[1,0,0,1,0,0],this.bbox=c[4],this.xstep=c[5],this.ystep=c[6],this.paintType=c[7],this.tilingType=c[8],this.color=w,this.ctx=p,this.canvasGraphicsFactory=g,this.baseTransform=e}createPatternCanvas(c){const w=this.operatorList,p=this.bbox,g=this.xstep,e=this.ystep,i=this.paintType,b=this.color,S=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+this.tilingType);const L=p[0],F=p[1],D=p[2],V=p[3],H=_.Util.singularValueDecompose2dScale(this.matrix),q=_.Util.singularValueDecompose2dScale(this.baseTransform),J=[H[0]*q[0],H[1]*q[1]],B=this.getSizeAndScale(g,this.ctx.canvas.width,J[0]),Y=this.getSizeAndScale(e,this.ctx.canvas.height,J[1]),ee=c.cachedCanvases.getCanvas("pattern",B.size,Y.size,!0),ae=ee.context,ce=S.createCanvasGraphics(ae);ce.groupLevel=c.groupLevel,this.setFillAndStrokeStyleToContext(ce,i,b);let M=L,a=F,d=D,t=V;return L<0&&(M=0,d+=Math.abs(L)),F<0&&(a=0,t+=Math.abs(F)),ae.translate(-B.scale*M,-Y.scale*a),ce.transform(B.scale,0,0,Y.scale,0,0),ae.save(),this.clipBbox(ce,M,a,d,t),ce.baseTransform=ce.ctx.mozCurrentTransform.slice(),ce.executeOperatorList(w),ce.endDrawing(),{canvas:ee.canvas,scaleX:B.scale,scaleY:Y.scale,offsetX:M,offsetY:a}}getSizeAndScale(c,w,p){c=Math.abs(c);const g=Math.max(s.MAX_PATTERN_SIZE,w);let e=Math.ceil(c*p);return e>=g?e=g:p=e/c,{scale:p,size:e}}clipBbox(c,w,p,g,e){c.ctx.rect(w,p,g-w,e-p),c.current.updateRectMinMax(c.ctx.mozCurrentTransform,[w,p,g,e]),c.clip(),c.endPath()}setFillAndStrokeStyleToContext(c,w,p){const g=c.ctx,e=c.current;switch(w){case 1:const i=this.ctx;g.fillStyle=i.fillStyle,g.strokeStyle=i.strokeStyle,e.fillColor=i.fillStyle,e.strokeColor=i.strokeStyle;break;case 2:const m=_.Util.makeHexColor(p[0],p[1],p[2]);g.fillStyle=m,g.strokeStyle=m,e.fillColor=m,e.strokeColor=m;break;default:throw new _.FormatError(`Unsupported paint type: ${w}`)}}getPattern(c,w,p,g){let e=p;g!==re.SHADING&&(e=_.Util.transform(e,w.baseTransform),this.matrix&&(e=_.Util.transform(e,this.matrix)));const i=this.createPatternCanvas(w);let m=new DOMMatrix(e);m=m.translate(i.offsetX,i.offsetY),m=m.scale(1/i.scaleX,1/i.scaleY);const b=c.createPattern(i.canvas,"repeat");try{b.setTransform(m)}catch(S){(0,_.warn)(`TilingPattern.getPattern: "${null==S?void 0:S.message}".`)}return b}}k.TilingPattern=s},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.applyMaskImageData=function fe({src:re,srcPos:ie=0,dest:ne,destPos:N=0,width:h,height:E,inverseDecode:A=!1}){const r=_.FeatureTest.isLittleEndian?4278190080:255,[P,o]=A?[0,r]:[r,0],s=h>>3,n=7&h,c=re.length;ne=new Uint32Array(ne.buffer);for(let w=0;w<E;w++){for(const g=ie+s;ie<g;ie++){const e=ie<c?re[ie]:255;ne[N++]=128&e?o:P,ne[N++]=64&e?o:P,ne[N++]=32&e?o:P,ne[N++]=16&e?o:P,ne[N++]=8&e?o:P,ne[N++]=4&e?o:P,ne[N++]=2&e?o:P,ne[N++]=1&e?o:P}if(0===n)continue;const p=ie<c?re[ie++]:255;for(let g=0;g<n;g++)ne[N++]=p&1<<7-g?o:P}return{srcPos:ie,destPos:N}};var _=Z(1)},(ge,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.GlobalWorkerOptions=void 0;const Z=Object.create(null);k.GlobalWorkerOptions=Z,Z.workerPort=void 0===Z.workerPort?null:Z.workerPort,Z.workerSrc=void 0===Z.workerSrc?"":Z.workerSrc},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MessageHandler=void 0;var _=Z(1);function ie(N){switch(N instanceof Error||"object"==typeof N&&null!==N||(0,_.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),N.name){case"AbortException":return new _.AbortException(N.message);case"MissingPDFException":return new _.MissingPDFException(N.message);case"PasswordException":return new _.PasswordException(N.message,N.code);case"UnexpectedResponseException":return new _.UnexpectedResponseException(N.message,N.status);case"UnknownErrorException":return new _.UnknownErrorException(N.message,N.details);default:return new _.UnknownErrorException(N.message,N.toString())}}k.MessageHandler=class ne{constructor(h,E,A){this.sourceName=h,this.targetName=E,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const P=r.data;if(P.targetName!==this.sourceName)return;if(P.stream)return void this._processStreamMessage(P);if(P.callback){const s=P.callbackId,n=this.callbackCapabilities[s];if(!n)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],1===P.callback)n.resolve(P.data);else{if(2!==P.callback)throw new Error("Unexpected callback case");n.reject(ie(P.reason))}return}const o=this.actionHandler[P.action];if(!o)throw new Error(`Unknown action from worker: ${P.action}`);if(P.callbackId){const s=this.sourceName,n=P.sourceName;new Promise(function(c){c(o(P.data))}).then(function(c){A.postMessage({sourceName:s,targetName:n,callback:1,callbackId:P.callbackId,data:c})},function(c){A.postMessage({sourceName:s,targetName:n,callback:2,callbackId:P.callbackId,reason:ie(c)})})}else P.streamId?this._createStreamSink(P):o(P.data)},A.addEventListener("message",this._onComObjOnMessage)}on(h,E){const A=this.actionHandler;if(A[h])throw new Error(`There is already an actionName called "${h}"`);A[h]=E}send(h,E,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:E},A)}sendWithPromise(h,E,A){const r=this.callbackId++,P=(0,_.createPromiseCapability)();this.callbackCapabilities[r]=P;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:r,data:E},A)}catch(o){P.reject(o)}return P.promise}sendWithStream(h,E,A,r){const P=this.streamId++,o=this.sourceName,s=this.targetName,n=this.comObj;return new ReadableStream({start:c=>{const w=(0,_.createPromiseCapability)();return this.streamControllers[P]={controller:c,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},n.postMessage({sourceName:o,targetName:s,action:h,streamId:P,data:E,desiredSize:c.desiredSize},r),w.promise},pull:c=>{const w=(0,_.createPromiseCapability)();return this.streamControllers[P].pullCall=w,n.postMessage({sourceName:o,targetName:s,stream:6,streamId:P,desiredSize:c.desiredSize}),w.promise},cancel:c=>{(0,_.assert)(c instanceof Error,"cancel must have a valid reason");const w=(0,_.createPromiseCapability)();return this.streamControllers[P].cancelCall=w,this.streamControllers[P].isClosed=!0,n.postMessage({sourceName:o,targetName:s,stream:1,streamId:P,reason:ie(c)}),w.promise}},A)}_createStreamSink(h){const E=h.streamId,A=this.sourceName,r=h.sourceName,P=this.comObj,o=this,s=this.actionHandler[h.action],n={enqueue(c,w=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=w,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_.createPromiseCapability)(),this.ready=this.sinkCapability.promise),P.postMessage({sourceName:A,targetName:r,stream:4,streamId:E,chunk:c},p)},close(){this.isCancelled||(this.isCancelled=!0,P.postMessage({sourceName:A,targetName:r,stream:3,streamId:E}),delete o.streamSinks[E])},error(c){(0,_.assert)(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,P.postMessage({sourceName:A,targetName:r,stream:5,streamId:E,reason:ie(c)}))},sinkCapability:(0,_.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};n.sinkCapability.resolve(),n.ready=n.sinkCapability.promise,this.streamSinks[E]=n,new Promise(function(c){c(s(h.data,n))}).then(function(){P.postMessage({sourceName:A,targetName:r,stream:8,streamId:E,success:!0})},function(c){P.postMessage({sourceName:A,targetName:r,stream:8,streamId:E,reason:ie(c)})})}_processStreamMessage(h){const E=h.streamId,A=this.sourceName,r=h.sourceName,P=this.comObj,o=this.streamControllers[E],s=this.streamSinks[E];switch(h.stream){case 8:h.success?o.startCall.resolve():o.startCall.reject(ie(h.reason));break;case 7:h.success?o.pullCall.resolve():o.pullCall.reject(ie(h.reason));break;case 6:if(!s){P.postMessage({sourceName:A,targetName:r,stream:7,streamId:E,success:!0});break}s.desiredSize<=0&&h.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=h.desiredSize,new Promise(function(n){n(s.onPull&&s.onPull())}).then(function(){P.postMessage({sourceName:A,targetName:r,stream:7,streamId:E,success:!0})},function(n){P.postMessage({sourceName:A,targetName:r,stream:7,streamId:E,reason:ie(n)})});break;case 4:if((0,_.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(h.chunk);break;case 3:if((0,_.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,E);break;case 5:(0,_.assert)(o,"error should have stream controller"),o.controller.error(ie(h.reason)),this._deleteStreamController(o,E);break;case 2:h.success?o.cancelCall.resolve():o.cancelCall.reject(ie(h.reason)),this._deleteStreamController(o,E);break;case 1:if(!s)break;new Promise(function(n){n(s.onCancel&&s.onCancel(ie(h.reason)))}).then(function(){P.postMessage({sourceName:A,targetName:r,stream:2,streamId:E,success:!0})},function(n){P.postMessage({sourceName:A,targetName:r,stream:2,streamId:E,reason:ie(n)})}),s.sinkCapability.reject(ie(h.reason)),s.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(h,E){var A=this;return _asyncToGenerator(function*(){yield Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete A.streamControllers[E]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ge,k,Z)=>{var re,ie;Object.defineProperty(k,"__esModule",{value:!0}),k.Metadata=void 0;var _=Z(1);re=new WeakMap,ie=new WeakMap,k.Metadata=class fe{constructor({parsedData:N,rawData:h}){Pe(this,re,void 0),Pe(this,ie,void 0),Re(this,re,N),Re(this,ie,h)}getRaw(){return ve(this,ie)}get(N){var h;return null!=(h=ve(this,re).get(N))?h:null}getAll(){return(0,_.objectFromMap)(ve(this,re))}has(N){return ve(this,re).has(N)}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.OptionalContentConfig=void 0;var _=Z(1);class fe{constructor(ne,N){this.visible=!0,this.name=ne,this.intent=N}}k.OptionalContentConfig=class re{constructor(ne){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ne){this.name=ne.name,this.creator=ne.creator,this._order=ne.order;for(const N of ne.groups)this._groups.set(N.id,new fe(N.name,N.intent));if("OFF"===ne.baseState)for(const N of this._groups)N.visible=!1;for(const N of ne.on)this._groups.get(N).visible=!0;for(const N of ne.off)this._groups.get(N).visible=!1}}_evaluateVisibilityExpression(ne){const N=ne.length;if(N<2)return!0;const h=ne[0];for(let E=1;E<N;E++){const A=ne[E];let r;if(Array.isArray(A))r=this._evaluateVisibilityExpression(A);else{if(!this._groups.has(A))return(0,_.warn)(`Optional content group not found: ${A}`),!0;r=this._groups.get(A).visible}switch(h){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===h}isVisible(ne){if(0===this._groups.size)return!0;if(!ne)return(0,_.warn)("Optional content group not defined."),!0;if("OCG"===ne.type)return this._groups.has(ne.id)?this._groups.get(ne.id).visible:((0,_.warn)(`Optional content group not found: ${ne.id}`),!0);if("OCMD"===ne.type){if(ne.expression)return this._evaluateVisibilityExpression(ne.expression);if(!ne.policy||"AnyOn"===ne.policy){for(const N of ne.ids){if(!this._groups.has(N))return(0,_.warn)(`Optional content group not found: ${N}`),!0;if(this._groups.get(N).visible)return!0}return!1}if("AllOn"===ne.policy){for(const N of ne.ids){if(!this._groups.has(N))return(0,_.warn)(`Optional content group not found: ${N}`),!0;if(!this._groups.get(N).visible)return!1}return!0}if("AnyOff"===ne.policy){for(const N of ne.ids){if(!this._groups.has(N))return(0,_.warn)(`Optional content group not found: ${N}`),!0;if(!this._groups.get(N).visible)return!0}return!1}if("AllOff"===ne.policy){for(const N of ne.ids){if(!this._groups.has(N))return(0,_.warn)(`Optional content group not found: ${N}`),!0;if(this._groups.get(N).visible)return!1}return!0}return(0,_.warn)(`Unknown optional content policy ${ne.policy}.`),!0}return(0,_.warn)(`Unknown group type ${ne.type}.`),!0}setVisibility(ne,N=!0){this._groups.has(ne)?this._groups.get(ne).visible=!!N:(0,_.warn)(`Optional content group not found: ${ne}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,_.objectFromMap)(this._groups):null}getGroup(ne){return this._groups.get(ne)||null}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFDataTransportStream=void 0;var _=Z(1),fe=Z(5);k.PDFDataTransportStream=class re{constructor(h,E){(0,_.assert)(E,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1,this._contentDispositionFilename=h.contentDispositionFilename||null;const A=h.initialData;if((null==A?void 0:A.length)>0){const r=new Uint8Array(A).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=E,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((r,P)=>{this._onReceiveData({begin:r,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((r,P)=>{this._onProgress({loaded:r,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(r=>{this._onReceiveData({chunk:r})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){const E=new Uint8Array(h.chunk).buffer;if(void 0===h.begin)this._fullRequestReader?this._fullRequestReader._enqueue(E):this._queuedChunks.push(E);else{const A=this._rangeReaders.some(function(r){return r._begin===h.begin&&(r._enqueue(E),!0)});(0,_.assert)(A,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var h,E;return null!=(E=null==(h=this._fullRequestReader)?void 0:h._loaded)?E:0}_onProgress(h){if(void 0===h.total){const E=this._rangeReaders[0];(null==E?void 0:E.onProgress)&&E.onProgress({loaded:h.loaded})}else{const E=this._fullRequestReader;(null==E?void 0:E.onProgress)&&E.onProgress({loaded:h.loaded,total:h.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const E=this._rangeReaders.indexOf(h);E>=0&&this._rangeReaders.splice(E,1)}getFullReader(){(0,_.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new ie(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,E){if(E<=this._progressiveDataLength)return null;const A=new ne(this,h,E);return this._pdfDataRangeTransport.requestDataRange(h,E),this._rangeReaders.push(A),A}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const E of this._rangeReaders.slice(0))E.cancel(h);this._pdfDataRangeTransport.abort()}};class ie{constructor(h,E,A=!1,r=null){this._stream=h,this._done=A||!1,this._filename=(0,fe.isPdfFile)(r)?r:null,this._queuedChunks=E||[],this._loaded=0;for(const P of this._queuedChunks)this._loaded+=P.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunks.length>0)return{value:h._queuedChunks.shift(),done:!1};if(h._done)return{value:void 0,done:!0};const E=(0,_.createPromiseCapability)();return h._requests.push(E),E.promise})()}cancel(h){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ne{constructor(h,E,A){this._stream=h,this._begin=E,this._end=A,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(0===this._requests.length)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunk){const A=h._queuedChunk;return h._queuedChunk=null,{value:A,done:!1}}if(h._done)return{value:void 0,done:!0};const E=(0,_.createPromiseCapability)();return h._requests.push(E),E.promise})()}cancel(h){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ge,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaText=void 0;class Z{static textContent(fe){const re=[],ie={items:re,styles:Object.create(null)};return function ne(N){var A;if(!N)return;let h=null;const E=N.name;if("#text"===E)h=N.value;else{if(!Z.shouldBuildText(E))return;(null==(A=null==N?void 0:N.attributes)?void 0:A.textContent)?h=N.attributes.textContent:N.value&&(h=N.value)}if(null!==h&&re.push({str:h}),N.children)for(const r of N.children)ne(r)}(fe),ie}static shouldBuildText(fe){return!("textarea"===fe||"input"===fe||"option"===fe||"select"===fe)}}k.XfaText=Z},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.NodeStandardFontDataFactory=k.NodeCanvasFactory=k.NodeCMapReaderFactory=void 0;var _=Z(6);const fe=function(N){return new Promise((h,E)=>{__webpack_require__(172).readFile(N,(r,P)=>{!r&&P?h(new Uint8Array(P)):E(new Error(r))})})};k.NodeCanvasFactory=class re extends _.BaseCanvasFactory{_createCanvas(h,E){return __webpack_require__(3414).createCanvas(h,E)}},k.NodeCMapReaderFactory=class ie extends _.BaseCMapReaderFactory{_fetchData(h,E){return fe(h).then(A=>({cMapData:A,compressionType:E}))}},k.NodeStandardFontDataFactory=class ne extends _.BaseStandardFontDataFactory{_fetchData(h){return fe(h)}}},(ge,k,Z)=>{var M,it;Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationLayer=void 0;var _=Z(1),fe=Z(5),re=Z(8),ie=Z(21),ne=Z(22);const N=1e3,h=new WeakSet;function E(d){return{width:d[2]-d[0],height:d[3]-d[1]}}class A{static create(t){switch(t.data.annotationType){case _.AnnotationType.LINK:return new P(t);case _.AnnotationType.TEXT:return new o(t);case _.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new n(t);case"Btn":return t.data.radioButton?new w(t):t.data.checkBox?new c(t):new p(t);case"Ch":return new g(t)}return new s(t);case _.AnnotationType.POPUP:return new e(t);case _.AnnotationType.FREETEXT:return new m(t);case _.AnnotationType.LINE:return new b(t);case _.AnnotationType.SQUARE:return new S(t);case _.AnnotationType.CIRCLE:return new L(t);case _.AnnotationType.POLYLINE:return new F(t);case _.AnnotationType.CARET:return new V(t);case _.AnnotationType.INK:return new H(t);case _.AnnotationType.POLYGON:return new D(t);case _.AnnotationType.HIGHLIGHT:return new q(t);case _.AnnotationType.UNDERLINE:return new J(t);case _.AnnotationType.SQUIGGLY:return new B(t);case _.AnnotationType.STRIKEOUT:return new Y(t);case _.AnnotationType.STAMP:return new ee(t);case _.AnnotationType.FILEATTACHMENT:return new ae(t);default:return new r(t)}}}class r{constructor(t,{isRenderable:l=!1,ignoreBorder:u=!1,createQuadrilaterals:C=!1}={}){this.isRenderable=l,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,l&&(this.container=this._createContainer(u)),C&&(this.quadrilaterals=this._createQuadrilaterals(u))}_createContainer(t=!1){const l=this.data,u=this.page,C=this.viewport,y=document.createElement("section");let{width:T,height:U}=E(l.rect);y.setAttribute("data-annotation-id",l.id);const j=_.Util.normalizeRect([l.rect[0],u.view[3]-l.rect[1]+u.view[1],l.rect[2],u.view[3]-l.rect[3]+u.view[1]]);if(l.hasOwnCanvas){const W=C.transform.slice(),[X,Q]=_.Util.singularValueDecompose2dScale(W);T=Math.ceil(T*X),U=Math.ceil(U*Q),j[0]*=X,j[1]*=Q;for(let te=0;te<4;te++)W[te]=Math.sign(W[te]);y.style.transform=`matrix(${W.join(",")})`}else y.style.transform=`matrix(${C.transform.join(",")})`;if(y.style.transformOrigin=`${-j[0]}px ${-j[1]}px`,!t&&l.borderStyle.width>0){y.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==_.AnnotationBorderStyleType.UNDERLINE&&(T-=2*l.borderStyle.width,U-=2*l.borderStyle.width);const W=l.borderStyle.horizontalCornerRadius,X=l.borderStyle.verticalCornerRadius;switch((W>0||X>0)&&(y.style.borderRadius=`${W}px / ${X}px`),l.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:y.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:y.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:y.style.borderBottomStyle="solid"}l.borderColor||l.color?y.style.borderColor=_.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):y.style.borderWidth=0}return y.style.left=`${j[0]}px`,y.style.top=`${j[1]}px`,l.hasOwnCanvas?y.style.width=y.style.height="auto":(y.style.width=`${T}px`,y.style.height=`${U}px`),y}get _commonActions(){const t=(l,u,C)=>{const y=C.detail[l];C.target.style[u]=ie.ColorConverters[`${y[0]}_HTML`](y.slice(1))};return(0,_.shadow)(this,"_commonActions",{display:l=>{const u=l.detail.display%2==1;l.target.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:u,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{t("bgColor","backgroundColor",l)},fillColor:l=>{t("fillColor","backgroundColor",l)},fgColor:l=>{t("fgColor","color",l)},textColor:l=>{t("textColor","color",l)},borderColor:l=>{t("borderColor","borderColor",l)},strokeColor:l=>{t("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(t,l){const u=this._commonActions;for(const C of Object.keys(l.detail)){const y=t[C]||u[C];y&&y(l)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const u=this._commonActions;for(const[C,y]of Object.entries(l)){const T=u[C];T&&(T({detail:y,target:t}),delete l[C])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const l=[],u=this.data.rect;for(const C of this.data.quadPoints)this.data.rect=[C[2].x,C[2].y,C[1].x,C[1].y],l.push(this._createContainer(t));return this.data.rect=u,l}_createPopup(t,l){let u=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,u=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=u.style.height,t.style.width=u.style.width,u.appendChild(t));const y=new i({container:u,trigger:t,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();y.style.left=u.style.width,u.appendChild(y)}_renderQuadrilaterals(t){for(const l of this.quadrilaterals)l.className=t;return this.quadrilaterals}render(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,l=null){const u=[];if(this._fieldObjects){const C=this._fieldObjects[t];if(C)for(const{page:y,id:T,exportValues:U}of C){if(-1===y||T===l)continue;const j="string"==typeof U?U:null,W=document.getElementById(T);!W||h.has(W)?u.push({id:T,exportValue:j,domElement:W}):(0,_.warn)(`_getElementsByName - element not allowed: ${T}`)}return u}for(const C of document.getElementsByName(t)){const{id:y,exportValue:T}=C;y!==l&&(!h.has(C)||u.push({id:y,exportValue:T,domElement:C}))}return u}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,_.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class P extends r{constructor(t,l=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!(null==l?void 0:l.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:t,linkService:l}=this,u=document.createElement("a");if(t.url)l.addLinkAttributes(u,t.url,t.newWindow);else if(t.action)this._bindNamedAction(u,t.action);else if(t.dest)this._bindLink(u,t.dest);else{let C=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(C=!0,this._bindJSAction(u,t)),t.resetForm?this._bindResetFormAction(u,t.resetForm):C||this._bindLink(u,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((C,y)=>{const T=0===y?u:u.cloneNode();return C.appendChild(T),C}):(this.container.className="linkAnnotation",this.container.appendChild(u),this.container)}_bindLink(t,l){t.href=this.linkService.getDestinationHash(l),t.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(t.className="internalLink")}_bindNamedAction(t,l){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(l),!1),t.className="internalLink"}_bindJSAction(t,l){t.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const C of Object.keys(l.actions)){const y=u.get(C);!y||(t[y]=()=>{var T;return null==(T=this.linkService.eventBus)||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:C}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,l){const u=t.onclick;if(u||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,_.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(t.onclick=()=>!1));t.onclick=()=>{var X;u&&u();const{fields:C,refs:y,include:T}=l,U=[];if(0!==C.length||0!==y.length){const Q=new Set(y);for(const te of C){const he=this._fieldObjects[te]||[];for(const{id:me}of he)Q.add(me)}for(const te of Object.values(this._fieldObjects))for(const he of te)Q.has(he.id)===T&&U.push(he)}else for(const Q of Object.values(this._fieldObjects))U.push(...Q);const j=this.annotationStorage,W=[];for(const Q of U){const{id:te}=Q;switch(W.push(te),Q.type){case"text":case"combobox":case"listbox":j.setValue(te,{value:Q.defaultValue||""});break;case"checkbox":case"radiobutton":j.setValue(te,{value:Q.defaultValue===Q.exportValues});break;default:continue}const he=document.getElementById(te);!he||!h.has(he)||he.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(X=this.linkService.eventBus)||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}})),!1}}}class o extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str))})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class s extends r{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:l,isMac:u}=r.platform;return l&&t.ctrlKey||u&&t.metaKey}_setEventListener(t,l,u,C){l.includes("mouse")?t.addEventListener(l,y=>{var T;null==(T=this.linkService.eventBus)||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:C(y),shift:y.shiftKey,modifier:this._getKeyModifier(y)}})}):t.addEventListener(l,y=>{var T;null==(T=this.linkService.eventBus)||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:C(y)}})})}_setEventListeners(t,l,u){var C;for(const[y,T]of l)("Action"===T||(null==(C=this.data.actions)?void 0:C[T]))&&this._setEventListener(t,y,T,u)}_setBackgroundColor(t){const l=this.data.backgroundColor||null;t.style.backgroundColor=null===l?"transparent":_.Util.makeHexColor(l[0],l[1],l[2])}}class n extends s{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,l,u,C){const y=this.annotationStorage;for(const T of this._getElementsByName(t.name,t.id))T.domElement&&(T.domElement[l]=u),y.setValue(T.id,{[C]:u})}render(){var C;const t=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let u=null;if(this.renderForms){const y=t.getValue(l,{value:this.data.fieldValue}),T=y.formattedValue||y.value||"",U={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=T):(u=document.createElement("input"),u.type="text",u.setAttribute("value",T)),h.add(u),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=N,U.userValue=T,u.setAttribute("id",l),u.addEventListener("input",W=>{t.setValue(l,{value:W.target.value}),this.setPropertyOnSiblings(u,"value",W.target.value,"value")}),u.addEventListener("resetform",W=>{var Q;const X=null!=(Q=this.data.defaultFieldValue)?Q:"";u.value=U.userValue=X,U.formattedValue=null});let j=W=>{const{formattedValue:X}=U;null!=X&&(W.target.value=X),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){u.addEventListener("focus",X=>{U.userValue&&(X.target.value=U.userValue),U.valueOnFocus=X.target.value}),u.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(te){var he;U.userValue=null!=(he=te.detail.value)?he:"",t.setValue(l,{value:U.userValue.toString()}),te.target.value=U.userValue},formattedValue(te){const{formattedValue:he}=te.detail;U.formattedValue=he,null!=he&&te.target!==document.activeElement&&(te.target.value=he),t.setValue(l,{formattedValue:he})},selRange(te){te.target.setSelectionRange(...te.detail.selRange)}},X)}),u.addEventListener("keydown",X=>{var he;let Q=-1;if("Escape"===X.key?Q=0:"Enter"===X.key?Q=2:"Tab"===X.key&&(Q=3),-1===Q)return;const{value:te}=X.target;U.valueOnFocus!==te&&(U.userValue=te,null==(he=this.linkService.eventBus)||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:te,willCommit:!0,commitKey:Q,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}))});const W=j;j=null,u.addEventListener("blur",X=>{var te;const{value:Q}=X.target;U.userValue=Q,this._mouseState.isDown&&U.valueOnFocus!==Q&&(null==(te=this.linkService.eventBus)||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,willCommit:!0,commitKey:1,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}})),W(X)}),(null==(C=this.data.actions)?void 0:C.Keystroke)&&u.addEventListener("beforeinput",X=>{var x;const{data:Q,target:te}=X,{value:he,selectionStart:me,selectionEnd:K}=te;let le=me,oe=K;switch(X.inputType){case"deleteWordBackward":{const I=he.substring(0,me).match(/\w*[^\w]*$/);I&&(le-=I[0].length);break}case"deleteWordForward":{const I=he.substring(me).match(/^[^\w]*\w*/);I&&(oe+=I[0].length);break}case"deleteContentBackward":me===K&&(le-=1);break;case"deleteContentForward":me===K&&(oe+=1)}X.preventDefault(),null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:he,change:Q||"",willCommit:!1,selStart:le,selEnd:oe}})}),this._setEventListeners(u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.value)}if(j&&u.addEventListener("blur",j),null!==this.data.maxLen&&(u.maxLength=this.data.maxLen),this.data.comb){const X=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;u.classList.add("comb"),u.style.letterSpacing=`calc(${X}px - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell";return this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.appendChild(u),this.container}_setTextStyle(t){const{fontSize:u,fontColor:C}=this.data.defaultAppearanceData,y=t.style;u&&(y.fontSize=`${u}px`),y.color=_.Util.makeHexColor(C[0],C[1],C[2]),null!==this.data.textAlignment&&(y.textAlign=["left","center","right"][this.data.textAlignment])}}class c extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,l=this.data,u=l.id;let C=t.getValue(u,{value:l.exportValue===l.fieldValue}).value;"string"==typeof C&&(C="Off"!==C,t.setValue(u,{value:C})),this.container.className="buttonWidgetAnnotation checkBox";const y=document.createElement("input");return h.add(y),y.disabled=l.readOnly,y.type="checkbox",y.name=l.fieldName,C&&y.setAttribute("checked",!0),y.setAttribute("id",u),y.setAttribute("exportValue",l.exportValue),y.tabIndex=N,y.addEventListener("change",T=>{const{name:U,checked:j}=T.target;for(const W of this._getElementsByName(U,u)){const X=j&&W.exportValue===l.exportValue;W.domElement&&(W.domElement.checked=X),t.setValue(W.id,{value:X})}t.setValue(u,{value:j})}),y.addEventListener("resetform",T=>{T.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(y.addEventListener("updatefromsandbox",T=>{this._dispatchEventFromSandbox({value(j){j.target.checked="Off"!==j.detail.value,t.setValue(u,{value:j.target.checked})}},T)}),this._setEventListeners(y,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.checked)),this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}}class w extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,l=this.data,u=l.id;let C=t.getValue(u,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof C&&(C=C!==l.buttonValue,t.setValue(u,{value:C}));const y=document.createElement("input");if(h.add(y),y.disabled=l.readOnly,y.type="radio",y.name=l.fieldName,C&&y.setAttribute("checked",!0),y.setAttribute("id",u),y.tabIndex=N,y.addEventListener("change",T=>{const{name:U,checked:j}=T.target;for(const W of this._getElementsByName(U,u))t.setValue(W.id,{value:!1});t.setValue(u,{value:j})}),y.addEventListener("resetform",T=>{const U=l.defaultFieldValue;T.target.checked=null!=U&&U===l.buttonValue}),this.enableScripting&&this.hasJSActions){const T=l.buttonValue;y.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value:W=>{const X=T===W.detail.value;for(const Q of this._getElementsByName(W.target.name)){const te=X&&Q.id===u;Q.domElement&&(Q.domElement.checked=te),t.setValue(Q.id,{value:te})}}},U)}),this._setEventListeners(y,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)}return this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}}class p extends P{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class g extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,l=this.data.id,u=t.getValue(l,{value:this.data.fieldValue});let{fontSize:C}=this.data.defaultAppearanceData;C||(C=9);const y=`calc(${C}px * var(--zoom-factor))`,T=document.createElement("select");h.add(T),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.setAttribute("id",l),T.tabIndex=N,T.style.fontSize=`${C}px`,this.data.combo||(T.size=this.data.options.length,this.data.multiSelect&&(T.multiple=!0)),T.addEventListener("resetform",W=>{const X=this.data.defaultFieldValue;for(const Q of T.options)Q.selected=Q.value===X});for(const W of this.data.options){const X=document.createElement("option");X.textContent=W.displayValue,X.value=W.exportValue,this.data.combo&&(X.style.fontSize=y),u.value.includes(W.exportValue)&&X.setAttribute("selected",!0),T.appendChild(X)}const U=(W,X)=>{const Q=X?"value":"textContent",te=W.target.options;return W.target.multiple?Array.prototype.filter.call(te,he=>he.selected).map(he=>he[Q]):-1===te.selectedIndex?null:te[te.selectedIndex][Q]},j=W=>Array.prototype.map.call(W.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(T.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Q){const te=Q.detail.value,he=new Set(Array.isArray(te)?te:[te]);for(const me of T.options)me.selected=he.has(me.value);t.setValue(l,{value:U(Q,!0)})},multipleSelection(Q){T.multiple=!0},remove(Q){const te=T.options,he=Q.detail.remove;te[he].selected=!1,T.remove(he),te.length>0&&-1===Array.prototype.findIndex.call(te,K=>K.selected)&&(te[0].selected=!0),t.setValue(l,{value:U(Q,!0),items:j(Q)})},clear(Q){for(;0!==T.length;)T.remove(0);t.setValue(l,{value:null,items:[]})},insert(Q){const{index:te,displayValue:he,exportValue:me}=Q.detail.insert,K=document.createElement("option");K.textContent=he,K.value=me,T.insertBefore(K,T.children[te]),t.setValue(l,{value:U(Q,!0),items:j(Q)})},items(Q){const{items:te}=Q.detail;for(;0!==T.length;)T.remove(0);for(const he of te){const{displayValue:me,exportValue:K}=he,le=document.createElement("option");le.textContent=me,le.value=K,T.appendChild(le)}T.options.length>0&&(T.options[0].selected=!0),t.setValue(l,{value:U(Q,!0),items:j(Q)})},indices(Q){const te=new Set(Q.detail.indices);for(const he of Q.target.options)he.selected=te.has(he.index);t.setValue(l,{value:U(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},W)}),T.addEventListener("input",W=>{var te;const X=U(W,!0),Q=U(W,!1);t.setValue(l,{value:X}),null==(te=this.linkService.eventBus)||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(T,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):T.addEventListener("input",function(W){t.setValue(l,{value:U(W,!0)})}),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.appendChild(T),this.container}}class e extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!((null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const C=new i({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),y=this.page,T=_.Util.normalizeRect([this.data.parentRect[0],y.view[3]-this.data.parentRect[1]+y.view[1],this.data.parentRect[2],y.view[3]-this.data.parentRect[3]+y.view[1]]),U=T[0]+this.data.parentRect[2]-this.data.parentRect[0],j=T[1];return this.container.style.transformOrigin=`${-U}px ${-j}px`,this.container.style.left=`${U}px`,this.container.style.top=`${j}px`,this.container.appendChild(C.render()),this.container}}class i{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var U,j;const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const u=document.createElement("div");u.className="popup";const C=this.color;C&&(u.style.backgroundColor=_.Util.makeHexColor(0|.7*(255-C[0])+C[0],0|.7*(255-C[1])+C[1],0|.7*(255-C[2])+C[2]));const y=document.createElement("h1");y.dir=this.titleObj.dir,y.textContent=this.titleObj.str,u.appendChild(y);const T=fe.PDFDateString.toDateObject(this.modificationDate);if(T){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:T.toLocaleDateString(),time:T.toLocaleTimeString()}),u.appendChild(W)}if(!(null==(U=this.richText)?void 0:U.str)||(null==(j=this.contentsObj)?void 0:j.str)&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);u.appendChild(W)}else ne.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:u}),u.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return u.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(u),l}_formatContents({str:t,dir:l}){const u=document.createElement("p");u.className="popupContent",u.dir=l;const C=t.split(/(?:\r\n?|\n)/);for(let y=0,T=C.length;y<T;++y)u.appendChild(document.createTextNode(C[y])),y<T-1&&u.appendChild(document.createElement("br"));return u}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class m extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:l,height:u}=E(t.rect),C=this.svgFactory.create(l,u),y=this.svgFactory.createElement("svg:line");return y.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),y.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),y.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),y.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),y.setAttribute("stroke-width",t.borderStyle.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),C.appendChild(y),this.container.append(C),this._createPopup(y,t),this.container}}class S extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:l,height:u}=E(t.rect),C=this.svgFactory.create(l,u),y=t.borderStyle.width,T=this.svgFactory.createElement("svg:rect");return T.setAttribute("x",y/2),T.setAttribute("y",y/2),T.setAttribute("width",l-y),T.setAttribute("height",u-y),T.setAttribute("stroke-width",y||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),C.appendChild(T),this.container.append(C),this._createPopup(T,t),this.container}}class L extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:l,height:u}=E(t.rect),C=this.svgFactory.create(l,u),y=t.borderStyle.width,T=this.svgFactory.createElement("svg:ellipse");return T.setAttribute("cx",l/2),T.setAttribute("cy",u/2),T.setAttribute("rx",l/2-y/2),T.setAttribute("ry",u/2-y/2),T.setAttribute("stroke-width",y||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),C.appendChild(T),this.container.append(C),this._createPopup(T,t),this.container}}class F extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:u}=E(t.rect),C=this.svgFactory.create(l,u);let y=[];for(const U of t.vertices)y.push(U.x-t.rect[0]+","+(t.rect[3]-U.y));y=y.join(" ");const T=this.svgFactory.createElement(this.svgElementName);return T.setAttribute("points",y),T.setAttribute("stroke-width",t.borderStyle.width||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),C.appendChild(T),this.container.append(C),this._createPopup(T,t),this.container}}class D extends F{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:u}=E(t.rect),C=this.svgFactory.create(l,u);for(const y of t.inkLists){let T=[];for(const j of y)T.push(`${j.x-t.rect[0]},${t.rect[3]-j.y}`);T=T.join(" ");const U=this.svgFactory.createElement(this.svgElementName);U.setAttribute("points",T),U.setAttribute("stroke-width",t.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),this._createPopup(U,t),C.appendChild(U)}return this.container.append(C),this.container}}class q extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class B extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Y extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ee extends r{constructor(t){var u,C,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(C=t.data.contentsObj)?void 0:C.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ae extends r{constructor(t){var C;super(t,{isRenderable:!0});const{filename:l,content:u}=this.data.file;this.filename=(0,fe.getFilenameFromUrl)(l),this.content=u,null==(C=this.linkService.eventBus)||C.dispatch("fileattachmentannotation",{source:this,filename:l,content:u})}render(){var l,u;this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(l=this.data.titleObj)?void 0:l.str)||(null==(u=this.data.contentsObj)?void 0:u.str)||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){var t;null==(t=this.downloadManager)||t.openOrDownloadData(this.container,this.content,this.filename)}}class ce{static render(t){const l=[],u=[];for(const y of t.annotations){if(!y)continue;const{width:T,height:U}=E(y.rect);if(!(T<=0||U<=0)){if(y.annotationType===_.AnnotationType.POPUP){u.push(y);continue}l.push(y)}}u.length&&l.push(...u);const C=t.div;for(const y of l){const T=A.create({data:y,layer:C,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new fe.DOMSVGFactory,annotationStorage:t.annotationStorage||new re.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(T.isRenderable){const U=T.render();if(y.hidden&&(U.style.visibility="hidden"),Array.isArray(U))for(const j of U)C.appendChild(j);else T instanceof e?C.prepend(U):C.appendChild(U)}}Se(this,M,it).call(this,C,t.annotationCanvasMap)}static update(t){const{page:l,viewport:u,annotations:C,annotationCanvasMap:y,div:T}=t,U=u.transform,j=`matrix(${U.join(",")})`;let W,X;for(const Q of C){const te=T.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(te)for(const he of te)if(Q.hasOwnCanvas){const me=_.Util.normalizeRect([Q.rect[0],l.view[3]-Q.rect[1]+l.view[1],Q.rect[2],l.view[3]-Q.rect[3]+l.view[1]]);if(!X){W=Math.abs(U[0]||U[1]);const oe=U.slice();for(let x=0;x<4;x++)oe[x]=Math.sign(oe[x]);X=`matrix(${oe.join(",")})`}const K=me[0]*W,le=me[1]*W;he.style.left=`${K}px`,he.style.top=`${le}px`,he.style.transformOrigin=`${-K}px ${-le}px`,he.style.transform=X}else he.style.transform=j}Se(this,M,it).call(this,T,y),T.hidden=!1}}M=new WeakSet,it=function(t,l){if(l){for(const[u,C]of l){const y=t.querySelector(`[data-annotation-id="${u}"]`);if(!y)continue;const{firstChild:T}=y;"CANVAS"===T.nodeName?y.replaceChild(C,T):y.insertBefore(C,T)}l.clear()}},Pe(ce,M),k.AnnotationLayer=ce},(ge,k)=>{function Z(fe){return Math.floor(255*Math.max(0,Math.min(1,fe))).toString(16).padStart(2,"0")}Object.defineProperty(k,"__esModule",{value:!0}),k.ColorConverters=void 0,k.ColorConverters=class _{static CMYK_G([re,ie,ne,N]){return["G",1-Math.min(1,.3*re+.59*ne+.11*ie+N)]}static G_CMYK([re]){return["CMYK",0,0,0,1-re]}static G_RGB([re]){return["RGB",re,re,re]}static G_HTML([re]){const ie=Z(re);return`#${ie}${ie}${ie}`}static RGB_G([re,ie,ne]){return["G",.3*re+.59*ie+.11*ne]}static RGB_HTML([re,ie,ne]){return`#${Z(re)}${Z(ie)}${Z(ne)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([re,ie,ne,N]){return["RGB",1-Math.min(1,re+N),1-Math.min(1,ne+N),1-Math.min(1,ie+N)]}static CMYK_HTML(re){return this.RGB_HTML(this.CMYK_RGB(re))}static RGB_CMYK([re,ie,ne]){const N=1-re,h=1-ie,E=1-ne;return["CMYK",N,h,E,Math.min(N,h,E)]}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaLayer=void 0;var _=Z(18);k.XfaLayer=class fe{static setupStorage(ie,ne,N,h,E){const A=h.getValue(ne,{value:null});switch(N.name){case"textarea":if(null!==A.value&&(ie.textContent=A.value),"print"===E)break;ie.addEventListener("input",r=>{h.setValue(ne,{value:r.target.value})});break;case"input":if("radio"===N.attributes.type||"checkbox"===N.attributes.type){if(A.value===N.attributes.xfaOn?ie.setAttribute("checked",!0):A.value===N.attributes.xfaOff&&ie.removeAttribute("checked"),"print"===E)break;ie.addEventListener("change",r=>{h.setValue(ne,{value:r.target.getAttribute(r.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==A.value&&ie.setAttribute("value",A.value),"print"===E)break;ie.addEventListener("input",r=>{h.setValue(ne,{value:r.target.value})})}break;case"select":if(null!==A.value)for(const r of N.children)r.attributes.value===A.value&&(r.attributes.selected=!0);ie.addEventListener("input",r=>{const P=r.target.options;h.setValue(ne,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}static setAttributes({html:ie,element:ne,storage:N=null,intent:h,linkService:E}){const{attributes:A}=ne,r=ie instanceof HTMLAnchorElement;"radio"===A.type&&(A.name=`${A.name}-${h}`);for(const[P,o]of Object.entries(A))if(null!=o&&"dataId"!==P)if("style"!==P)if("textContent"===P)ie.textContent=o;else if("class"===P)o.length&&ie.setAttribute(P,o.join(" "));else{if(r&&("href"===P||"newWindow"===P))continue;ie.setAttribute(P,o)}else Object.assign(ie.style,o);r&&E.addLinkAttributes(ie,A.href,A.newWindow),N&&A.dataId&&this.setupStorage(ie,A.dataId,ne,N)}static render(ie){var s;const ne=ie.annotationStorage,N=ie.linkService,h=ie.xfaHtml,E=ie.intent||"display",A=document.createElement(h.name);h.attributes&&this.setAttributes({html:A,element:h,intent:E,linkService:N});const r=[[h,-1,A]],P=ie.div;if(P.appendChild(A),ie.viewport){const n=`matrix(${ie.viewport.transform.join(",")})`;P.style.transform=n}"richText"!==E&&P.setAttribute("class","xfaLayer xfaFont");const o=[];for(;r.length>0;){const[n,c,w]=r[r.length-1];if(c+1===n.children.length){r.pop();continue}const p=n.children[++r[r.length-1][1]];if(null===p)continue;const{name:g}=p;if("#text"===g){const i=document.createTextNode(p.value);o.push(i),w.appendChild(i);continue}let e;if(e=(null==(s=null==p?void 0:p.attributes)?void 0:s.xmlns)?document.createElementNS(p.attributes.xmlns,g):document.createElement(g),w.appendChild(e),p.attributes&&this.setAttributes({html:e,element:p,storage:ne,intent:E,linkService:N}),p.children&&p.children.length>0)r.push([p,-1,e]);else if(p.value){const i=document.createTextNode(p.value);_.XfaText.shouldBuildText(g)&&o.push(i),e.appendChild(i)}}for(const n of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))n.setAttribute("readOnly",!0);return{textDivs:o}}static update(ie){const ne=`matrix(${ie.viewport.transform.join(",")})`;ie.div.style.transform=ne,ie.div.hidden=!1}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.renderTextLayer=function c(w){const p=new n({textContent:w.textContent,textContentStream:w.textContentStream,container:w.container,viewport:w.viewport,textDivs:w.textDivs,textContentItemsStr:w.textContentItemsStr,enhanceTextSelection:w.enhanceTextSelection});return p._render(w.timeout),p};var _=Z(1);const ne=new Map,N=/^\s+$/g;function E(w,p,g,e){const i=document.createElement("span"),m=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL};w._textDivs.push(i);const b=_.Util.transform(w._viewport.transform,p.transform);let S=Math.atan2(b[1],b[0]);const L=g[p.fontName];L.vertical&&(S+=Math.PI/2);const F=Math.hypot(b[2],b[3]),D=F*function h(w,p){const g=ne.get(w);if(g)return g;p.save(),p.font=`30px ${w}`;const e=p.measureText("");let i=e.fontBoundingBoxAscent,m=Math.abs(e.fontBoundingBoxDescent);if(i){p.restore();const S=i/(i+m);return ne.set(w,S),S}p.strokeStyle="red",p.clearRect(0,0,30,30),p.strokeText("g",0,0);let b=p.getImageData(0,0,30,30).data;m=0;for(let S=b.length-1-3;S>=0;S-=4)if(b[S]>0){m=Math.ceil(S/4/30);break}p.clearRect(0,0,30,30),p.strokeText("A",0,30),b=p.getImageData(0,0,30,30).data,i=0;for(let S=0,L=b.length;S<L;S+=4)if(b[S]>0){i=30-Math.floor(S/4/30);break}if(p.restore(),i){const S=i/(i+m);return ne.set(w,S),S}return ne.set(w,.8),.8}(L.fontFamily,e);let V,H;0===S?(V=b[4],H=b[5]-D):(V=b[4]+D*Math.sin(S),H=b[5]-D*Math.cos(S)),i.style.left=`${V}px`,i.style.top=`${H}px`,i.style.fontSize=`${F}px`,i.style.fontFamily=L.fontFamily,i.setAttribute("role","presentation"),i.textContent=p.str,i.dir=p.dir,w._fontInspectorEnabled&&(i.dataset.fontName=p.fontName),0!==S&&(m.angle=S*(180/Math.PI));let q=!1;if(p.str.length>1||w._enhanceTextSelection&&N.test(p.str))q=!0;else if(" "!==p.str&&p.transform[0]!==p.transform[3]){const J=Math.abs(p.transform[0]),B=Math.abs(p.transform[3]);J!==B&&Math.max(J,B)/Math.min(J,B)>1.5&&(q=!0)}if(q&&(m.canvasWidth=L.vertical?p.height*w._viewport.scale:p.width*w._viewport.scale),w._textDivProperties.set(i,m),w._textContentStream&&w._layoutText(i),w._enhanceTextSelection&&m.hasText){let J=1,B=0;0!==S&&(J=Math.cos(S),B=Math.sin(S));const Y=(L.vertical?p.height:p.width)*w._viewport.scale,ee=F;let ae,ce;0!==S?(ae=[J,B,-B,J,V,H],ce=_.Util.getAxialAlignedBoundingBox([0,0,Y,ee],ae)):ce=[V,H,V+Y,H+ee],w._bounds.push({left:ce[0],top:ce[1],right:ce[2],bottom:ce[3],div:i,size:[Y,ee],m:ae})}}function A(w){if(w._canceled)return;const p=w._textDivs,g=w._capability,e=p.length;if(e>1e5)return w._renderingDone=!0,void g.resolve();if(!w._textContentStream)for(let i=0;i<e;i++)w._layoutText(p[i]);w._renderingDone=!0,g.resolve()}function r(w,p,g){let e=0;for(let i=0;i<g;i++){const m=w[p++];m>0&&(e=e?Math.min(m,e):m)}return e}function s(w,p){p.sort(function(i,m){return i.x1-m.x1||i.index-m.index});const e=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of p){let m=0;for(;m<e.length&&e[m].end<=i.y1;)m++;let b=e.length-1;for(;b>=0&&e[b].start>=i.y2;)b--;let S,L,F,D,V=-1/0;for(F=m;F<=b;F++){let J;S=e[F],L=S.boundary,J=L.x2>i.x1?L.index>i.index?L.x1New:i.x1:void 0===L.x2New?(L.x2+i.x1)/2:L.x2New,J>V&&(V=J)}for(i.x1New=V,F=m;F<=b;F++)S=e[F],L=S.boundary,void 0===L.x2New?L.x2>i.x1?L.index>i.index&&(L.x2New=L.x2):L.x2New=V:L.x2New>V&&(L.x2New=Math.max(V,L.x2));const H=[];let q=null;for(F=m;F<=b;F++){S=e[F],L=S.boundary;const J=L.x2>i.x2?L:i;q===J?H[H.length-1].end=S.end:(H.push({start:S.start,end:S.end,boundary:J}),q=J)}for(e[m].start<i.y1&&(H[0].start=i.y1,H.unshift({start:e[m].start,end:i.y1,boundary:e[m].boundary})),i.y2<e[b].end&&(H[H.length-1].end=i.y2,H.push({start:i.y2,end:e[b].end,boundary:e[b].boundary})),F=m;F<=b;F++){if(S=e[F],L=S.boundary,void 0!==L.x2New)continue;let J=!1;for(D=m-1;!J&&D>=0&&e[D].start>=L.y1;D--)J=e[D].boundary===L;for(D=b+1;!J&&D<e.length&&e[D].end<=L.y2;D++)J=e[D].boundary===L;for(D=0;!J&&D<H.length;D++)J=H[D].boundary===L;J||(L.x2New=V)}Array.prototype.splice.apply(e,[m,b-m+1].concat(H))}for(const i of e){const m=i.boundary;void 0===m.x2New&&(m.x2New=Math.max(w,m.x2))}}class n{constructor({textContent:p,textContentStream:g,container:e,viewport:i,textDivs:m,textContentItemsStr:b,enhanceTextSelection:S}){var L;this._textContent=p,this._textContentStream=g,this._container=e,this._document=e.ownerDocument,this._viewport=i,this._textDivs=m||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!S,this._fontInspectorEnabled=!!(null==(L=globalThis.FontInspector)?void 0:L.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(p,g){for(let e=0,i=p.length;e<i;e++)if(void 0!==p[e].str)this._textContentItemsStr.push(p[e].str),E(this,p[e],g,this._layoutTextCtx);else if("beginMarkedContentProps"===p[e].type||"beginMarkedContent"===p[e].type){const m=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==p[e].id&&this._container.setAttribute("id",`${p[e].id}`),m.appendChild(this._container)}else"endMarkedContent"===p[e].type&&(this._container=this._container.parentNode)}_layoutText(p){const g=this._textDivProperties.get(p);let e="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:i,fontFamily:m}=p.style;(i!==this._layoutTextLastFontSize||m!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${m}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=m);const{width:b}=this._layoutTextCtx.measureText(p.textContent);if(b>0){const S=g.canvasWidth/b;this._enhanceTextSelection&&(g.scale=S),e=`scaleX(${S})`}}if(0!==g.angle&&(e=`rotate(${g.angle}deg) ${e}`),e.length>0&&(this._enhanceTextSelection&&(g.originalTransform=e),p.style.transform=e),g.hasText&&this._container.appendChild(p),g.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(p=0){const g=(0,_.createPromiseCapability)();let e=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=30,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const m=()=>{this._reader.read().then(({value:b,done:S})=>{S?g.resolve():(Object.assign(e,b.styles),this._processItems(b.items,e),m())},g.reject)};this._reader=this._textContentStream.getReader(),m()}}g.promise.then(()=>{e=null,p?this._renderTimer=setTimeout(()=>{A(this),this._renderTimer=null},p):A(this)},this._capability.reject)}expandTextDivs(p=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function P(w){const p=w._bounds,g=w._viewport,e=function o(w,p,g){const e=g.map(function(m,b){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:b,x1New:void 0,x2New:void 0}});s(w,e);const i=new Array(g.length);for(const m of e)i[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};g.map(function(m,b){const S=i[b],L=e[b];L.x1=m.top,L.y1=w-S.right,L.x2=m.bottom,L.y2=w-S.left,L.index=b,L.x1New=void 0,L.x2New=void 0}),s(p,e);for(const m of e){const b=m.index;i[b].top=m.x1New,i[b].bottom=m.x2New}return i}(g.width,g.height,p);for(let i=0;i<e.length;i++){const m=p[i].div,b=w._textDivProperties.get(m);if(0===b.angle){b.paddingLeft=p[i].left-e[i].left,b.paddingTop=p[i].top-e[i].top,b.paddingRight=e[i].right-p[i].right,b.paddingBottom=e[i].bottom-p[i].bottom,w._textDivProperties.set(m,b);continue}const S=e[i],L=p[i],F=L.m,D=F[0],V=F[1],H=[[0,0],[0,L.size[1]],[L.size[0],0],L.size],q=new Float64Array(64);for(let B=0,Y=H.length;B<Y;B++){const ee=_.Util.applyTransform(H[B],F);q[B+0]=D&&(S.left-ee[0])/D,q[B+4]=V&&(S.top-ee[1])/V,q[B+8]=D&&(S.right-ee[0])/D,q[B+12]=V&&(S.bottom-ee[1])/V,q[B+16]=V&&(S.left-ee[0])/-V,q[B+20]=D&&(S.top-ee[1])/D,q[B+24]=V&&(S.right-ee[0])/-V,q[B+28]=D&&(S.bottom-ee[1])/D,q[B+32]=D&&(S.left-ee[0])/-D,q[B+36]=V&&(S.top-ee[1])/-V,q[B+40]=D&&(S.right-ee[0])/-D,q[B+44]=V&&(S.bottom-ee[1])/-V,q[B+48]=V&&(S.left-ee[0])/V,q[B+52]=D&&(S.top-ee[1])/-D,q[B+56]=V&&(S.right-ee[0])/V,q[B+60]=D&&(S.bottom-ee[1])/-D}const J=1+Math.min(Math.abs(D),Math.abs(V));b.paddingLeft=r(q,32,16)/J,b.paddingTop=r(q,48,16)/J,b.paddingRight=r(q,0,16)/J,b.paddingBottom=r(q,16,16)/J,w._textDivProperties.set(m,b)}}(this),this._bounds=null);const g=[],e=[];for(let i=0,m=this._textDivs.length;i<m;i++){const b=this._textDivs[i],S=this._textDivProperties.get(b);!S.hasText||(p?(g.length=0,e.length=0,S.originalTransform&&g.push(S.originalTransform),S.paddingTop>0?(e.push(`${S.paddingTop}px`),g.push(`translateY(${-S.paddingTop}px)`)):e.push(0),e.push(S.paddingRight>0?S.paddingRight/S.scale+"px":0),e.push(S.paddingBottom>0?`${S.paddingBottom}px`:0),S.paddingLeft>0?(e.push(S.paddingLeft/S.scale+"px"),g.push(`translateX(${-S.paddingLeft/S.scale}px)`)):e.push(0),b.style.padding=e.join(" "),g.length&&(b.style.transform=g.join(" "))):(b.style.padding=null,b.style.transform=S.originalTransform))}}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SVGGraphics=void 0;var _=Z(1),fe=Z(5),re=Z(3);let ie=class{constructor(){(0,_.unreachable)("Not implemented: SVGGraphics")}};k.SVGGraphics=ie;{let s=function(e){let i=[];const m=[];for(const b of e)"save"!==b.fn?"restore"===b.fn?i=m.pop():i.push(b):(i.push({fnId:92,fn:"group",items:[]}),m.push(i),i=i[i.length-1].items);return i},n=function(e){if(Number.isInteger(e))return e.toString();const i=e.toFixed(10);let m=i.length-1;if("0"!==i[m])return i;do{m--}while("0"===i[m]);return i.substring(0,"."===i[m]?m:m+1)},c=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${n(e[0])} ${n(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const i=180*Math.acos(e[0])/Math.PI;return`rotate(${n(i)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${n(e[4])} ${n(e[5])})`;return`matrix(${n(e[0])} ${n(e[1])} ${n(e[2])} ${n(e[3])} ${n(e[4])} ${n(e[5])})`};const ne={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},N="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",E=["butt","round","square"],A=["miter","round","bevel"],r=function(e,i="",m=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!m)return URL.createObjectURL(new Blob([e],{type:i}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let S=`data:${i};base64,`;for(let L=0,F=e.length;L<F;L+=3){const D=255&e[L],V=255&e[L+1],H=255&e[L+2];S+=b[D>>2]+b[(3&D)<<4|V>>4]+b[L+1<F?(15&V)<<2|H>>6:64]+b[L+2<F?63&H:64]}return S},P=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),m=new Int32Array(256);for(let H=0;H<256;H++){let q=H;for(let J=0;J<8;J++)q=1&q?3988292384^q>>1&2147483647:q>>1&2147483647;m[H]=q}function S(H,q,J,B){let Y=B;const ee=q.length;J[Y]=ee>>24&255,J[Y+1]=ee>>16&255,J[Y+2]=ee>>8&255,J[Y+3]=255&ee,Y+=4,J[Y]=255&H.charCodeAt(0),J[Y+1]=255&H.charCodeAt(1),J[Y+2]=255&H.charCodeAt(2),J[Y+3]=255&H.charCodeAt(3),Y+=4,J.set(q,Y),Y+=q.length;const ae=function b(H,q,J){let B=-1;for(let Y=q;Y<J;Y++)B=B>>>8^m[255&(B^H[Y])];return-1^B}(J,B+4,Y);J[Y]=ae>>24&255,J[Y+1]=ae>>16&255,J[Y+2]=ae>>8&255,J[Y+3]=255&ae}function D(H){let q=H.length;const J=65535,B=Math.ceil(q/J),Y=new Uint8Array(2+q+5*B+4);let ee=0;Y[ee++]=120,Y[ee++]=156;let ae=0;for(;q>J;)Y[ee++]=0,Y[ee++]=255,Y[ee++]=255,Y[ee++]=0,Y[ee++]=0,Y.set(H.subarray(ae,ae+J),ee),ee+=J,ae+=J,q-=J;Y[ee++]=1,Y[ee++]=255&q,Y[ee++]=q>>8&255,Y[ee++]=255&~q,Y[ee++]=(65535&~q)>>8&255,Y.set(H.subarray(ae),ee),ee+=H.length-ae;const ce=function L(H,q,J){let B=1,Y=0;for(let ee=q;ee<J;++ee)B=(B+(255&H[ee]))%65521,Y=(Y+B)%65521;return Y<<16|B}(H,0,H.length);return Y[ee++]=ce>>24&255,Y[ee++]=ce>>16&255,Y[ee++]=ce>>8&255,Y[ee++]=255&ce,Y}return function(q,J,B){return function V(H,q,J,B){const Y=H.width,ee=H.height;let ae,ce,M;const a=H.data;switch(q){case _.ImageKind.GRAYSCALE_1BPP:ce=0,ae=1,M=Y+7>>3;break;case _.ImageKind.RGB_24BPP:ce=2,ae=8,M=3*Y;break;case _.ImageKind.RGBA_32BPP:ce=6,ae=8,M=4*Y;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+M)*ee);let t=0,l=0;for(let j=0;j<ee;++j)d[t++]=0,d.set(a.subarray(l,l+M),t),l+=M,t+=M;if(q===_.ImageKind.GRAYSCALE_1BPP&&B){t=0;for(let j=0;j<ee;j++){t++;for(let W=0;W<M;W++)d[t++]^=255}}const u=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,255&Y,ee>>24&255,ee>>16&255,ee>>8&255,255&ee,ae,ce,0,0,0]),C=function F(H){if(!re.isNodeJS)return D(H);try{let q;q=parseInt(process.versions.node)>=8?H:Buffer.from(H);const J=__webpack_require__(2258).deflateSync(q,{level:9});return J instanceof Uint8Array?J:new Uint8Array(J)}catch(q){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+q)}return D(H)}(d),T=new Uint8Array(e.length+36+u.length+C.length);let U=0;return T.set(e,U),U+=e.length,S("IHDR",u,T,U),U+=12+u.length,S("IDATA",C,T,U),U+=12+C.length,S("IEND",new Uint8Array(0),T,U),r(T,"image/png",J)}(q,void 0===q.kind?_.ImageKind.GRAYSCALE_1BPP:q.kind,J,B)}}();class o{constructor(){this.fontSizeScale=1,this.fontWeight=ne.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ne.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,m){this.x=i,this.y=m}}let w=0,p=0,g=0;k.SVGGraphics=ie=class{constructor(e,i,m=!1){this.svgFactory=new fe.DOMSVGFactory,this.current=new o,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!m,this._operatorIdMapping=[];for(const b in _.OPS)this._operatorIdMapping[_.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const i=e.fnArray,m=e.argsArray;for(let b=0,S=i.length;b<S;b++)if(i[b]===_.OPS.dependency)for(const L of m[b]){const F=L.startsWith("g_")?this.commonObjs:this.objs,D=new Promise(V=>{F.get(L,V)});this.current.dependencies.push(D)}return Promise.all(this.current.dependencies)}transform(e,i,m,b,S,L){this.transformMatrix=_.Util.transform(this.transformMatrix,[e,i,m,b,S,L]),this.tgrp=null}getSVG(e,i){this.viewport=i;const m=this._initialize(i);return this.loadDependencies(e).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),m))}convertOpList(e){const i=this._operatorIdMapping,m=e.argsArray,b=e.fnArray,S=[];for(let L=0,F=b.length;L<F;L++){const D=b[L];S.push({fnId:D,fn:i[D],args:m[L]})}return s(S)}executeOpTree(e){for(const i of e){const m=i.fn,S=i.args;switch(0|i.fnId){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(S);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(S[0],S[1]);break;case _.OPS.setFont:this.setFont(S);break;case _.OPS.showText:case _.OPS.showSpacedText:this.showText(S[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(S[0],S[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(S[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(S[0]);break;case _.OPS.setHScale:this.setHScale(S[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(S[0],S[1],S[2],S[3],S[4],S[5]);break;case _.OPS.setTextRise:this.setTextRise(S[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(S[0]);break;case _.OPS.setLineWidth:this.setLineWidth(S[0]);break;case _.OPS.setLineJoin:this.setLineJoin(S[0]);break;case _.OPS.setLineCap:this.setLineCap(S[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(S[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(S[0],S[1],S[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(S[0],S[1],S[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(S);break;case _.OPS.setFillColorN:this.setFillColorN(S);break;case _.OPS.shadingFill:this.shadingFill(S[0]);break;case _.OPS.setDash:this.setDash(S[0],S[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(S[0]);break;case _.OPS.setFlatness:this.setFlatness(S[0]);break;case _.OPS.setGState:this.setGState(S[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(S[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(S[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(S[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(S[0],S[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(S[0],S[1],S[2],S[3],S[4],S[5]);break;case _.OPS.constructPath:this.constructPath(S[0],S[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,_.warn)(`Unimplemented operator ${m}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,i,m,b,S,L){const F=this.current;F.textMatrix=F.lineMatrix=[e,i,m,b,S,L],F.textMatrixScale=Math.hypot(e,i),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${n(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",n(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.appendChild(F.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=_.IDENTITY_MATRIX,e.lineMatrix=_.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,i){const m=this.current;m.x=m.lineX+=e,m.y=m.lineY+=i,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${n(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",n(-m.y))}showText(e){const i=this.current,m=i.font,b=i.fontSize;if(0===b)return;const S=i.fontSizeScale,L=i.charSpacing,F=i.wordSpacing,D=i.fontDirection,V=i.textHScale*D,H=m.vertical,q=H?1:-1,J=m.defaultVMetrics,B=b*i.fontMatrix[0];let Y=0;for(const ce of e){if(null===ce){Y+=D*F;continue}if("number"==typeof ce){Y+=q*ce*b/1e3;continue}const M=(ce.isSpace?F:0)+L,a=ce.fontChar;let d,t,u,l=ce.width;if(H){let C;const y=ce.vmetric||J;C=ce.vmetric?y[1]:.5*l,C=-C*B,l=y?-y[0]:l,d=C/S,t=(Y+y[2]*B)/S}else d=Y/S,t=0;(ce.isInFont||m.missingFile)&&(i.xcoords.push(i.x+d),H&&i.ycoords.push(-i.y+t),i.tspan.textContent+=a),u=H?l*B-M*D:l*B+M*D,Y+=u}i.tspan.setAttributeNS(null,"x",i.xcoords.map(n).join(" ")),i.tspan.setAttributeNS(null,"y",H?i.ycoords.map(n).join(" "):n(-i.y)),H?i.y-=Y:i.x+=Y*V,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${n(i.fontSize)}px`),i.fontStyle!==ne.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==ne.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const ee=i.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;ee===_.TextRenderingMode.FILL||ee===_.TextRenderingMode.FILL_STROKE?(i.fillColor!==ne.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ee===_.TextRenderingMode.STROKE||ee===_.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let ae=i.textMatrix;0!==i.textRise&&(ae=ae.slice(),ae[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${c(ae)} scale(${n(V)}, -1)`),i.txtElement.setAttributeNS(N,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=r(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${i}); }\n`}setFont(e){const i=this.current,m=this.commonObjs.get(e[0]);let b=e[1];i.font=m,this.embedFonts&&!m.missingFile&&!this.embeddedFonts[m.loadedName]&&(this.addFontStyle(m),this.embeddedFonts[m.loadedName]=m),i.fontMatrix=m.fontMatrix||_.FONT_IDENTITY_MATRIX;let S="normal";m.black?S="900":m.bold&&(S="bold");const L=m.italic?"italic":"normal";b<0?(b=-b,i.fontDirection=-1):i.fontDirection=1,i.fontSize=b,i.fontFamily=m.loadedName,i.fontWeight=S,i.fontStyle=L,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",n(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const e=this.current;e.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=e.txtElement)?void 0:i.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=E[e]}setLineJoin(e){this.current.lineJoin=A[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,i,m){this.current.strokeColor=_.Util.makeHexColor(e,i,m)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,i,m){this.current.fillColor=_.Util.makeHexColor(e,i,m),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const i=this.viewport.width,m=this.viewport.height,b=_.Util.inverseTransform(this.transformMatrix),S=_.Util.applyTransform([0,0],b),L=_.Util.applyTransform([0,m],b),F=_.Util.applyTransform([i,0],b),D=_.Util.applyTransform([i,m],b),V=Math.min(S[0],L[0],F[0],D[0]),H=Math.min(S[1],L[1],F[1],D[1]),q=Math.max(S[0],L[0],F[0],D[0]),J=Math.max(S[1],L[1],F[1],D[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",V),B.setAttributeNS(null,"y",H),B.setAttributeNS(null,"width",q-V),B.setAttributeNS(null,"height",J-H),B.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(B)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const i=e[1],m=e[2],b=e[3]||_.IDENTITY_MATRIX,[S,L,F,D]=e[4],V=e[5],H=e[6],q=e[7],J="shading"+g++,[B,Y,ee,ae]=_.Util.normalizeRect([..._.Util.applyTransform([S,L],b),..._.Util.applyTransform([F,D],b)]),[ce,M]=_.Util.singularValueDecompose2dScale(b),a=V*ce,d=H*M,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",J),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",a),t.setAttributeNS(null,"height",d),t.setAttributeNS(null,"x",`${B}`),t.setAttributeNS(null,"y",`${Y}`);const l=this.svg,u=this.transformMatrix,C=this.current.fillColor,y=this.current.strokeColor,T=this.svgFactory.create(ee-B,ae-Y);if(this.svg=T,this.transformMatrix=b,2===q){const U=_.Util.makeHexColor(...i);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(m)),this.svg=l,this.transformMatrix=u,this.current.fillColor=C,this.current.strokeColor=y,t.appendChild(T.childNodes[0]),this.defs.appendChild(t),`url(#${J})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const i="shading"+g++,m=e[3];let b;switch(e[1]){case"axial":const S=e[4],L=e[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",i),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",S[0]),b.setAttributeNS(null,"y1",S[1]),b.setAttributeNS(null,"x2",L[0]),b.setAttributeNS(null,"y2",L[1]);break;case"radial":const F=e[4],D=e[5],V=e[6],H=e[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",i),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",D[0]),b.setAttributeNS(null,"cy",D[1]),b.setAttributeNS(null,"r",H),b.setAttributeNS(null,"fx",F[0]),b.setAttributeNS(null,"fy",F[1]),b.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const S of m){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",S[0]),L.setAttributeNS(null,"stop-color",S[1]),b.appendChild(L)}return this.defs.appendChild(b),`url(#${i})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,i){this.current.dashArray=e,this.current.dashPhase=i}constructPath(e,i){const m=this.current;let b=m.x,S=m.y,L=[],F=0;for(const D of e)switch(0|D){case _.OPS.rectangle:b=i[F++],S=i[F++];const q=b+i[F++],J=S+i[F++];L.push("M",n(b),n(S),"L",n(q),n(S),"L",n(q),n(J),"L",n(b),n(J),"Z");break;case _.OPS.moveTo:b=i[F++],S=i[F++],L.push("M",n(b),n(S));break;case _.OPS.lineTo:b=i[F++],S=i[F++],L.push("L",n(b),n(S));break;case _.OPS.curveTo:b=i[F+4],S=i[F+5],L.push("C",n(i[F]),n(i[F+1]),n(i[F+2]),n(i[F+3]),n(b),n(S)),F+=6;break;case _.OPS.curveTo2:L.push("C",n(b),n(S),n(i[F]),n(i[F+1]),n(i[F+2]),n(i[F+3])),b=i[F+2],S=i[F+3],F+=4;break;case _.OPS.curveTo3:b=i[F+2],S=i[F+3],L.push("C",n(i[F]),n(i[F+1]),n(b),n(S),n(b),n(S)),F+=4;break;case _.OPS.closePath:L.push("Z")}L=L.join(" "),m.path&&e.length>0&&e[0]!==_.OPS.rectangle&&e[0]!==_.OPS.moveTo?L=m.path.getAttributeNS(null,"d")+L:(m.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(m.path)),m.path.setAttributeNS(null,"d",L),m.path.setAttributeNS(null,"fill","none"),m.element=m.path,m.setCurrentPoint(b,S)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const i="clippath"+w++,m=this.svgFactory.createElement("svg:clipPath");m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"transform",c(this.transformMatrix));const b=e.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,m.appendChild(b),this.defs.appendChild(m),e.activeClipUrl){e.clipGroup=null;for(const S of this.extraStack)S.clipGroup=null;m.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const i=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",i)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,m]of e)switch(i){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m);break;case"CA":this.setStrokeAlpha(m);break;case"ca":this.setFillAlpha(m);break;default:(0,_.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,i=1){const m=this.current;let b=m.dashArray;1!==i&&b.length>0&&(b=b.map(function(S){return i*S})),e.setAttributeNS(null,"stroke",m.strokeColor),e.setAttributeNS(null,"stroke-opacity",m.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",n(m.miterLimit)),e.setAttributeNS(null,"stroke-linecap",m.lineCap),e.setAttributeNS(null,"stroke-linejoin",m.lineJoin),e.setAttributeNS(null,"stroke-width",n(i*m.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",b.map(n).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",n(i*m.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);i?this.paintInlineImageXObject(i):(0,_.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,i){const m=e.width,b=e.height,S=P(e,this.forceDataSchema,!!i),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",n(m)),L.setAttributeNS(null,"height",n(b)),this.current.element=L,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(h,"xlink:href",S),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",n(-b)),F.setAttributeNS(null,"width",n(m)+"px"),F.setAttributeNS(null,"height",n(b)+"px"),F.setAttributeNS(null,"transform",`scale(${n(1/m)} ${n(-1/b)})`),i?i.appendChild(F):this._ensureTransformGroup().appendChild(F)}paintImageMaskXObject(e){const i=this.current,m=e.width,b=e.height,S=i.fillColor;i.maskId="mask"+p++;const L=this.svgFactory.createElement("svg:mask");L.setAttributeNS(null,"id",i.maskId);const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",n(m)),F.setAttributeNS(null,"height",n(b)),F.setAttributeNS(null,"fill",S),F.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(L),this._ensureTransformGroup().appendChild(F),this.paintInlineImageXObject(e,L)}paintFormXObjectBegin(e,i){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i){const m=i[2]-i[0],b=i[3]-i[1],S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x",i[0]),S.setAttributeNS(null,"y",i[1]),S.setAttributeNS(null,"width",n(m)),S.setAttributeNS(null,"height",n(b)),this.current.element=S,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const i=this.svgFactory.create(e.width,e.height),m=this.svgFactory.createElement("svg:defs");i.appendChild(m),this.defs=m;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",c(e.transform)),i.appendChild(b),this.svg=b,i}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNodeStream=void 0;var _=Z(1),fe=Z(26);const re=__webpack_require__(172),ie=__webpack_require__(2001),ne=__webpack_require__(3779),N=__webpack_require__(6558),h=/^file:\/\/\/[a-zA-Z]:\//;k.PDFNodeStream=class A{constructor(g){this.source=g,this.url=function E(p){const g=N.parse(p);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(p)?N.parse(`file:///${p}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g,e;return null!=(e=null==(g=this._fullRequestReader)?void 0:g._loaded)?e:0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new c(this):new s(this),this._fullRequestReader}getRangeReader(g,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new w(this,g,e):new n(this,g,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const e of this._rangeRequestReaders.slice(0))e.cancel(g)}};class r{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=g.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._headersCapability=(0,_.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const e=g._readableStream.read();return null===e?(g._readCapability=(0,_.createPromiseCapability)(),g.read()):(g._loaded+=e.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class P{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const e=g._readableStream.read();return null===e?(g._readCapability=(0,_.createPromiseCapability)(),g.read()):(g._loaded+=e.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(p,g){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:g}}class s extends r{constructor(g){super(g);const e=i=>{if(404===i.statusCode){const L=new _.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=L,void this._headersCapability.reject(L)}this._headersCapability.resolve(),this._setReadableStream(i);const m=L=>this._readableStream.headers[L.toLowerCase()],{allowRangeRequests:b,suggestedLength:S}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=S||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(m)};this._request=null,this._request="http:"===this._url.protocol?ie.request(o(this._url,g.httpHeaders),e):ne.request(o(this._url,g.httpHeaders),e),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class n extends P{constructor(g,e,i){super(g),this._httpHeaders={};for(const b in g.httpHeaders){const S=g.httpHeaders[b];void 0!==S&&(this._httpHeaders[b]=S)}this._httpHeaders.Range=`bytes=${e}-${i-1}`;const m=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const S=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S}};this._request=null,this._request="http:"===this._url.protocol?ie.request(o(this._url,this._httpHeaders),m):ne.request(o(this._url,this._httpHeaders),m),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class c extends r{constructor(g){super(g);let e=decodeURIComponent(this._url.path);h.test(this._url.href)&&(e=e.replace(/^\//,"")),re.lstat(e,(i,m)=>{if(i)return"ENOENT"===i.code&&(i=new _.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=m.size,this._setReadableStream(re.createReadStream(e)),this._headersCapability.resolve()})}}class w extends P{constructor(g,e,i){super(g);let m=decodeURIComponent(this._url.path);h.test(this._url.href)&&(m=m.replace(/^\//,"")),this._setReadableStream(re.createReadStream(m,{start:e,end:i-1}))}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.createResponseStatusError=function N(E,A){return 404===E||0===E&&A.startsWith("file:")?new _.MissingPDFException('Missing PDF "'+A+'".'):new _.UnexpectedResponseException(`Unexpected server response (${E}) while retrieving PDF "${A}".`,E)},k.extractFilenameFromHeader=function ne(E){const A=E("Content-Disposition");if(A){let r=(0,fe.getFilenameFromContentDispositionHeader)(A);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(P){}if((0,re.isPdfFile)(r))return r}return null},k.validateRangeRequestCapabilities=function ie({getResponseHeader:E,isHttp:A,rangeChunkSize:r,disableRange:P}){const o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(E("Content-Length"),10);return!Number.isInteger(s)||(o.suggestedLength=s,s<=2*r)||P||!A||"bytes"!==E("Accept-Ranges")||"identity"!==(E("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},k.validateResponseStatus=function h(E){return 200===E||206===E};var _=Z(1),fe=Z(27),re=Z(5)},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.getFilenameFromContentDispositionHeader=function fe(re){let ie=!0,ne=N("filename\\*","i").exec(re);if(ne){ne=ne[1];let s=r(ne);return s=unescape(s),s=P(s),s=o(s),E(s)}if(ne=function A(s){const n=[];let c;const w=N("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(c=w.exec(s));){let[,g,e,i]=c;if(g=parseInt(g,10),g in n){if(0===g)break}else n[g]=[e,i]}const p=[];for(let g=0;g<n.length&&g in n;++g){let[e,i]=n[g];i=r(i),e&&(i=unescape(i),0===g&&(i=P(i))),p.push(i)}return p.join("")}(re),ne)return E(o(ne));if(ne=N("filename","i").exec(re),ne){ne=ne[1];let s=r(ne);return s=o(s),E(s)}function N(s,n){return new RegExp("(?:^|;)\\s*"+s+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',n)}function h(s,n){if(s){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const c=new TextDecoder(s,{fatal:!0}),w=(0,_.stringToBytes)(n);n=c.decode(w),ie=!1}catch(c){}}return n}function E(s){return ie&&/[\x80-\xff]/.test(s)&&(s=h("utf-8",s),ie&&(s=h("iso-8859-1",s))),s}function r(s){if(s.startsWith('"')){const n=s.slice(1).split('\\"');for(let c=0;c<n.length;++c){const w=n[c].indexOf('"');-1!==w&&(n[c]=n[c].slice(0,w),n.length=c+1),n[c]=n[c].replace(/\\(.)/g,"$1")}s=n.join('"')}return s}function P(s){const n=s.indexOf("'");return-1===n?s:h(s.slice(0,n),s.slice(n+1).replace(/^[^']*'/,""))}function o(s){return!s.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(s)?s:s.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(n,c,w,p){if("q"===w||"Q"===w)return h(c,p=(p=p.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,e){return String.fromCharCode(parseInt(e,16))}));try{p=atob(p)}catch(g){}return h(c,p)})}return""};var _=Z(1)},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNetworkStream=void 0;var _=Z(1),fe=Z(26);class N{constructor(P,o={}){this.url=P,this.isHttp=/^https?:/i.test(P),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.getXhr=o.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(P,o,s){const n={begin:P,end:o};for(const c in s)n[c]=s[c];return this.request(n)}requestFull(P){return this.request(P)}request(P){const o=this.getXhr(),s=this.currXhrId++,n=this.pendingRequests[s]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const c in this.httpHeaders){const w=this.httpHeaders[c];void 0!==w&&o.setRequestHeader(c,w)}return this.isHttp&&"begin"in P&&"end"in P?(o.setRequestHeader("Range",`bytes=${P.begin}-${P.end-1}`),n.expectedStatus=206):n.expectedStatus=200,o.responseType="arraybuffer",P.onError&&(o.onerror=function(c){P.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,s),o.onprogress=this.onProgress.bind(this,s),n.onHeadersReceived=P.onHeadersReceived,n.onDone=P.onDone,n.onError=P.onError,n.onProgress=P.onProgress,o.send(null),s}onProgress(P,o){var n;const s=this.pendingRequests[P];!s||null==(n=s.onProgress)||n.call(s,o)}onStateChange(P,o){var g,e,i;const s=this.pendingRequests[P];if(!s)return;const n=s.xhr;if(n.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),4!==n.readyState||!(P in this.pendingRequests))return;if(delete this.pendingRequests[P],0===n.status&&this.isHttp)return void(null==(g=s.onError)||g.call(s,n.status));const c=n.status||200;if((200!==c||206!==s.expectedStatus)&&c!==s.expectedStatus)return void(null==(e=s.onError)||e.call(s,n.status));const p=function ne(r){const P=r.response;return"string"!=typeof P?P:(0,_.stringToBytes)(P).buffer}(n);if(206===c){const m=n.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);s.onDone({begin:parseInt(b[1],10),chunk:p})}else p?s.onDone({begin:0,chunk:p}):null==(i=s.onError)||i.call(s,n.status)}getRequestXhr(P){return this.pendingRequests[P].xhr}isPendingRequest(P){return P in this.pendingRequests}abortRequest(P){const o=this.pendingRequests[P].xhr;delete this.pendingRequests[P],o.abort()}}k.PDFNetworkStream=class h{constructor(P){this._source=P,this._manager=new N(P.url,{httpHeaders:P.httpHeaders,withCredentials:P.withCredentials}),this._rangeChunkSize=P.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(P){const o=this._rangeRequestReaders.indexOf(P);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E(this._manager,this._source),this._fullRequestReader}getRangeReader(P,o){const s=new A(this._manager,P,o);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(P){var o;null==(o=this._fullRequestReader)||o.cancel(P);for(const s of this._rangeRequestReaders.slice(0))s.cancel(P)}};class E{constructor(P,o){this._manager=P;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=P.requestFull(s),this._headersReceivedCapability=(0,_.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const P=this._fullRequestId,o=this._manager.getRequestXhr(P),s=w=>o.getResponseHeader(w),{allowRangeRequests:n,suggestedLength:c}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(s),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}_onDone(P){if(P&&(this._requests.length>0?this._requests.shift().resolve({value:P.chunk,done:!1}):this._cachedChunks.push(P.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(P){this._storedError=(0,fe.createResponseStatusError)(P,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(P){var o;null==(o=this.onProgress)||o.call(this,{loaded:P.loaded,total:P.lengthComputable?P.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(P._cachedChunks.length>0)return{value:P._cachedChunks.shift(),done:!1};if(P._done)return{value:void 0,done:!0};const o=(0,_.createPromiseCapability)();return P._requests.push(o),o.promise})()}cancel(P){this._done=!0,this._headersReceivedCapability.reject(P);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class A{constructor(P,o,s){this._manager=P;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._requestId=P.requestRange(o,s,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var P;null==(P=this.onClosed)||P.call(this,this)}_onDone(P){const o=P.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(P){this._storedError=(0,fe.createResponseStatusError)(P,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(P){var o;this.isStreamingSupported||null==(o=this.onProgress)||o.call(this,{loaded:P.loaded})}get isStreamingSupported(){return!1}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(null!==P._queuedChunk){const s=P._queuedChunk;return P._queuedChunk=null,{value:s,done:!1}}if(P._done)return{value:void 0,done:!0};const o=(0,_.createPromiseCapability)();return P._requests.push(o),o.promise})()}cancel(P){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ge,k,Z)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFFetchStream=void 0;var _=Z(1),fe=Z(26);function re(E,A,r){return{method:"GET",headers:E,signal:null==r?void 0:r.signal,mode:"cors",credentials:A?"include":"same-origin",redirect:"follow"}}function ie(E){const A=new Headers;for(const r in E){const P=E[r];void 0!==P&&A.append(r,P)}return A}k.PDFFetchStream=class ne{constructor(A){this.source=A,this.isHttp=/^https?:/i.test(A.url),this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var A,r;return null!=(r=null==(A=this._fullRequestReader)?void 0:A._loaded)?r:0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new N(this),this._fullRequestReader}getRangeReader(A,r){if(r<=this._progressiveDataLength)return null;const P=new h(this,A,r);return this._rangeRequestReaders.push(P),P}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const r of this._rangeRequestReaders.slice(0))r.cancel(A)}};class N{constructor(A){this._stream=A,this._reader=null,this._loaded=0,this._filename=null;const r=A.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,_.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=ie(this._stream.httpHeaders);const P=r.url;fetch(P,re(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,fe.validateResponseStatus)(o.status))throw(0,fe.createResponseStatusError)(o.status,P);this._reader=o.body.getReader(),this._headersCapability.resolve();const s=w=>o.headers.get(w),{allowRangeRequests:n,suggestedLength:c}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n,this._contentLength=c||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var A=this;return _asyncToGenerator(function*(){yield A._headersCapability.promise;const{value:r,done:P}=yield A._reader.read();return P?{value:r,done:P}:(A._loaded+=r.byteLength,A.onProgress&&A.onProgress({loaded:A._loaded,total:A._contentLength}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(A){this._reader&&this._reader.cancel(A),this._abortController&&this._abortController.abort()}}class h{constructor(A,r,P){this._stream=A,this._reader=null,this._loaded=0;const o=A.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=ie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${r}-${P-1}`);const s=o.url;fetch(s,re(this._headers,this._withCredentials,this._abortController)).then(n=>{if(!(0,fe.validateResponseStatus)(n.status))throw(0,fe.createResponseStatusError)(n.status,s);this._readCapability.resolve(),this._reader=n.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var A=this;return _asyncToGenerator(function*(){yield A._readCapability.promise;const{value:r,done:P}=yield A._reader.read();return P?{value:r,done:P}:(A._loaded+=r.byteLength,A.onProgress&&A.onProgress({loaded:A._loaded}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(A){this._reader&&this._reader.cancel(A),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ge){var k=__webpack_module_cache__[ge];if(void 0!==k)return k.exports;var Z=__webpack_module_cache__[ge]={exports:{}};return __webpack_modules__[ge](Z,Z.exports,__w_pdfjs_require__),Z.exports}var __webpack_exports__={};return(()=>{var ge=__webpack_exports__;Object.defineProperty(ge,"__esModule",{value:!0}),Object.defineProperty(ge,"AnnotationLayer",{enumerable:!0,get:function(){return fe.AnnotationLayer}}),Object.defineProperty(ge,"AnnotationMode",{enumerable:!0,get:function(){return k.AnnotationMode}}),Object.defineProperty(ge,"CMapCompressionType",{enumerable:!0,get:function(){return k.CMapCompressionType}}),Object.defineProperty(ge,"GlobalWorkerOptions",{enumerable:!0,get:function(){return re.GlobalWorkerOptions}}),Object.defineProperty(ge,"InvalidPDFException",{enumerable:!0,get:function(){return k.InvalidPDFException}}),Object.defineProperty(ge,"LoopbackPort",{enumerable:!0,get:function(){return Z.LoopbackPort}}),Object.defineProperty(ge,"MissingPDFException",{enumerable:!0,get:function(){return k.MissingPDFException}}),Object.defineProperty(ge,"OPS",{enumerable:!0,get:function(){return k.OPS}}),Object.defineProperty(ge,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Z.PDFDataRangeTransport}}),Object.defineProperty(ge,"PDFDateString",{enumerable:!0,get:function(){return _.PDFDateString}}),Object.defineProperty(ge,"PDFWorker",{enumerable:!0,get:function(){return Z.PDFWorker}}),Object.defineProperty(ge,"PasswordResponses",{enumerable:!0,get:function(){return k.PasswordResponses}}),Object.defineProperty(ge,"PermissionFlag",{enumerable:!0,get:function(){return k.PermissionFlag}}),Object.defineProperty(ge,"PixelsPerInch",{enumerable:!0,get:function(){return _.PixelsPerInch}}),Object.defineProperty(ge,"RenderingCancelledException",{enumerable:!0,get:function(){return _.RenderingCancelledException}}),Object.defineProperty(ge,"SVGGraphics",{enumerable:!0,get:function(){return N.SVGGraphics}}),Object.defineProperty(ge,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return k.UNSUPPORTED_FEATURES}}),Object.defineProperty(ge,"UnexpectedResponseException",{enumerable:!0,get:function(){return k.UnexpectedResponseException}}),Object.defineProperty(ge,"Util",{enumerable:!0,get:function(){return k.Util}}),Object.defineProperty(ge,"VerbosityLevel",{enumerable:!0,get:function(){return k.VerbosityLevel}}),Object.defineProperty(ge,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(ge,"build",{enumerable:!0,get:function(){return Z.build}}),Object.defineProperty(ge,"createPromiseCapability",{enumerable:!0,get:function(){return k.createPromiseCapability}}),Object.defineProperty(ge,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return k.createValidAbsoluteUrl}}),Object.defineProperty(ge,"getDocument",{enumerable:!0,get:function(){return Z.getDocument}}),Object.defineProperty(ge,"getFilenameFromUrl",{enumerable:!0,get:function(){return _.getFilenameFromUrl}}),Object.defineProperty(ge,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _.getPdfFilenameFromUrl}}),Object.defineProperty(ge,"getXfaPageViewport",{enumerable:!0,get:function(){return _.getXfaPageViewport}}),Object.defineProperty(ge,"isPdfFile",{enumerable:!0,get:function(){return _.isPdfFile}}),Object.defineProperty(ge,"loadScript",{enumerable:!0,get:function(){return _.loadScript}}),Object.defineProperty(ge,"renderTextLayer",{enumerable:!0,get:function(){return ne.renderTextLayer}}),Object.defineProperty(ge,"shadow",{enumerable:!0,get:function(){return k.shadow}}),Object.defineProperty(ge,"version",{enumerable:!0,get:function(){return Z.version}});var k=__w_pdfjs_require__(1),Z=__w_pdfjs_require__(4),_=__w_pdfjs_require__(5),fe=__w_pdfjs_require__(20),re=__w_pdfjs_require__(13),ie=__w_pdfjs_require__(3),ne=__w_pdfjs_require__(23),N=__w_pdfjs_require__(24),h=__w_pdfjs_require__(22);if(ie.isNodeJS){const{PDFNodeStream:r}=__w_pdfjs_require__(25);(0,Z.setPDFNetworkStreamFactory)(P=>new r(P))}else{const{PDFNetworkStream:r}=__w_pdfjs_require__(28),{PDFFetchStream:P}=__w_pdfjs_require__(29);(0,Z.setPDFNetworkStreamFactory)(o=>(0,_.isValidFetchUrl)(o.url)?new P(o):new r(o))}})(),__webpack_exports__})(),module.exports=Z()},2813:function(ge,k,Z){var ie,_=Z(8926).default;ie=()=>(()=>{"use strict";var fe=[,(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DefaultXfaLayerFactory=h.DefaultTextLayerFactory=h.DefaultStructTreeLayerFactory=h.DefaultAnnotationLayerFactory=void 0;var A=E(2),r=E(4),P=E(5),o=E(7),s=E(8),n=E(9);h.DefaultAnnotationLayerFactory=class c{createAnnotationLayerBuilder(i,m,b=null,S="",L=!0,F=r.NullL10n,D=!1,V=null,H=null,q=null,J=null){return new A.AnnotationLayerBuilder({pageDiv:i,pdfPage:m,imageResourcesPath:S,renderForms:L,linkService:new P.SimpleLinkService,l10n:F,annotationStorage:b,enableScripting:D,hasJSActionsPromise:V,fieldObjectsPromise:q,mouseState:H,annotationCanvasMap:J})}},h.DefaultStructTreeLayerFactory=class w{createStructTreeLayerBuilder(i){return new o.StructTreeLayerBuilder({pdfPage:i})}},h.DefaultTextLayerFactory=class p{createTextLayerBuilder(i,m,b,S=!1,L,F){return new s.TextLayerBuilder({textLayerDiv:i,pageIndex:m,viewport:b,enhanceTextSelection:S,eventBus:L,highlighter:F})}},h.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(i,m,b=null,S=null){return new n.XfaLayerBuilder({pageDiv:i,pdfPage:m,annotationStorage:b,linkService:new P.SimpleLinkService,xfaHtml:S})}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AnnotationLayerBuilder=void 0;var A=E(3),r=E(4);h.AnnotationLayerBuilder=class P{constructor({pageDiv:s,pdfPage:n,linkService:c,downloadManager:w,annotationStorage:p=null,imageResourcesPath:g="",renderForms:e=!0,l10n:i=r.NullL10n,enableScripting:m=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:S=null,mouseState:L=null,annotationCanvasMap:F=null}){this.pageDiv=s,this.pdfPage=n,this.linkService=c,this.downloadManager=w,this.imageResourcesPath=g,this.renderForms=e,this.l10n=i,this.annotationStorage=p,this.enableScripting=m,this._hasJSActionsPromise=b,this._fieldObjectsPromise=S,this._mouseState=L,this._annotationCanvasMap=F,this.div=null,this._cancelled=!1}render(s,n="display"){var c=this;return _(function*(){const[w,p=!1,g=null]=yield Promise.all([c.pdfPage.getAnnotations({intent:n}),c._hasJSActionsPromise,c._fieldObjectsPromise]);if(c._cancelled||0===w.length)return;const e={viewport:s.clone({dontFlip:!0}),div:c.div,annotations:w,page:c.pdfPage,imageResourcesPath:c.imageResourcesPath,renderForms:c.renderForms,linkService:c.linkService,downloadManager:c.downloadManager,annotationStorage:c.annotationStorage,enableScripting:c.enableScripting,hasJSActions:p,fieldObjects:g,mouseState:c._mouseState,annotationCanvasMap:c._annotationCanvasMap};c.div?A.AnnotationLayer.update(e):(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),e.div=c.div,A.AnnotationLayer.render(e),c.l10n.translate(c.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},N=>{let h;h="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:Z(6036),N.exports=h},(N,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NullL10n=void 0,h.fixupLangCode=function P(n){return r[null==n?void 0:n.toLowerCase()]||n},h.getL10nFallback=A;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function A(n,c){switch(n){case"find_match_count":n=`find_match_count[${1===c.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===c.limit?"one":"other"}]`}return E[n]||""}const r={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};h.NullL10n={getLanguage:()=>_(function*(){return"en-us"})(),getDirection:()=>_(function*(){return"ltr"})(),get:(n,c=null,w=A(n,c))=>_(function*(){return function o(n,c){return c?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(w,p)=>p in c?c[p]:"{{"+p+"}}"):n}(w,c)})(),translate:n=>_(function*(){})()}},(N,h,E)=>{var c,w,st,g,bt;Object.defineProperty(h,"__esModule",{value:!0}),h.SimpleLinkService=h.PDFLinkService=h.LinkTarget=void 0;var A=E(6);const P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(m,{url:b,target:S,rel:L,enabled:F=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const D=(0,A.removeNullCharacters)(b);F?m.href=m.title=D:(m.href="",m.title=`Disabled: ${D}`,m.onclick=()=>!1);let V="";switch(S){case P.NONE:break;case P.SELF:V="_self";break;case P.BLANK:V="_blank";break;case P.PARENT:V="_parent";break;case P.TOP:V="_top"}m.target=V,m.rel="string"==typeof L?L:"noopener noreferrer nofollow"}h.LinkTarget=P;const i=class{constructor({eventBus:b,externalLinkTarget:S=null,externalLinkRel:L=null,ignoreDestinationZoom:F=!1}={}){Pe(this,w),Pe(this,c,new Map),this.eventBus=b,this.externalLinkTarget=S,this.externalLinkRel=L,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=F,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,S=null){this.baseUrl=S,this.pdfDocument=b,ve(this,c).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var S=this;return _(function*(){var D;if(!S.pdfDocument)return;let L,F;"string"==typeof b?(L=b,F=yield S.pdfDocument.getDestination(b)):(L=null,F=yield b),Array.isArray(F)?Se(D=S,w,st).call(D,b,L,F):console.error(`PDFLinkService.goToDestination: "${F}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const S="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(S)&&S>0&&S<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(S)),this.pdfViewer.scrollPageIntoView({pageNumber:S})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,S,L=!1){o(b,{url:S,target:L?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const S=JSON.stringify(b);if(S.length>0)return this.getAnchorUrl("#"+escape(S))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var F;if(!this.pdfDocument)return;let S,L;if(b.includes("=")){const D=(0,A.parseQueryString)(b);if(D.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:D.get("search").replace(/"/g,""),phraseSearch:"true"===D.get("phrase")}),D.has("page")&&(S=0|D.get("page")||1),D.has("zoom")){const V=D.get("zoom").split(","),H=V[0],q=parseFloat(H);H.includes("Fit")?"Fit"===H||"FitB"===H?L=[null,{name:H}]:"FitH"===H||"FitBH"===H||"FitV"===H||"FitBV"===H?L=[null,{name:H},V.length>1?0|V[1]:null]:"FitR"===H?5!==V.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):L=[null,{name:H},0|V[1],0|V[2],0|V[3],0|V[4]]:console.error(`PDFLinkService.setHash: "${H}" is not a valid zoom value.`):L=[null,{name:"XYZ"},V.length>1?0|V[1]:null,V.length>2?0|V[2]:null,q?q/100:H]}L?this.pdfViewer.scrollPageIntoView({pageNumber:S||this.page,destArray:L,allowNegativeOffset:!0}):S&&(this.page=S),D.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:D.get("pagemode")}),D.has("nameddest")&&this.goToDestination(D.get("nameddest"))}else{L=unescape(b);try{L=JSON.parse(L),Array.isArray(L)||(L=L.toString())}catch(D){}if("string"==typeof L||Se(F=i,g,bt).call(F,L))return void this.goToDestination(L);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){var S,L;switch(b){case"GoBack":null==(S=this.pdfHistory)||S.back();break;case"GoForward":null==(L=this.pdfHistory)||L.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,S){if(!S)return;const L=0===S.gen?`${S.num}R`:`${S.num}R${S.gen}`;ve(this,c).set(L,b)}_cachedPageNumber(b){if(!b)return null;const S=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return ve(this,c).get(S)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let s=i;c=new WeakMap,w=new WeakSet,st=function(b,S=null,L){const F=L[0];let D;if("object"==typeof F&&null!==F){if(D=this._cachedPageNumber(F),!D)return void this.pdfDocument.getPageIndex(F).then(V=>{this.cachePageRef(V+1,F),Se(this,w,st).call(this,b,S,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(F))return void console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid destination reference, for dest="${b}".`);D=F+1}!D||D<1||D>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:S,explicitDest:L,pageNumber:D})),this.pdfViewer.scrollPageIntoView({pageNumber:D,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,bt=function(b){if(!Array.isArray(b))return!1;const S=b.length;if(S<2)return!1;const L=b[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const F=b[1];if("object"!=typeof F||"string"!=typeof F.name)return!1;let D=!0;switch(F.name){case"XYZ":if(5!==S)return!1;break;case"Fit":case"FitB":return 2===S;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==S)return!1;break;case"FitR":if(6!==S)return!1;D=!1;break;default:return!1}for(let V=2;V<S;V++){const H=b[V];if(!("number"==typeof H||D&&null===H))return!1}return!0},Pe(s,g),h.PDFLinkService=s,h.SimpleLinkService=class n{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return _(function*(){})()}goToPage(b){}addLinkAttributes(b,S,L=!1){o(b,{url:S,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,S){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(N,h)=>{var he,At;Object.defineProperty(h,"__esModule",{value:!0}),h.animationStarted=h.VERTICAL_PADDING=h.UNKNOWN_SCALE=h.TextLayerMode=h.SpreadMode=h.SidebarView=h.ScrollMode=h.SCROLLBAR_PADDING=h.RenderingStates=h.RendererType=h.ProgressBar=h.PresentationModeState=h.OutputScale=h.MIN_SCALE=h.MAX_SCALE=h.MAX_AUTO_SCALE=h.DEFAULT_SCALE_VALUE=h.DEFAULT_SCALE_DELTA=h.DEFAULT_SCALE=h.AutoPrintRegExp=void 0,h.apiPageLayoutToViewerModes=function Q(K){let le=b.VERTICAL,oe=S.NONE;switch(K){case"SinglePage":le=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":le=b.PAGE;case"TwoColumnLeft":oe=S.ODD;break;case"TwoPageRight":le=b.PAGE;case"TwoColumnRight":oe=S.EVEN}return{scrollMode:le,spreadMode:oe}},h.apiPageModeToSidebarView=function te(K){switch(K){case"UseNone":return e.NONE;case"UseThumbs":return e.THUMBS;case"UseOutlines":return e.OUTLINE;case"UseAttachments":return e.ATTACHMENTS;case"UseOC":return e.LAYERS}return e.NONE},h.approximateFraction=function ee(K){if(Math.floor(K)===K)return[K,1];const le=1/K;if(le>8)return[1,8];if(Math.floor(le)===le)return[1,le];const x=K>1?le:K;let pe,I=0,$=1,ue=1,de=1;for(;;){const be=I+ue,Ae=$+de;if(Ae>8)break;x<=be/Ae?(ue=be,de=Ae):(I=be,$=Ae)}return pe=x-I/$<ue/de-x?x===K?[I,$]:[$,I]:x===K?[ue,de]:[de,ue],pe},h.backtrackBeforeAllVisibleElements=M,h.binarySearchFirstItem=Y,h.getActiveOrFocusedElement=function X(){let K=document,le=K.activeElement||K.querySelector(":focus");for(;null==le?void 0:le.shadowRoot;)K=le.shadowRoot,le=K.activeElement||K.querySelector(":focus");return le},h.getPageSizeInches=function ce({view:K,userUnit:le,rotate:oe}){const[x,I,$,ue]=K,de=oe%180!=0,pe=($-x)/72*le,be=(ue-I)/72*le;return{width:de?be:pe,height:de?pe:be}},h.getVisibleElements=function a({scrollEl:K,views:le,sortByVisibility:oe=!1,horizontal:x=!1,rtl:I=!1}){const $=K.scrollTop,ue=$+K.clientHeight,de=K.scrollLeft,pe=de+K.clientWidth,we=[],Ee=new Set,Me=le.length;let se=Y(le,x?function Ae(f){const O=f.div,z=O.offsetLeft+O.clientLeft;return I?z<pe:z+O.clientWidth>de}:function be(f){const O=f.div;return O.offsetTop+O.clientTop+O.clientHeight>$});se>0&&se<Me&&!x&&(se=M(se,le,$));let R=x?pe:-1;for(let f=se;f<Me;f++){const O=le[f],z=O.div,_e=z.offsetLeft+z.clientLeft,ye=z.offsetTop+z.clientTop,Ce=z.clientWidth,xe=z.clientHeight,Te=_e+Ce,Le=ye+xe;if(-1===R)Le>=ue&&(R=Le);else if((x?_e:ye)>R)break;if(Le<=$||ye>=ue||Te<=de||_e>=pe)continue;const Ne=Math.max(0,$-ye)+Math.max(0,Le-ue),Be=(Ce-(Math.max(0,de-_e)+Math.max(0,Te-pe)))/Ce;we.push({id:O.id,x:_e,y:ye,view:O,percent:(xe-Ne)/xe*Be*100|0,widthPercent:100*Be|0}),Ee.add(O.id)}const v=we[0],G=we[we.length-1];return oe&&we.sort(function(f,O){const z=f.percent-O.percent;return Math.abs(z)>.001?-z:f.id-O.id}),{first:v,last:G,views:we,ids:Ee}},h.isPortraitOrientation=function T(K){return K.width<=K.height},h.isValidRotation=function u(K){return Number.isInteger(K)&&K%90==0},h.isValidScrollMode=function C(K){return Number.isInteger(K)&&Object.values(b).includes(K)&&K!==b.UNKNOWN},h.isValidSpreadMode=function y(K){return Number.isInteger(K)&&Object.values(S).includes(K)&&K!==S.UNKNOWN},h.noContextMenuHandler=function d(K){K.preventDefault()},h.normalizeWheelEventDelta=function l(K){let le=t(K);return 0===K.deltaMode?le/=900:1===K.deltaMode&&(le/=30),le},h.normalizeWheelEventDirection=t,h.parseQueryString=function H(K){const le=new Map;for(const[oe,x]of new URLSearchParams(K))le.set(oe.toLowerCase(),x);return le},h.removeNullCharacters=function B(K,le=!1){return"string"!=typeof K?(console.error("The argument must be a string."),K):(le&&(K=K.replace(J," ")),K.replace(q,""))},h.roundToDivide=function ae(K,le){const oe=K%le;return 0===oe?K:Math.round(K-oe+le)},h.scrollIntoView=function D(K,le,oe=!1){let x=K.offsetParent;if(!x)return void console.error("offsetParent is not set -- cannot scroll");let I=K.offsetTop+K.clientTop,$=K.offsetLeft+K.clientLeft;for(;x.clientHeight===x.scrollHeight&&x.clientWidth===x.scrollWidth||oe&&(x.classList.contains("markedContent")||"hidden"===getComputedStyle(x).overflow);)if(I+=x.offsetTop,$+=x.offsetLeft,x=x.offsetParent,!x)return;le&&(void 0!==le.top&&(I+=le.top),void 0!==le.left&&($+=le.left,x.scrollLeft=$)),x.scrollTop=I},h.watchScroll=function V(K,le){const oe=function($){I||(I=window.requestAnimationFrame(function(){I=null;const de=K.scrollLeft,pe=x.lastX;de!==pe&&(x.right=de>pe),x.lastX=de;const be=K.scrollTop,Ae=x.lastY;be!==Ae&&(x.down=be>Ae),x.lastY=be,le(x)}))},x={right:!0,down:!0,lastX:K.scrollLeft,lastY:K.scrollTop,_eventHandler:oe};let I=null;return K.addEventListener("scroll",oe,!0),x},h.DEFAULT_SCALE_VALUE="auto",h.DEFAULT_SCALE=1,h.DEFAULT_SCALE_DELTA=1.1,h.MIN_SCALE=.1,h.MAX_SCALE=10,h.UNKNOWN_SCALE=0,h.MAX_AUTO_SCALE=1.25,h.SCROLLBAR_PADDING=40,h.VERTICAL_PADDING=5,h.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},h.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const e={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};h.SidebarView=e,h.RendererType={CANVAS:"canvas",SVG:"svg"},h.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};h.ScrollMode=b;const S={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};h.SpreadMode=S,h.AutoPrintRegExp=/\bprint\s*\(/,h.OutputScale=class F{constructor(){const le=window.devicePixelRatio||1;this.sx=le,this.sy=le}get scaled(){return 1!==this.sx||1!==this.sy}};const q=/\x00/g,J=/[\x01-\x1F]/g;function Y(K,le,oe=0){let x=oe,I=K.length-1;if(I<0||!le(K[I]))return K.length;if(le(K[x]))return x;for(;x<I;){const $=x+I>>1;le(K[$])?I=$:x=$+1}return x}function M(K,le,oe){if(K<2)return K;let x=le[K].div,I=x.offsetTop+x.clientTop;I>=oe&&(x=le[K-1].div,I=x.offsetTop+x.clientTop);for(let $=K-2;$>=0&&(x=le[$].div,!(x.offsetTop+x.clientTop+x.clientHeight<=I));--$)K=$;return K}function t(K){let le=Math.hypot(K.deltaX,K.deltaY);const oe=Math.atan2(K.deltaY,K.deltaX);return-.25*Math.PI<oe&&oe<.75*Math.PI&&(le=-le),le}const U=new Promise(function(K){window.requestAnimationFrame(K)});h.animationStarted=U,he=new WeakSet,At=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},h.ProgressBar=class W{constructor(le){if(Pe(this,he),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(le+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(le){this._indeterminate=isNaN(le),this._percent=function j(K,le,oe){return Math.min(Math.max(K,le),oe)}(le,0,100),Se(this,he,At).call(this)}setWidth(le){if(!le)return;const x=le.parentNode.offsetWidth-le.offsetWidth;x>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${x}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(N,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeLayerBuilder=void 0;const E={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},A=/^H(\d+)$/;h.StructTreeLayerBuilder=class r{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,s){void 0!==o.alt&&s.setAttribute("aria-label",o.alt),void 0!==o.id&&s.setAttribute("aria-owns",o.id),void 0!==o.lang&&s.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;const s=document.createElement("span");if("role"in o){const{role:n}=o,c=n.match(A);c?(s.setAttribute("role","heading"),s.setAttribute("aria-level",c[1])):E[n]&&s.setAttribute("role",E[n])}if(this._setAttributes(o,s),o.children)if(1===o.children.length&&"id"in o.children[0])this._setAttributes(o.children[0],s);else for(const n of o.children)s.appendChild(this._walk(n));return s}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextLayerBuilder=void 0;var A=E(3);h.TextLayerBuilder=class P{constructor({textLayerDiv:s,eventBus:n,pageIndex:c,viewport:w,highlighter:p=null,enhanceTextSelection:g=!1}){this.textLayerDiv=s,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=c+1,this.viewport=w,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=p,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const s=document.createElement("div");s.className="endOfContent",this.textLayerDiv.appendChild(s)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(s=0){var c;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(c=this.highlighter)||c.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,A.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:s,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var w;this.textLayerDiv.appendChild(n),this._finishRendering(),null==(w=this.highlighter)||w.enable()},function(w){})}cancel(){var s;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(s=this.highlighter)||s.disable()}setTextContentStream(s){this.cancel(),this.textContentStream=s}setTextContent(s){this.cancel(),this.textContent=s}_bindMouse(){const s=this.textLayerDiv;let n=null;s.addEventListener("mousedown",c=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const w=s.querySelector(".endOfContent");if(!w)return;let p=c.target!==s;if(p=p&&"none"!==window.getComputedStyle(w).getPropertyValue("-moz-user-select"),p){const g=s.getBoundingClientRect(),e=Math.max(0,(c.pageY-g.top)/g.height);w.style.top=(100*e).toFixed(2)+"%"}w.classList.add("active")}),s.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const c=s.querySelector(".endOfContent");!c||(c.style.top="",c.classList.remove("active"))})}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XfaLayerBuilder=void 0;var A=E(3);h.XfaLayerBuilder=class r{constructor({pageDiv:o,pdfPage:s,annotationStorage:n=null,linkService:c,xfaHtml:w=null}){this.pageDiv=o,this.pdfPage=s,this.annotationStorage=n,this.linkService=c,this.xfaHtml=w,this.div=null,this._cancelled=!1}render(o,s="display"){if("print"===s){const n={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s},c=document.createElement("div");this.pageDiv.appendChild(c),n.div=c;const w=A.XfaLayer.render(n);return Promise.resolve(w)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const c={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s};return this.div?A.XfaLayer.update(c):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),c.div=this.div,A.XfaLayer.render(c))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFViewer=h.PDFSinglePageViewer=void 0;var A=E(6),r=E(11);h.PDFViewer=class P extends r.BaseViewer{},h.PDFSinglePageViewer=class o extends r.BaseViewer{_resetView(){super._resetView(),this._scrollMode=A.ScrollMode.PAGE,this._spreadMode=A.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(N,h,E)=>{var F,D,V,rt,q,J,B,Y,ee,ae,ce,M,yt,d,vt,l,He,C,Ke,T,St,j,at,X,Ct,te,Pt,me,wt;Object.defineProperty(h,"__esModule",{value:!0}),h.PagesCountLimit=h.PDFPageViewBuffer=h.BaseViewer=void 0;var A=E(3),r=E(6),P=E(2),o=E(4),s=E(12),n=E(14),c=E(5),w=E(7),p=E(15),g=E(8),e=E(9);const m="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};h.PagesCountLimit=b;class S{constructor(x){Pe(this,V),Pe(this,F,new Set),Pe(this,D,0),Re(this,D,x)}push(x){const I=ve(this,F);I.has(x)&&I.delete(x),I.add(x),I.size>ve(this,D)&&Se(this,V,rt).call(this)}resize(x,I=null){Re(this,D,x);const $=ve(this,F);if(I){const ue=$.size;let de=1;for(const pe of $)if(I.has(pe.id)&&($.delete(pe),$.add(pe)),++de>ue)break}for(;$.size>ve(this,D);)Se(this,V,rt).call(this)}has(x){return ve(this,F).has(x)}[Symbol.iterator](){return ve(this,F).keys()}}F=new WeakMap,D=new WeakMap,V=new WeakSet,rt=function(){const x=ve(this,F).keys().next().value;null==x||x.destroy(),ve(this,F).delete(x)},h.PDFPageViewBuffer=S;const le=class{constructor(x){var $,ue,de,pe;if(Pe(this,M),Pe(this,d),Pe(this,l),Pe(this,C),Pe(this,T),Pe(this,j),Pe(this,X),Pe(this,te),Pe(this,me),Pe(this,q,null),Pe(this,J,A.AnnotationMode.ENABLE_FORMS),Pe(this,B,null),Pe(this,Y,!1),Pe(this,ee,0),Pe(this,ae,null),Pe(this,ce,null),this.constructor===le)throw new Error("Cannot initialize BaseViewer.");const I="2.14.305";if(A.version!==I)throw new Error(`The API version "${A.version}" does not match the Viewer version "${I}".`);if(this.container=x.container,this.viewer=x.viewer||x.container.firstElementChild,"DIV"!==(null==($=this.container)?void 0:$.tagName.toUpperCase())||"DIV"!==(null==(ue=this.viewer)?void 0:ue.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=x.eventBus,this.linkService=x.linkService||new c.SimpleLinkService,this.downloadManager=x.downloadManager||null,this.findController=x.findController||null,this._scriptingManager=x.scriptingManager||null,this.removePageBorders=x.removePageBorders||!1,this.textLayerMode=null!=(de=x.textLayerMode)?de:r.TextLayerMode.ENABLE,Re(this,J,null!=(pe=x.annotationMode)?pe:A.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=x.imageResourcesPath||"",this.enablePrintAutoRotate=x.enablePrintAutoRotate||!1,this.renderer=x.renderer||r.RendererType.CANVAS,this.useOnlyCssZoom=x.useOnlyCssZoom||!1,this.maxCanvasPixels=x.maxCanvasPixels,this.l10n=x.l10n||o.NullL10n,Re(this,Y,x.enablePermissions||!1),this.pageColors=x.pageColors||null,x.pageColors&&(!CSS.supports("color",x.pageColors.background)||!CSS.supports("color",x.pageColors.foreground))&&((x.pageColors.background||x.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!x.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new n.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=x.renderingQueue,this._doc=document.documentElement,this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=r.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(x){return this._pages[x]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(x){return null==x?void 0:x.pdfPage})}get renderForms(){return ve(this,J)===A.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(x){if(!Number.isInteger(x))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(x,!0)||console.error(`currentPageNumber: "${x}" is not a valid page.`)}_setCurrentPageNumber(x,I=!1){var ue,de;if(this._currentPageNumber===x)return I&&Se(this,j,at).call(this),!0;if(!(0<x&&x<=this.pagesCount))return!1;const $=this._currentPageNumber;return this._currentPageNumber=x,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:x,pageLabel:null!=(de=null==(ue=this._pageLabels)?void 0:ue[x-1])?de:null,previous:$}),I&&Se(this,j,at).call(this),!0}get currentPageLabel(){var x,I;return null!=(I=null==(x=this._pageLabels)?void 0:x[this._currentPageNumber-1])?I:null}set currentPageLabel(x){if(!this.pdfDocument)return;let I=0|x;if(this._pageLabels){const $=this._pageLabels.indexOf(x);$>=0&&(I=$+1)}this._setCurrentPageNumber(I,!0)||console.error(`currentPageLabel: "${x}" is not a valid page.`)}get currentScale(){return this._currentScale!==r.UNKNOWN_SCALE?this._currentScale:r.DEFAULT_SCALE}set currentScale(x){if(isNaN(x))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(x,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(x){!this.pdfDocument||this._setScale(x,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(x){if(!(0,r.isValidRotation)(x))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((x%=360)<0&&(x+=360),this._pagesRotation===x))return;this._pagesRotation=x;const I=this._currentPageNumber,$={rotation:x};for(const ue of this._pages)ue.update($);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:x,pageNumber:I}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(x){var I=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=x,!x)return;const $=x.isPureXfa,ue=x.numPages,de=x.getPage(1),pe=x.getOptionalContentConfig(),be=ve(this,Y)?x.getPermissions():Promise.resolve();if(ue>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Ae=this._scrollMode=r.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Ae})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ue})},()=>{}),this._onBeforeDraw=Ae=>{const we=this._pages[Ae.pageNumber-1];!we||ve(this,q).push(we)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Ae=>{Ae.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Ae.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ve(this,ce)&&(document.removeEventListener("visibilitychange",ve(this,ce)),Re(this,ce,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([de,be]).then(([Ae,we])=>{if(x!==this.pdfDocument)return;this._firstPageCapability.resolve(Ae),this._optionalContentConfigPromise=pe,Se(this,M,yt).call(this,we);const Ee=this._scrollMode===r.ScrollMode.PAGE?null:this.viewer,Me=this.currentScale,se=Ae.getViewport({scale:Me*A.PixelsPerInch.PDF_TO_CSS_UNITS}),R=this.textLayerMode===r.TextLayerMode.DISABLE||$?null:this,v=ve(this,J)!==A.AnnotationMode.DISABLE?this:null,G=$?this:null;for(let O=1;O<=ue;++O){const z=new s.PDFPageView({container:Ee,eventBus:this.eventBus,id:O,scale:Me,defaultViewport:se.clone(),optionalContentConfigPromise:pe,renderingQueue:this.renderingQueue,textLayerFactory:R,textLayerMode:this.textLayerMode,annotationLayerFactory:v,annotationMode:ve(this,J),xfaLayerFactory:G,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(z)}const f=this._pages[0];f&&(f.setPdfPage(Ae),this.linkService.cachePageRef(1,Ae.ref)),this._scrollMode===r.ScrollMode.PAGE?Se(this,l,He).call(this):this._spreadMode!==r.SpreadMode.NONE&&this._updateSpreadMode(),Se(this,d,vt).call(this).then(_(function*(){if(I.findController&&I.findController.setDocument(x),I._scriptingManager&&I._scriptingManager.setDocument(x),x.loadingParams.disableAutoFetch||ue>b.FORCE_LAZY_PAGE_INIT)return void I._pagesCapability.resolve();let O=ue-1;if(O<=0)I._pagesCapability.resolve();else for(let z=2;z<=ue;++z){const _e=x.getPage(z).then(ye=>{const Ce=I._pages[z-1];Ce.pdfPage||Ce.setPdfPage(ye),I.linkService.cachePageRef(z,ye.ref),0==--O&&I._pagesCapability.resolve()},ye=>{console.error(`Unable to get page ${z} to initialize viewer`,ye),0==--O&&I._pagesCapability.resolve()});z%b.PAUSE_EAGER_PAGE_INIT==0&&(yield _e)}})),this.eventBus.dispatch("pagesinit",{source:this}),x.getMetadata().then(({info:O})=>{x===this.pdfDocument&&O.Language&&(this.viewer.lang=O.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Ae=>{console.error("Unable to initialize viewer",Ae),this._pagesCapability.reject(Ae)})}setPageLabels(x){var I,$;if(this.pdfDocument){x?Array.isArray(x)&&this.pdfDocument.numPages===x.length?this._pageLabels=x:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ue=0,de=this._pages.length;ue<de;ue++)this._pages[ue].setPageLabel(null!=($=null==(I=this._pageLabels)?void 0:I[ue])?$:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=r.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Re(this,q,new S(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,A.createPromiseCapability)(),this._onePageRenderedCapability=(0,A.createPromiseCapability)(),this._pagesCapability=(0,A.createPromiseCapability)(),this._scrollMode=r.ScrollMode.VERTICAL,this._previousScrollMode=r.ScrollMode.UNKNOWN,this._spreadMode=r.SpreadMode.NONE,Re(this,ae,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ve(this,ce)&&(document.removeEventListener("visibilitychange",ve(this,ce)),Re(this,ce,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(m),null!==ve(this,B)&&(Re(this,J,ve(this,B)),Re(this,B,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(x,I,$=!1,ue=!1){if(this._currentScaleValue=I.toString(),Se(this,T,St).call(this,x))return void(ue&&this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:I}));this._doc.style.setProperty("--zoom-factor",x);const de={scale:x};for(const pe of this._pages)pe.update(de);if(this._currentScale=x,!$){let be,pe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(pe=this._location.pageNumber,be=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:pe,destArray:be,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:ue?I:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==r.SpreadMode.NONE&&this._scrollMode!==r.ScrollMode.HORIZONTAL?2:1}_setScale(x,I=!1){let $=parseFloat(x);if($>0)this._setScaleUpdatePages($,x,I,!1);else{const ue=this._pages[this._currentPageNumber-1];if(!ue)return;let de=r.SCROLLBAR_PADDING,pe=r.VERTICAL_PADDING;this.isInPresentationMode?de=pe=4:this.removePageBorders?de=pe=0:this._scrollMode===r.ScrollMode.HORIZONTAL&&([de,pe]=[pe,de]);const be=(this.container.clientWidth-de)/ue.width*ue.scale/this._pageWidthScaleFactor,Ae=(this.container.clientHeight-pe)/ue.height*ue.scale;switch(x){case"page-actual":$=1;break;case"page-width":$=be;break;case"page-height":$=Ae;break;case"page-fit":$=Math.min(be,Ae);break;case"auto":const we=(0,r.isPortraitOrientation)(ue)?be:Math.min(Ae,be);$=Math.min(r.MAX_AUTO_SCALE,we);break;default:return void console.error(`_setScale: "${x}" is an unknown zoom value.`)}this._setScaleUpdatePages($,x,I,!0)}}pageLabelToPageNumber(x){if(!this._pageLabels)return null;const I=this._pageLabels.indexOf(x);return I<0?null:I+1}scrollPageIntoView({pageNumber:x,destArray:I=null,allowNegativeOffset:$=!1,ignoreDestinationZoom:ue=!1}){if(!this.pdfDocument)return;const de=Number.isInteger(x)&&this._pages[x-1];if(!de)return void console.error(`scrollPageIntoView: "${x}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!I)return void this._setCurrentPageNumber(x,!0);let Ee,Me,pe=0,be=0,Ae=0,we=0;const se=de.rotation%180!=0,R=(se?de.height:de.width)/de.scale/A.PixelsPerInch.PDF_TO_CSS_UNITS,v=(se?de.width:de.height)/de.scale/A.PixelsPerInch.PDF_TO_CSS_UNITS;let G=0;switch(I[1].name){case"XYZ":pe=I[2],be=I[3],G=I[4],pe=null!==pe?pe:0,be=null!==be?be:v;break;case"Fit":case"FitB":G="page-fit";break;case"FitH":case"FitBH":be=I[2],G="page-width",null===be&&this._location?(pe=this._location.left,be=this._location.top):("number"!=typeof be||be<0)&&(be=v);break;case"FitV":case"FitBV":pe=I[2],Ae=R,we=v,G="page-height";break;case"FitR":pe=I[2],be=I[3],Ae=I[4]-pe,we=I[5]-be,Ee=(this.container.clientWidth-(this.removePageBorders?0:r.SCROLLBAR_PADDING))/Ae/A.PixelsPerInch.PDF_TO_CSS_UNITS,Me=(this.container.clientHeight-(this.removePageBorders?0:r.VERTICAL_PADDING))/we/A.PixelsPerInch.PDF_TO_CSS_UNITS,G=Math.min(Math.abs(Ee),Math.abs(Me));break;default:return void console.error(`scrollPageIntoView: "${I[1].name}" is not a valid destination type.`)}if(ue||(G&&G!==this._currentScale?this.currentScaleValue=G:this._currentScale===r.UNKNOWN_SCALE&&(this.currentScaleValue=r.DEFAULT_SCALE_VALUE)),"page-fit"===G&&!I[4])return void Se(this,C,Ke).call(this,de);const f=[de.viewport.convertToViewportPoint(pe,be),de.viewport.convertToViewportPoint(pe+Ae,be+we)];let O=Math.min(f[0][0],f[1][0]),z=Math.min(f[0][1],f[1][1]);$||(O=Math.max(O,0),z=Math.max(z,0)),Se(this,C,Ke).call(this,de,{left:O,top:z})}_updateLocation(x){const I=this._currentScale,$=this._currentScaleValue,ue=parseFloat($)===I?Math.round(1e4*I)/100:$,de=x.id,be=this.container,Ae=this._pages[de-1].getPagePoint(be.scrollLeft-x.x,be.scrollTop-x.y),we=Math.round(Ae[0]),Ee=Math.round(Ae[1]);let Me=`#page=${de}`;this.isInPresentationMode||(Me+=`&zoom=${ue},${we},${Ee}`),this._location={pageNumber:de,scale:ue,top:Ee,left:we,rotation:this._pagesRotation,pdfOpenParams:Me}}update(){const x=this._getVisiblePages(),I=x.views,$=I.length;if(0===$)return;const ue=Math.max(10,2*$+1);ve(this,q).resize(ue,x.ids),this.renderingQueue.renderHighestPriority(x);const de=this._spreadMode===r.SpreadMode.NONE&&(this._scrollMode===r.ScrollMode.PAGE||this._scrollMode===r.ScrollMode.VERTICAL),pe=this._currentPageNumber;let be=!1;for(const Ae of I){if(Ae.percent<100)break;if(Ae.id===pe&&de){be=!0;break}}this._setCurrentPageNumber(be?pe:I[0].id),this._updateLocation(x.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(x){return this.container.contains(x)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===r.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===r.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const x=this._scrollMode===r.ScrollMode.PAGE?ve(this,ae).pages:this._pages,I=this._scrollMode===r.ScrollMode.HORIZONTAL;return(0,r.getVisibleElements)({scrollEl:this.container,views:x,sortByVisibility:!0,horizontal:I,rtl:I&&this._isContainerRtl})}isPageVisible(x){return!!this.pdfDocument&&(Number.isInteger(x)&&x>0&&x<=this.pagesCount?this._getVisiblePages().ids.has(x):(console.error(`isPageVisible: "${x}" is not a valid page.`),!1))}isPageCached(x){if(!this.pdfDocument)return!1;if(!(Number.isInteger(x)&&x>0&&x<=this.pagesCount))return console.error(`isPageCached: "${x}" is not a valid page.`),!1;const I=this._pages[x-1];return ve(this,q).has(I)}cleanup(){for(const x of this._pages)x.renderingState!==r.RenderingStates.FINISHED&&x.reset()}_cancelRendering(){for(const x of this._pages)x.cancelRendering()}forceRendering(x){const I=x||this._getVisiblePages(),$=Se(this,te,Pt).call(this,I),de=this.renderingQueue.getHighestPriority(I,this._pages,$,this._spreadMode!==r.SpreadMode.NONE&&this._scrollMode!==r.ScrollMode.HORIZONTAL);return Se(this,me,wt).call(this,I.ids),!!de&&(Se(this,X,Ct).call(this,de).then(()=>{this.renderingQueue.renderView(de)}),!0)}createTextLayerBuilder(x,I,$,ue=!1,de,pe){return new g.TextLayerBuilder({textLayerDiv:x,eventBus:de,pageIndex:I,viewport:$,enhanceTextSelection:!this.isInPresentationMode&&ue,highlighter:pe})}createTextHighlighter(x,I){return new p.TextHighlighter({eventBus:I,pageIndex:x,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(x,I,$=null,ue="",de=!0,pe=o.NullL10n,be=null,Ae=null,we=null,Ee=null,Me=null){var se,R,v,G;return new P.AnnotationLayerBuilder({pageDiv:x,pdfPage:I,annotationStorage:$||(null==(se=this.pdfDocument)?void 0:se.annotationStorage),imageResourcesPath:ue,renderForms:de,linkService:this.linkService,downloadManager:this.downloadManager,l10n:pe,enableScripting:null!=be?be:this.enableScripting,hasJSActionsPromise:Ae||(null==(R=this.pdfDocument)?void 0:R.hasJSActions()),fieldObjectsPromise:Ee||(null==(v=this.pdfDocument)?void 0:v.getFieldObjects()),mouseState:we||(null==(G=this._scriptingManager)?void 0:G.mouseState),annotationCanvasMap:Me})}createXfaLayerBuilder(x,I,$=null){var ue;return new e.XfaLayerBuilder({pageDiv:x,pdfPage:I,annotationStorage:$||(null==(ue=this.pdfDocument)?void 0:ue.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(x){return new w.StructTreeLayerBuilder({pdfPage:x})}get hasEqualPageSizes(){const x=this._pages[0];for(let I=1,$=this._pages.length;I<$;++I){const ue=this._pages[I];if(ue.width!==x.width||ue.height!==x.height)return!1}return!0}getPagesOverview(){return this._pages.map(x=>{const I=x.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,r.isPortraitOrientation)(I)?{width:I.width,height:I.height,rotation:I.rotation}:{width:I.height,height:I.width,rotation:(I.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(x){if(!(x instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${x}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=x;const I={optionalContentConfigPromise:x};for(const $ of this._pages)$.update(I);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:x})}get scrollMode(){return this._scrollMode}set scrollMode(x){if(this._scrollMode!==x){if(!(0,r.isValidScrollMode)(x))throw new Error(`Invalid scroll mode: ${x}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=x,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:x}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(x=null){const I=this._scrollMode,$=this.viewer;$.classList.toggle("scrollHorizontal",I===r.ScrollMode.HORIZONTAL),$.classList.toggle("scrollWrapped",I===r.ScrollMode.WRAPPED),this.pdfDocument&&x&&(I===r.ScrollMode.PAGE?Se(this,l,He).call(this):this._previousScrollMode===r.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(x){if(this._spreadMode!==x){if(!(0,r.isValidSpreadMode)(x))throw new Error(`Invalid spread mode: ${x}`);this._spreadMode=x,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:x}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(x=null){if(!this.pdfDocument)return;const I=this.viewer,$=this._pages;if(this._scrollMode===r.ScrollMode.PAGE)Se(this,l,He).call(this);else if(I.textContent="",this._spreadMode===r.SpreadMode.NONE)for(const ue of this._pages)I.appendChild(ue.div);else{const ue=this._spreadMode-1;let de=null;for(let pe=0,be=$.length;pe<be;++pe)null===de?(de=document.createElement("div"),de.className="spread",I.appendChild(de)):pe%2===ue&&(de=de.cloneNode(!1),I.appendChild(de)),de.appendChild($[pe].div)}!x||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}_getPageAdvance(x,I=!1){switch(this._scrollMode){case r.ScrollMode.WRAPPED:{const{views:$}=this._getVisiblePages(),ue=new Map;for(const{id:de,y:pe,percent:be,widthPercent:Ae}of $){if(0===be||Ae<100)continue;let we=ue.get(pe);we||ue.set(pe,we||(we=[])),we.push(de)}for(const de of ue.values()){const pe=de.indexOf(x);if(-1===pe)continue;const be=de.length;if(1===be)break;if(I)for(let Ae=pe-1,we=0;Ae>=we;Ae--){const Me=de[Ae+1]-1;if(de[Ae]<Me)return x-Me}else for(let Ae=pe+1,we=be;Ae<we;Ae++){const Me=de[Ae-1]+1;if(de[Ae]>Me)return Me-x}if(I){const Ae=de[0];if(Ae<x)return x-Ae+1}else{const Ae=de[be-1];if(Ae>x)return Ae-x+1}break}break}case r.ScrollMode.HORIZONTAL:break;case r.ScrollMode.PAGE:case r.ScrollMode.VERTICAL:{if(this._spreadMode===r.SpreadMode.NONE)break;const $=this._spreadMode-1;if(I&&x%2!==$)break;if(!I&&x%2===$)break;const{views:ue}=this._getVisiblePages(),de=I?x-1:x+1;for(const{id:pe,percent:be,widthPercent:Ae}of ue)if(pe===de){if(be>0&&100===Ae)return 2;break}break}}return 1}nextPage(){const x=this._currentPageNumber,I=this.pagesCount;if(x>=I)return!1;const $=this._getPageAdvance(x,!1)||1;return this.currentPageNumber=Math.min(x+$,I),!0}previousPage(){const x=this._currentPageNumber;if(x<=1)return!1;const I=this._getPageAdvance(x,!0)||1;return this.currentPageNumber=Math.max(x-I,1),!0}increaseScale(x=1){let I=this._currentScale;do{I=(I*r.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.ceil(10*I)/10,I=Math.min(r.MAX_SCALE,I)}while(--x>0&&I<r.MAX_SCALE);this.currentScaleValue=I}decreaseScale(x=1){let I=this._currentScale;do{I=(I/r.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.floor(10*I)/10,I=Math.max(r.MIN_SCALE,I)}while(--x>0&&I>r.MIN_SCALE);this.currentScaleValue=I}updateContainerHeightCss(){const x=this.container.clientHeight;x!==ve(this,ee)&&(Re(this,ee,x),this._doc.style.setProperty("--viewer-container-height",`${x}px`))}};let L=le;q=new WeakMap,J=new WeakMap,B=new WeakMap,Y=new WeakMap,ee=new WeakMap,ae=new WeakMap,ce=new WeakMap,M=new WeakSet,yt=function(x){!x||(x.includes(A.PermissionFlag.COPY)||this.viewer.classList.add(m),!x.includes(A.PermissionFlag.MODIFY_ANNOTATIONS)&&!x.includes(A.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ve(this,J)===A.AnnotationMode.ENABLE_FORMS&&(Re(this,B,ve(this,J)),Re(this,J,A.AnnotationMode.ENABLE)))},d=new WeakSet,vt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const x=new Promise(I=>{Re(this,ce,()=>{"hidden"===document.visibilityState&&(I(),document.removeEventListener("visibilitychange",ve(this,ce)),Re(this,ce,null))}),document.addEventListener("visibilitychange",ve(this,ce))});return Promise.race([this._onePageRenderedCapability.promise,x])},l=new WeakSet,He=function(){if(this._scrollMode!==r.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const x=this._currentPageNumber,I=ve(this,ae),$=this.viewer;if($.textContent="",I.pages.length=0,this._spreadMode!==r.SpreadMode.NONE||this.isInPresentationMode){const ue=new Set,de=this._spreadMode-1;-1===de?ue.add(x-1):x%2!==de?(ue.add(x-1),ue.add(x)):(ue.add(x-2),ue.add(x-1));const pe=document.createElement("div");if(pe.className="spread",this.isInPresentationMode){const be=document.createElement("div");be.className="dummyPage",pe.appendChild(be)}for(const be of ue){const Ae=this._pages[be];!Ae||(pe.appendChild(Ae.div),I.pages.push(Ae))}$.appendChild(pe)}else{const ue=this._pages[x-1];$.appendChild(ue.div),I.pages.push(ue)}I.scrollDown=x>=I.previousPageNumber,I.previousPageNumber=x},C=new WeakSet,Ke=function(x,I=null){const{div:$,id:ue}=x;if(this._scrollMode===r.ScrollMode.PAGE&&(this._setCurrentPageNumber(ue),Se(this,l,He).call(this),this.update()),!I&&!this.isInPresentationMode){const de=$.offsetLeft+$.clientLeft,pe=de+$.clientWidth,{scrollLeft:be,clientWidth:Ae}=this.container;(this._scrollMode===r.ScrollMode.HORIZONTAL||de<be||pe>be+Ae)&&(I={left:0,top:0})}(0,r.scrollIntoView)($,I)},T=new WeakSet,St=function(x){return x===this._currentScale||Math.abs(x-this._currentScale)<1e-15},j=new WeakSet,at=function(){const x=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Se(this,C,Ke).call(this,x)},X=new WeakSet,Ct=function(x){var I=this;return _(function*(){var $,ue;if(x.pdfPage)return x.pdfPage;try{const de=yield I.pdfDocument.getPage(x.id);return x.pdfPage||x.setPdfPage(de),(null==(ue=($=I.linkService)._cachedPageNumber)?void 0:ue.call($,de.ref))||I.linkService.cachePageRef(x.id,de.ref),de}catch(de){return console.error("Unable to get page for page view",de),null}})()},te=new WeakSet,Pt=function(x){var I,$;if(1===(null==(I=x.first)?void 0:I.id))return!0;if((null==($=x.last)?void 0:$.id)===this.pagesCount)return!1;switch(this._scrollMode){case r.ScrollMode.PAGE:return ve(this,ae).scrollDown;case r.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},me=new WeakSet,wt=function(x){for(const I of x){const $=this._pages[I-1];null==$||$.toggleLoadingIconSpinner(!0)}for(const I of ve(this,q))x.has(I.id)||I.toggleLoadingIconSpinner(!1)},h.BaseViewer=L},(N,h,E)=>{var c;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFPageView=void 0;var A=E(3),r=E(6),P=E(13),o=E(4);const s=P.compatibilityParams.maxCanvasPixels||16777216;c=new WeakMap,h.PDFPageView=class n{constructor(p){var m,b,S,L;Pe(this,c,A.AnnotationMode.ENABLE_FORMS);const g=p.container,e=p.defaultViewport;this.id=p.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=p.scale||r.DEFAULT_SCALE,this.viewport=e,this.pdfPageRotate=e.rotation,this._optionalContentConfigPromise=p.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(m=p.textLayerMode)?m:r.TextLayerMode.ENABLE,Re(this,c,null!=(b=p.annotationMode)?b:A.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=p.imageResourcesPath||"",this.useOnlyCssZoom=p.useOnlyCssZoom||!1,this.maxCanvasPixels=p.maxCanvasPixels||s,this.pageColors=p.pageColors||null,this.eventBus=p.eventBus,this.renderingQueue=p.renderingQueue,this.textLayerFactory=p.textLayerFactory,this.annotationLayerFactory=p.annotationLayerFactory,this.xfaLayerFactory=p.xfaLayerFactory,this.textHighlighter=null==(S=p.textHighlighterFactory)?void 0:S.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=p.structTreeLayerFactory,this.renderer=p.renderer||r.RendererType.CANVAS,this.l10n=p.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=r.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(L=this.renderingQueue)?void 0:L.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(F=>{i.setAttribute("aria-label",F)}),this.div=i,null==g||g.appendChild(i)}setPdfPage(p){this.pdfPage=p,this.pdfPageRotate=p.rotate,this.viewport=p.getViewport({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var p=this;return _(function*(){let g=null;try{yield p.annotationLayer.render(p.viewport,"display")}catch(e){g=e}finally{p.eventBus.dispatch("annotationlayerrendered",{source:p,pageNumber:p.id,error:g})}})()}_renderXfaLayer(){var p=this;return _(function*(){let g=null;try{const e=yield p.xfaLayer.render(p.viewport,"display");p.textHighlighter&&p._buildXfaTextContentItems(e.textDivs)}catch(e){g=e}finally{p.eventBus.dispatch("xfalayerrendered",{source:p,pageNumber:p.id,error:g})}})()}_buildXfaTextContentItems(p){var g=this;return _(function*(){const e=yield g.pdfPage.getTextContent(),i=[];for(const m of e.items)i.push(m.str);g.textHighlighter.setTextMapping(p,i),g.textHighlighter.enable()})()}_resetZoomLayer(p=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,p&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:p=!1,keepAnnotationLayer:g=!1,keepXfaLayer:e=!1}={}){var F,D;this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:e}),this.renderingState=r.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const m=i.childNodes,b=p&&this.zoomLayer||null,S=g&&(null==(F=this.annotationLayer)?void 0:F.div)||null,L=e&&(null==(D=this.xfaLayer)?void 0:D.div)||null;for(let V=m.length-1;V>=0;V--){const H=m[V];switch(H){case b:case S:case L:continue}H.remove()}i.removeAttribute("data-loaded"),S&&this.annotationLayer.hide(),L&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(V=>{var H;null==(H=this.loadingIconDiv)||H.setAttribute("aria-label",V)}),i.appendChild(this.loadingIconDiv)}update({scale:p=0,rotation:g=null,optionalContentConfigPromise:e=null}){if(this.scale=p||this.scale,"number"==typeof g&&(this.rotation=g),e instanceof Promise&&(this._optionalContentConfigPromise=e),this.viewport=this.viewport.clone({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:b}=document.documentElement;b.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let m=!1;if(this.canvas&&this.maxCanvasPixels>0){const b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(m=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&m)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:p=!1,keepXfaLayer:g=!1}={}){var e;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!p||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(e=this.textHighlighter)||e.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:p,redrawAnnotationLayer:g=!1,redrawXfaLayer:e=!1}){const i=this.viewport.width,m=this.viewport.height,b=this.div;p.style.width=p.parentNode.style.width=b.style.width=Math.floor(i)+"px",p.style.height=p.parentNode.style.height=b.style.height=Math.floor(m)+"px";const S=this.viewport.rotation-this.paintedViewportMap.get(p).rotation,L=Math.abs(S);let F=1,D=1;if((90===L||270===L)&&(F=m/i,D=i/m),p.style.transform=`rotate(${S}deg) scale(${F}, ${D})`,this.textLayer){const V=this.textLayer.viewport,q=Math.abs(this.viewport.rotation-V.rotation);let J=i/V.width;(90===q||270===q)&&(J=i/V.height);const B=this.textLayer.textLayerDiv;let Y,ee;switch(q){case 0:Y=ee=0;break;case 90:Y=0,ee="-"+B.style.height;break;case 180:Y="-"+B.style.width,ee="-"+B.style.height;break;case 270:Y="-"+B.style.width,ee=0;break;default:console.error("Bad rotation value.")}B.style.transform=`rotate(${q}deg) scale(${J}) translate(${Y}, ${ee})`,B.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),e&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(p,g){return this.viewport.convertToPdfPoint(p,g)}toggleLoadingIconSpinner(p=!1){var g;null==(g=this.loadingIconDiv)||g.classList.toggle("notVisible",!p)}draw(){var D,V,H,p=this;this.renderingState!==r.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:e}=this;if(!e)return this.renderingState=r.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=r.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=g.style.width,i.style.height=g.style.height,i.classList.add("canvasWrapper"),(null==(D=this.annotationLayer)?void 0:D.div)?g.insertBefore(i,this.annotationLayer.div):g.appendChild(i);let m=null;if(this.textLayerMode!==r.TextLayerMode.DISABLE&&this.textLayerFactory){const q=document.createElement("div");q.className="textLayer",q.style.width=i.style.width,q.style.height=i.style.height,(null==(V=this.annotationLayer)?void 0:V.div)?g.insertBefore(q,this.annotationLayer.div):g.appendChild(q),m=this.textLayerFactory.createTextLayerBuilder(q,this.id-1,this.viewport,this.textLayerMode===r.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=m,ve(this,c)!==A.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,e,null,this.imageResourcesPath,ve(this,c)===A.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(H=this.xfaLayer)?void 0:H.div)&&g.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=q=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=r.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=r.RenderingStates.RUNNING,q()});q()});const S=function(){var q=_(function*(J=null){if(L===p.paintTask&&(p.paintTask=null),J instanceof A.RenderingCancelledException)p._renderError=null;else if(p._renderError=J,p.renderingState=r.RenderingStates.FINISHED,p.loadingIconDiv&&(p.loadingIconDiv.remove(),delete p.loadingIconDiv),p._resetZoomLayer(!0),p.eventBus.dispatch("pagerendered",{source:p,pageNumber:p.id,cssTransform:!1,timestamp:performance.now(),error:p._renderError}),J)throw J});return function(){return q.apply(this,arguments)}}(),L=this.renderer===r.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);L.onRenderContinue=b,this.paintTask=L;const F=L.promise.then(()=>S(null).then(()=>{if(m){const q=e.streamTextContent({includeMarkedContent:!0});m.setTextContentStream(q),m.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(q){return S(q)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,e,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=q=>{q.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(J=>{if(!J||!this.canvas)return;const B=this.structTreeLayer.render(J);B.classList.add("structTree"),this.canvas.appendChild(B)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(e)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),F}paintOnCanvas(p){const g=(0,A.createPromiseCapability)(),e={promise:g.promise,onRenderContinue(B){B()},cancel(){J.cancel()}},i=this.viewport,m=document.createElement("canvas");m.hidden=!0;let b=!0;const S=function(){b&&(m.hidden=!1,b=!1)};p.appendChild(m),this.canvas=m;const L=m.getContext("2d",{alpha:!1}),F=this.outputScale=new r.OutputScale;if(this.useOnlyCssZoom){const B=i.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});F.sx*=B.width/i.width,F.sy*=B.height/i.height}if(this.maxCanvasPixels>0){const Y=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));F.sx>Y||F.sy>Y?(F.sx=Y,F.sy=Y,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const D=(0,r.approximateFraction)(F.sx),V=(0,r.approximateFraction)(F.sy);m.width=(0,r.roundToDivide)(i.width*F.sx,D[0]),m.height=(0,r.roundToDivide)(i.height*F.sy,V[0]),m.style.width=(0,r.roundToDivide)(i.width,D[1])+"px",m.style.height=(0,r.roundToDivide)(i.height,V[1])+"px",this.paintedViewportMap.set(m,i);const q={canvasContext:L,transform:F.scaled?[F.sx,0,0,F.sy,0,0]:null,viewport:this.viewport,annotationMode:ve(this,c),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},J=this.pdfPage.render(q);return J.onContinue=function(B){S(),e.onRenderContinue?e.onRenderContinue(B):B()},J.promise.then(function(){S(),g.resolve()},function(B){S(),g.reject(B)}),e}paintOnSvg(p){let g=!1;const e=()=>{if(g)throw new A.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,m=this.viewport.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:ve(this,c)}).then(S=>(e(),new A.SVGGraphics(i.commonObjs,i.objs).getSVG(S,m).then(F=>{e(),this.svg=F,this.paintedViewportMap.set(F,m),F.style.width=p.style.width,F.style.height=p.style.height,this.renderingState=r.RenderingStates.FINISHED,p.appendChild(F)}))),onRenderContinue(S){S()},cancel(){g=!0}}}setPageLabel(p){this.pageLabel="string"==typeof p?p:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(N,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.compatibilityParams=h.OptionKind=h.AppOptions=void 0;const E=Object.create(null);h.compatibilityParams=E;{const s=navigator.userAgent||"",n=navigator.platform||"",c=navigator.maxTouchPoints||1,w=/Android/.test(s);(/\b(iPad|iPhone|iPod)(?=;)/.test(s)||"MacIntel"===n&&c>1||w)&&(E.maxCanvasPixels=5242880)}const A={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};h.OptionKind=A;const r={annotationMode:{value:2,kind:A.VIEWER+A.PREFERENCE},cursorToolOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:A.VIEWER},defaultZoomValue:{value:"",kind:A.VIEWER+A.PREFERENCE},disableHistory:{value:!1,kind:A.VIEWER},disablePageLabels:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePermissions:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:A.VIEWER+A.PREFERENCE},enableScripting:{value:!0,kind:A.VIEWER+A.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:A.VIEWER},externalLinkTarget:{value:0,kind:A.VIEWER+A.PREFERENCE},historyUpdateUrl:{value:!1,kind:A.VIEWER+A.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},imageResourcesPath:{value:"./images/",kind:A.VIEWER},maxCanvasPixels:{value:16777216,compatibility:E.maxCanvasPixels,kind:A.VIEWER},pageColorsBackground:{value:"Canvas",kind:A.VIEWER+A.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:A.VIEWER+A.PREFERENCE},pdfBugEnabled:{value:!1,kind:A.VIEWER+A.PREFERENCE},printResolution:{value:150,kind:A.VIEWER},renderer:{value:"canvas",kind:A.VIEWER},sidebarViewOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},scrollModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},spreadModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},textLayerMode:{value:1,kind:A.VIEWER+A.PREFERENCE},useOnlyCssZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},viewerCssTheme:{value:0,kind:A.VIEWER+A.PREFERENCE},viewOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},cMapPacked:{value:!0,kind:A.API},cMapUrl:{value:"../web/cmaps/",kind:A.API},disableAutoFetch:{value:!1,kind:A.API+A.PREFERENCE},disableFontFace:{value:!1,kind:A.API+A.PREFERENCE},disableRange:{value:!1,kind:A.API+A.PREFERENCE},disableStream:{value:!1,kind:A.API+A.PREFERENCE},docBaseUrl:{value:"",kind:A.API},enableXfa:{value:!0,kind:A.API+A.PREFERENCE},fontExtraProperties:{value:!1,kind:A.API},isEvalSupported:{value:!0,kind:A.API},maxImageSize:{value:-1,kind:A.API},pdfBug:{value:!1,kind:A.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:A.API},verbosity:{value:1,kind:A.API},workerPort:{value:null,kind:A.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:A.WORKER}};r.disablePreferences={value:!1,kind:A.VIEWER},r.locale={value:navigator.language||"en-US",kind:A.VIEWER},r.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:A.VIEWER},r.renderer.kind+=A.PREFERENCE;const P=Object.create(null);h.AppOptions=class o{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){var p;const c=P[n];if(void 0!==c)return c;const w=r[n];return void 0!==w?null!=(p=w.compatibility)?p:w.value:void 0}static getAll(n=null){var w;const c=Object.create(null);for(const p in r){const g=r[p];if(n){if(0==(n&g.kind))continue;if(n===A.PREFERENCE){const i=g.value,m=typeof i;if("boolean"===m||"string"===m||"number"===m&&Number.isInteger(i)){c[p]=i;continue}throw new Error(`Invalid type for preference: ${p}`)}}const e=P[p];c[p]=void 0!==e?e:null!=(w=g.compatibility)?w:g.value}return c}static set(n,c){P[n]=c}static setAll(n){for(const c in n)P[c]=n[c]}static remove(n){delete P[n]}static _hasUserOptions(){return Object.keys(P).length>0}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFRenderingQueue=void 0;var A=E(3),r=E(6);h.PDFRenderingQueue=class o{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){var c;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&(null==(c=this.pdfThumbnailViewer)?void 0:c.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,c,w,p=!1){const g=n.views,e=g.length;if(0===e)return null;for(let L=0;L<e;L++){const F=g[L].view;if(!this.isViewFinished(F))return F}const i=n.first.id,m=n.last.id;if(m-i+1>e){const L=n.ids;for(let F=1,D=m-i;F<D;F++){const V=w?i+F:m-F;if(L.has(V))continue;const H=c[V-1];if(!this.isViewFinished(H))return H}}let b=w?m:i-2,S=c[b];return S&&!this.isViewFinished(S)||p&&(b+=w?1:-1,S=c[b],S&&!this.isViewFinished(S))?S:null}isViewFinished(n){return n.renderingState===r.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case r.RenderingStates.FINISHED:return!1;case r.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case r.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case r.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(c=>{c instanceof A.RenderingCancelledException||console.error(`renderView: "${c}"`)})}return!0}}},(N,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextHighlighter=void 0,h.TextHighlighter=class E{constructor({findController:r,eventBus:P,pageIndex:o}){this.findController=r,this.matches=[],this.eventBus=P,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(r,P){this.textDivs=r,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=r=>{(r.pageIndex===this.pageIdx||-1===r.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(r,P){if(!r)return[];const{textContentItemsStr:o}=this;let s=0,n=0;const c=o.length-1,w=[];for(let p=0,g=r.length;p<g;p++){let e=r[p];for(;s!==c&&e>=n+o[s].length;)n+=o[s].length,s++;s===o.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:s,offset:e-n}};for(e+=P[p];s!==c&&e>n+o[s].length;)n+=o[s].length,s++;i.end={divIdx:s,offset:e-n},w.push(i)}return w}_renderMatches(r){if(0===r.length)return;const{findController:P,pageIdx:o}=this,{textContentItemsStr:s,textDivs:n}=this,c=o===P.selected.pageIdx,w=P.selected.matchIdx;let g=null;function i(L,F){const D=L.divIdx;return n[D].textContent="",m(D,0,L.offset,F)}function m(L,F,D,V){let H=n[L];if(H.nodeType===Node.TEXT_NODE){const B=document.createElement("span");H.parentNode.insertBefore(B,H),B.appendChild(H),n[L]=B,H=B}const q=s[L].substring(F,D),J=document.createTextNode(q);if(V){const B=document.createElement("span");return B.className=`${V} appended`,B.appendChild(J),H.appendChild(B),V.includes("selected")?B.offsetLeft:0}return H.appendChild(J),0}let b=w,S=b+1;if(P.state.highlightAll)b=0,S=r.length;else if(!c)return;for(let L=b;L<S;L++){const F=r[L],D=F.begin,V=F.end,H=c&&L===w,q=H?" selected":"";let J=0;if(g&&D.divIdx===g.divIdx?m(g.divIdx,g.offset,D.offset):(null!==g&&m(g.divIdx,g.offset,undefined),i(D)),D.divIdx===V.divIdx)J=m(D.divIdx,D.offset,V.offset,"highlight"+q);else{J=m(D.divIdx,D.offset,undefined,"highlight begin"+q);for(let B=D.divIdx+1,Y=V.divIdx;B<Y;B++)n[B].className="highlight middle"+q;i(V,"highlight end"+q)}g=V,H&&P.scrollMatchIntoView({element:n[D.divIdx],selectedLeft:J,pageIndex:o,matchIndex:w})}g&&m(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:r,matches:P,pageIdx:o}=this,{textContentItemsStr:s,textDivs:n}=this;let c=-1;for(let g=0,e=P.length;g<e;g++){const i=P[g];for(let b=Math.max(c,i.begin.divIdx),S=i.end.divIdx;b<=S;b++){const L=n[b];L.textContent=s[b],L.className=""}c=i.end.divIdx+1}(null==r?void 0:r.highlightMatches)&&(this.matches=this._convertMatches(r.pageMatches[o]||null,r.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DownloadManager=void 0;var A=E(3);function r(o,s){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=o,n.target="_parent","download"in n&&(n.download=s),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}h.DownloadManager=class P{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(s,n){(0,A.createValidAbsoluteUrl)(s,"http://example.com")?r(s+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${s}`)}downloadData(s,n,c){r(URL.createObjectURL(new Blob([s],{type:c})),n)}openOrDownloadData(s,n,c){const w=(0,A.isPdfFile)(c),p=w?"application/pdf":"";if(w){let e,g=this._openBlobUrls.get(s);g||(g=URL.createObjectURL(new Blob([n],{type:p})),this._openBlobUrls.set(s,g)),e="?file="+encodeURIComponent(g+"#"+c);try{return window.open(e),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(s)}}return this.downloadData(n,c,p),!1}download(s,n,c,w="download"){r(URL.createObjectURL(s),c)}}},(N,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WaitOnType=h.EventBus=h.AutomationEventBus=void 0,h.waitOnEventOrTimeout=function A({target:o,name:s,delay:n=0}){return new Promise(function(c,w){if("object"!=typeof o||!s||"string"!=typeof s||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(m){o instanceof r?o._off(s,g):o.removeEventListener(s,g),i&&clearTimeout(i),c(m)}const g=p.bind(null,E.EVENT);o instanceof r?o._on(s,g):o.addEventListener(s,g);const e=p.bind(null,E.TIMEOUT),i=setTimeout(e,n)})};const E={EVENT:"event",TIMEOUT:"timeout"};h.WaitOnType=E;class r{constructor(){this._listeners=Object.create(null)}on(s,n,c=null){this._on(s,n,{external:!0,once:null==c?void 0:c.once})}off(s,n,c=null){this._off(s,n,{external:!0,once:null==c?void 0:c.once})}dispatch(s,n){const c=this._listeners[s];if(!c||0===c.length)return;let w;for(const{listener:p,external:g,once:e}of c.slice(0))e&&this._off(s,p),g?(w||(w=[])).push(p):p(n);if(w){for(const p of w)p(n);w=null}}_on(s,n,c=null){var p;((p=this._listeners)[s]||(p[s]=[])).push({listener:n,external:!0===(null==c?void 0:c.external),once:!0===(null==c?void 0:c.once)})}_off(s,n,c=null){const w=this._listeners[s];if(w)for(let p=0,g=w.length;p<g;p++)if(w[p].listener===n)return void w.splice(p,1)}}h.EventBus=r,h.AutomationEventBus=class P extends r{dispatch(s,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericL10n=void 0,E(19);var A=E(4);const r=document.webL10n;h.GenericL10n=class P{constructor(s){this._lang=s,this._ready=new Promise((n,c)=>{r.setLanguage((0,A.fixupLangCode)(s),()=>{n(r)})})}getLanguage(){var s=this;return _(function*(){return(yield s._ready).getLanguage()})()}getDirection(){var s=this;return _(function*(){return(yield s._ready).getDirection()})()}get(s,n=null,c=(0,A.getL10nFallback)(s,n)){var w=this;return _(function*(){return(yield w._ready).get(s,n,c)})()}translate(s){var n=this;return _(function*(){return(yield n._ready).translate(s)})()}}},()=>{document.webL10n=function(N,h,E){var A={},r="",P="textContent",o="",s={},n="loading";function i(B,Y,ee){Y=Y||function(M){},ee=ee||function(){};var ae=new XMLHttpRequest;ae.open("GET",B,!0),ae.overrideMimeType&&ae.overrideMimeType("text/plain; charset=utf-8"),ae.onreadystatechange=function(){4==ae.readyState&&(200==ae.status||0===ae.status?Y(ae.responseText):ee())},ae.onerror=ee,ae.ontimeout=ee;try{ae.send(null)}catch(ce){ee()}}function b(B,Y){B&&(B=B.toLowerCase()),Y=Y||function(){},function S(){A={},r="",o=""}(),o=B;var ee=function w(){return h.querySelectorAll('link[type="application/l10n"]')}(),ae=ee.length;if(0!==ae){var d,t=0;d=function(){++t>=ae&&(Y(),n="complete")};for(var u=0;u<ae;u++)new l(ee[u]).load(B,d)}else{var ce=function p(){var B=h.querySelector('script[type="application/l10n"]');return B?JSON.parse(B.innerHTML):null}();if(ce&&ce.locales&&ce.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(A=ce.locales[B])){var M=ce.default_locale.toLowerCase();for(var a in ce.locales){if((a=a.toLowerCase())===B){A=ce.locales[B];break}a===M&&(A=ce.locales[M])}}Y()}else console.log("no resource to load, early way out");n="complete"}function l(y){var T=y.href;this.load=function(U,j){!function m(B,Y,ee,ae){var ce=B.replace(/[^\/]*$/,"")||"./";function M(d){return d.lastIndexOf("\\")<0?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(B,function(d){r+=d,function a(d,t){var l={},u=/^\s*|\s*$/,C=/^\s*#|^\s*$/,y=/^\s*\[(.*)\]\s*$/,T=/^\s*@import\s+url\((.*)\)\s*$/i,U=/^([^=\s]*)\s*=\s*(.+)$/;function j(X,Q,te){var he=X.replace(u,"").split(/[\r\n]+/),me="*",K=Y.split("-",1)[0],le=!1,oe="";!function x(){for(;;){if(!he.length)return void te();var I=he.shift();if(!C.test(I)){if(Q){if(oe=y.exec(I)){me=oe[1].toLowerCase(),le="*"!==me&&me!==Y&&me!==K;continue}if(le)continue;if(oe=T.exec(I))return void W(ce+oe[1],x)}var $=I.match(U);$&&3==$.length&&(l[$[1]]=M($[2]))}}}()}function W(X,Q){i(X,function(te){j(te,!1,Q)},function(){console.warn(X+" not found."),Q()})}j(d,!0,function(){t(l)})}(d,function(t){for(var l in t){var u,C,y=l.lastIndexOf(".");y>0?(u=l.substring(0,y),C=l.substring(y+1)):(u=l,C=P),A[u]||(A[u]={}),A[u][C]=t[l]}ee&&ee()})},ae)}(T,U,j,function(){console.warn(T+" not found."),console.warn('"'+U+'" resource not found'),o="",j()})}}}function F(B,Y,ee){var ae=A[B];if(!ae){if(console.warn("#"+B+" is undefined."),!ee)return null;ae=ee}var ce={};for(var M in ae){var a=ae[M];a=V(a=D(a,Y,B,M),Y,B),ce[M]=a}return ce}function D(B,Y,ee,ae){var M=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(B);if(!M||!M.length)return B;var t,a=M[1],d=M[2];return Y&&d in Y?t=Y[d]:d in A&&(t=A[d]),a in s&&(B=(0,s[a])(B,t,ee,ae)),B}function V(B,Y,ee){return B.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ce,M){return Y&&M in Y?Y[M]:M in A?A[M]:(console.log("argument {{"+M+"}} for #"+ee+" is undefined."),ce)})}function H(B){var Y=function e(B){if(!B)return{};var Y=B.getAttribute("data-l10n-id"),ee=B.getAttribute("data-l10n-args"),ae={};if(ee)try{ae=JSON.parse(ee)}catch(ce){console.warn("could not parse arguments for #"+Y)}return{id:Y,args:ae}}(B);if(Y.id){var ee=F(Y.id,Y.args);if(!ee)return void console.warn("#"+Y.id+" is undefined.");if(ee[P]){if(0===function q(B){if(B.children)return B.children.length;if(void 0!==B.childElementCount)return B.childElementCount;for(var Y=0,ee=0;ee<B.childNodes.length;ee++)Y+=1===B.nodeType?1:0;return Y}(B))B[P]=ee[P];else{for(var ae=B.childNodes,ce=!1,M=0,a=ae.length;M<a;M++)3===ae[M].nodeType&&/\S/.test(ae[M].nodeValue)&&(ce?ae[M].nodeValue="":(ae[M].nodeValue=ee[P],ce=!0));if(!ce){var d=h.createTextNode(ee[P]);B.insertBefore(d,B.firstChild)}}delete ee[P]}for(var t in ee)B[t]=ee[t]}}return s.plural=function(B,Y,ee,ae){var ce=parseFloat(Y);if(isNaN(ce)||ae!=P)return B;s._pluralRules||(s._pluralRules=function L(B){function ee(a,d){return-1!==d.indexOf(a)}function ae(a,d,t){return d<=a&&a<=t}var ce={0:function(a){return"other"},1:function(a){return ae(a%100,3,10)?"few":0===a?"zero":ae(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return ae(a,0,1)?"one":"other"},5:function(a){return ae(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return ae(a,3,6)?"few":ae(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&ae(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return ae(a%10,2,9)&&!ae(a%100,11,19)?"few":a%10!=1||ae(a%100,11,19)?"other":"one"},11:function(a){return ae(a%10,2,4)&&!ae(a%100,12,14)?"few":a%10==0||ae(a%10,5,9)||ae(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return ae(a,2,4)?"few":1==a?"one":"other"},13:function(a){return ae(a%10,2,4)&&!ae(a%100,12,14)?"few":1!=a&&ae(a%10,0,1)||ae(a%10,5,9)||ae(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return ae(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||ae(a%100,2,10)?"few":ae(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":ae(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return ae(a,2,10)?"few":ae(a,0,1)?"one":"other"},20:function(a){return!ae(a%10,3,4)&&a%10!=9||ae(a%100,10,19)||ae(a%100,70,79)||ae(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||ee(a%100,[12,72,92])?a%10!=1||ee(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return ae(a,0,1)||ae(a,11,99)?"one":"other"},23:function(a){return ae(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return ae(a,3,10)||ae(a,13,19)?"few":ee(a,[2,12])?"two":ee(a,[1,11])?"one":"other"}},M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[B.replace(/-.*$/,"")];return M in ce?ce[M]:(console.warn("plural form unknown for ["+B+"]"),function(){return"other"})}(o));var M="["+s._pluralRules(ce)+"]";return 0===ce&&ee+"[zero]"in A?B=A[ee+"[zero]"][ae]:1==ce&&ee+"[one]"in A?B=A[ee+"[one]"][ae]:2==ce&&ee+"[two]"in A?B=A[ee+"[two]"][ae]:ee+M in A?B=A[ee+M][ae]:ee+"[other]"in A&&(B=A[ee+"[other]"][ae]),B},{get:function(B,Y,ee){var M,ae=B.lastIndexOf("."),ce=P;ae>0&&(ce=B.substring(ae+1),B=B.substring(0,ae)),ee&&((M={})[ce]=ee);var a=F(B,Y,M);return a&&ce in a?a[ce]:"{{"+B+"}}"},getData:function(){return A},getText:function(){return r},getLanguage:function(){return o},setLanguage:function(B,Y){b(B,function(){Y&&Y()})},getDirection:function(){var Y=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Y)>=0?"rtl":"ltr"},translate:function J(B){for(var Y=function g(B){return B?B.querySelectorAll("*[data-l10n-id]"):[]}(B=B||h.documentElement),ee=Y.length,ae=0;ae<ee;ae++)H(Y[ae]);H(B)},getReadyState:function(){return n},ready:function(B){B&&("complete"==n||"interactive"==n?N.setTimeout(function(){B()}):h.addEventListener&&h.addEventListener("localized",function Y(){h.removeEventListener("localized",Y),B()}))}}}(window,document)},(N,h,E)=>{var V,xt,q,ot,B,lt,ee,Et,ce,Tt,a,Mt,t,ct,u,Lt,y,kt,U,Je,W,Ge,Q,je,he,Rt,K,ht,oe,dt,I,Ze,ue,Ft,pe,ut,Ae,Ot,Ee,ze;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFFindController=h.FindState=void 0;var A=E(6),r=E(3),P=E(21);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};h.FindState=o;const w={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[...p.values()].map(se=>String.fromCharCode(se)).join(""),e=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,m=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let S=null;function L(se){if(!S){const xe=Object.keys(w).join("");S=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const R=[];let v;for(;null!==(v=e.exec(se));)R.push([v[0].length,v.index]);let G=se.normalize("NFD");const f=[[0,0]];let O=0,z=0,_e=0,ye=0,Ce=!1;return G=G.replace(S,(xe,Te,Le,Ne,ke,Fe)=>{var Be;if(Fe-=_e,Te){const Ie=w[xe],Ve=Ie.length;for(let De=1;De<Ve;De++)f.push([Fe-z+De,z-De]);return z-=Ve-1,Ie}if(Le){const Ie=Le.endsWith("\n"),Ve=Ie?Le.length-2:Le.length;Ce=!0;let De=Ve;Fe+ye===(null==(Be=R[O])?void 0:Be[1])&&(De-=R[O][0],++O);for(let Oe=1;Oe<De+1;Oe++)f.push([Fe-1-z+Oe,z-Oe]);return z-=De,_e+=De,Ie?(f.push([(Fe+=Ve-1)-z+1,1+z]),z+=1,_e+=1,ye+=1,Le.slice(0,Ve)):Le}return Ne?(f.push([Fe-z+1,1+z]),z+=1,_e+=1,ye+=1,Ne.charAt(0)):(f.push([Fe-z+1,z-1]),z-=1,_e+=1,ye+=1," ")}),f.push([G.length,z]),[G,f,Ce]}function F(se,R,v){if(!se)return[R,v];const G=R,f=R+v;let O=(0,A.binarySearchFirstItem)(se,_e=>_e[0]>=G);se[O][0]>G&&--O;let z=(0,A.binarySearchFirstItem)(se,_e=>_e[0]>=f,O);return se[z][0]>f&&--z,[G+se[O][1],v+se[z][1]-se[O][1]]}V=new WeakSet,xt=function(R){if(!R)return;const v=this._pdfDocument,{type:G}=R;(null===this._state||Se(this,ee,Et).call(this,R))&&(this._dirtyMatch=!0),this._state=R,"highlightallchange"!==G&&Se(this,Ee,ze).call(this,o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||v&&this._pdfDocument!==v)return;Se(this,y,kt).call(this);const f=!this._highlightMatches,O=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),G?this._dirtyMatch?Se(this,Q,je).call(this):"again"===G?(Se(this,Q,je).call(this),f&&this._state.highlightAll&&Se(this,W,Ge).call(this)):"highlightallchange"===G?(O?Se(this,Q,je).call(this):this._highlightMatches=!0,Se(this,W,Ge).call(this)):Se(this,Q,je).call(this):this._findTimeout=setTimeout(()=>{Se(this,Q,je).call(this),this._findTimeout=null},250)})},q=new WeakSet,ot=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()},B=new WeakSet,lt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=L(this._state.query)),this._normalizedQuery},ee=new WeakSet,Et=function(R){if(R.query!==this._state.query)return!0;switch(R.type){case"again":const v=this._selected.pageIdx+1,G=this._linkService;return v>=1&&v<=G.pagesCount&&v!==G.page&&!G.isPageVisible(v);case"highlightallchange":return!1}return!0},ce=new WeakSet,Tt=function(R,v,G){let f=R.slice(0,v).match(m);if(f){const O=R.charCodeAt(v),z=f[1].charCodeAt(0);if((0,P.getCharacterType)(O)===(0,P.getCharacterType)(z))return!1}if(f=R.slice(v+G).match(b),f){const O=R.charCodeAt(v+G-1),z=f[1].charCodeAt(0);if((0,P.getCharacterType)(O)===(0,P.getCharacterType)(z))return!1}return!0},a=new WeakSet,Mt=function(R,v,G,f){const O=[],z=[],_e=this._pageDiffs[G];let ye;for(;null!==(ye=R.exec(f));){if(v&&!Se(this,ce,Tt).call(this,f,ye.index,ye[0].length))continue;const[Ce,xe]=F(_e,ye.index,ye[0].length);xe&&(O.push(Ce),z.push(xe))}this._pageMatches[G]=O,this._pageMatchesLength[G]=z},t=new WeakSet,ct=function(R,v){const{matchDiacritics:G}=this._state;let f=!1;const O="[ ]*";return(R=R.replace(i,(z,_e,ye,Ce,xe,Te)=>_e?`[ ]*\\${_e}[ ]*`:ye?`[ ]*${ye}[ ]*`:Ce?"[ ]+":G?xe||Te:xe?p.has(xe.charCodeAt(0))?xe:"":v?(f=!0,`${Te}\\p{M}*`):Te)).endsWith(O)&&(R=R.slice(0,R.length-O.length)),G&&v&&(f=!0,R=`${R}(?=[${g}]|[^\\p{M}]|$)`),[f,R]},u=new WeakSet,Lt=function(R){let v=ve(this,B,lt);if(0===v.length)return;const{caseSensitive:G,entireWord:f,phraseSearch:O}=this._state,z=this._pageContents[R],_e=this._hasDiacritics[R];let ye=!1;if(O)[ye,v]=Se(this,t,ct).call(this,v,_e);else{const Te=v.match(/\S+/g);Te&&(v=Te.sort().reverse().map(Le=>{const[Ne,ke]=Se(this,t,ct).call(this,Le,_e);return ye||(ye=Ne),`(${ke})`}).join("|"))}v=new RegExp(v,`g${ye?"u":""}${G?"":"i"}`),Se(this,a,Mt).call(this,v,f,R,z),this._state.highlightAll&&Se(this,U,Je).call(this,R),this._resumePageIdx===R&&(this._resumePageIdx=null,Se(this,K,ht).call(this));const xe=this._pageMatches[R].length;xe>0&&(this._matchesCountTotal+=xe,Se(this,Ae,Ot).call(this))},y=new WeakSet,kt=function(){if(this._extractTextPromises.length>0)return;let R=Promise.resolve();for(let v=0,G=this._linkService.pagesCount;v<G;v++){const f=(0,r.createPromiseCapability)();this._extractTextPromises[v]=f.promise,R=R.then(()=>this._pdfDocument.getPage(v+1).then(O=>O.getTextContent()).then(O=>{const z=[];for(const _e of O.items)z.push(_e.str),_e.hasEOL&&z.push("\n");[this._pageContents[v],this._pageDiffs[v],this._hasDiacritics[v]]=L(z.join("")),f.resolve()},O=>{console.error(`Unable to get text content for page ${v+1}`,O),this._pageContents[v]="",this._pageDiffs[v]=null,this._hasDiacritics[v]=!1,f.resolve()}))}},U=new WeakSet,Je=function(R){this._scrollMatches&&this._selected.pageIdx===R&&(this._linkService.page=R+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:R})},W=new WeakSet,Ge=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,je=function(){const R=this._state.findPrevious,v=this._linkService.page-1,G=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=v,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Se(this,W,Ge).call(this);for(let O=0;O<G;O++)this._pendingFindMatches.has(O)||(this._pendingFindMatches.add(O),this._extractTextPromises[O].then(()=>{this._pendingFindMatches.delete(O),Se(this,u,Lt).call(this,O)}))}if(""===ve(this,B,lt))return void Se(this,Ee,ze).call(this,o.FOUND);if(this._resumePageIdx)return;const f=this._offset;if(this._pagesToSearch=G,null!==f.matchIdx){const O=this._pageMatches[f.pageIdx].length;if(!R&&f.matchIdx+1<O||R&&f.matchIdx>0)return f.matchIdx=R?f.matchIdx-1:f.matchIdx+1,void Se(this,I,Ze).call(this,!0);Se(this,oe,dt).call(this,R)}Se(this,K,ht).call(this)},he=new WeakSet,Rt=function(R){const v=this._offset,G=R.length,f=this._state.findPrevious;return G?(v.matchIdx=f?G-1:0,Se(this,I,Ze).call(this,!0),!0):(Se(this,oe,dt).call(this,f),!!(v.wrapped&&(v.matchIdx=null,this._pagesToSearch<0))&&(Se(this,I,Ze).call(this,!1),!0))},K=new WeakSet,ht=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let R=null;do{const v=this._offset.pageIdx;if(R=this._pageMatches[v],!R){this._resumePageIdx=v;break}}while(!Se(this,he,Rt).call(this,R))},oe=new WeakSet,dt=function(R){const v=this._offset,G=this._linkService.pagesCount;v.pageIdx=R?v.pageIdx-1:v.pageIdx+1,v.matchIdx=null,this._pagesToSearch--,(v.pageIdx>=G||v.pageIdx<0)&&(v.pageIdx=R?G-1:0,v.wrapped=!0)},I=new WeakSet,Ze=function(R=!1){let v=o.NOT_FOUND;const G=this._offset.wrapped;if(this._offset.wrapped=!1,R){const f=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,v=G?o.WRAPPED:o.FOUND,-1!==f&&f!==this._selected.pageIdx&&Se(this,U,Je).call(this,f)}Se(this,Ee,ze).call(this,v,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Se(this,U,Je).call(this,this._selected.pageIdx))},ue=new WeakSet,Ft=function(R){const v=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||v&&this._pdfDocument!==v||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Se(this,Ee,ze).call(this,o.FOUND),this._highlightMatches=!1,Se(this,W,Ge).call(this))})},pe=new WeakSet,ut=function(){var O;const{pageIdx:R,matchIdx:v}=this._selected;let G=0,f=this._matchesCountTotal;if(-1!==v){for(let z=0;z<R;z++)G+=(null==(O=this._pageMatches[z])?void 0:O.length)||0;G+=v+1}return(G<1||G>f)&&(G=f=0),{current:G,total:f}},Ae=new WeakSet,Ot=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Se(this,pe,ut).call(this)})},Ee=new WeakSet,ze=function(R,v=!1){var G,f;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:R,previous:v,matchesCount:Se(this,pe,ut).call(this),rawQuery:null!=(f=null==(G=this._state)?void 0:G.query)?f:null})},h.PDFFindController=class D{constructor({linkService:R,eventBus:v}){Pe(this,V),Pe(this,q),Pe(this,B),Pe(this,ee),Pe(this,ce),Pe(this,a),Pe(this,t),Pe(this,u),Pe(this,y),Pe(this,U),Pe(this,W),Pe(this,Q),Pe(this,he),Pe(this,K),Pe(this,oe),Pe(this,I),Pe(this,ue),Pe(this,pe),Pe(this,Ae),Pe(this,Ee),this._linkService=R,this._eventBus=v,Se(this,q,ot).call(this),v._on("find",Se(this,V,xt).bind(this)),v._on("findbarclose",Se(this,ue,Ft).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(R){this._pdfDocument&&Se(this,q,ot).call(this),R&&(this._pdfDocument=R,this._firstPageCapability.resolve())}scrollMatchIntoView({element:R=null,selectedLeft:v=0,pageIndex:G=-1,matchIndex:f=-1}){this._scrollMatches&&R&&-1!==f&&f===this._selected.matchIdx&&-1!==G&&G===this._selected.pageIdx&&(this._scrollMatches=!1,(0,A.scrollIntoView)(R,{top:-50,left:v+-400},!0))}}},(N,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterType=void 0,h.getCharacterType=function e(i){return function A(i){return i<11904}(i)?function r(i){return 0==(65408&i)}(i)?function s(i){return 32===i||9===i||13===i||10===i}(i)?E.SPACE:function P(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function o(i){return i>=48&&i<=57}(i)||95===i?E.ALPHA_LETTER:E.PUNCT:function g(i){return 3584==(65408&i)}(i)?E.THAI_LETTER:160===i?E.SPACE:E.ALPHA_LETTER:function n(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?E.HAN_LETTER:function c(i){return i>=12448&&i<=12543}(i)?E.KATAKANA_LETTER:function w(i){return i>=12352&&i<=12447}(i)?E.HIRAGANA_LETTER:function p(i){return i>=65376&&i<=65439}(i)?E.HALFWIDTH_KATAKANA_LETTER:E.ALPHA_LETTER};const E={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};h.CharacterType=E},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFHistory=void 0,h.isDestArraysEqual=p,h.isDestHashesEqual=w;var A=E(6),r=E(17);function n(){return document.location.hash}function w(g,e){return"string"==typeof g&&"string"==typeof e&&(g===e||(0,A.parseQueryString)(g).get("nameddest")===e)}function p(g,e){function i(m,b){if(typeof m!=typeof b||Array.isArray(m)||Array.isArray(b))return!1;if(null!==m&&"object"==typeof m&&null!==b){if(Object.keys(m).length!==Object.keys(b).length)return!1;for(const S in m)if(!i(m[S],b[S]))return!1;return!0}return m===b||Number.isNaN(m)&&Number.isNaN(b)}if(!Array.isArray(g)||!Array.isArray(e)||g.length!==e.length)return!1;for(let m=0,b=g.length;m<b;m++)if(!i(g[m],e[m]))return!1;return!0}h.PDFHistory=class c{constructor({linkService:e,eventBus:i}){this.linkService=e,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",m=>{this._isPagesLoaded=!!m.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:i=!1,updateUrl:m=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===m,this._initialized=!0,this._bindEvents();const S=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(S,!0)||i){const{hash:F,page:D,rotation:V}=this._parseCurrentHash(!0);return!F||b||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:F,page:D,rotation:V},!0)}const L=S.destination;this._updateInternalState(L,S.uid,!0),void 0!==L.rotation&&(this._initialRotation=L.rotation),L.dest?(this._initialBookmark=JSON.stringify(L.dest),this._destination.page=null):L.hash?this._initialBookmark=L.hash:L.page&&(this._initialBookmark=`page=${L.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:i,pageNumber:m}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(m)&&(null!==m||this._destination))return void console.error(`PDFHistory.push: "${m}" is not a valid pageNumber parameter.`);const b=e||JSON.stringify(i);if(!b)return;let S=!1;if(this._destination&&(w(this._destination.hash,b)||p(this._destination.dest,i))){if(this._destination.page)return;S=!0}this._popStateInProgress&&!S||(this._pushOrReplaceState({dest:i,hash:b,page:m,rotation:this.linkService.rotation},S),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var i;if(this._initialized){if(!this._isValidPage(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,i=!1){const m=i||!this._destination,b={fingerprint:this._fingerprint,uid:m?this._uid:this._uid+1,destination:e};let S;if(this._updateInternalState(e,b.uid),this._updateUrl&&(null==e?void 0:e.hash)){const L=document.location.href.split("#")[0];L.startsWith("file://")||(S=`${L}#${e.hash}`)}m?window.history.replaceState(b,"",S):window.history.pushState(b,"",S)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let i=this._position;if(e&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let m=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;m=!0}this._pushOrReplaceState(i,m)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,i=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[m]=performance.getEntriesByType("navigation");if("reload"!==(null==m?void 0:m.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}_updateInternalState(e,i,m=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),m&&(null==e?void 0:e.temporary)&&delete e.temporary,this._destination=e,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const i=unescape(n()).substring(1),m=(0,A.parseQueryString)(i),b=m.get("nameddest")||"";let S=0|m.get("page");return(!this._isValidPage(S)||e&&b.length>0)&&(S=null),{hash:i,page:S,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const i=n(),m=this._currentHash!==i;if(this._currentHash=i,!e){this._uid++;const{hash:S,page:L,rotation:F}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:S,page:L,rotation:F},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,m&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=e.destination;this._updateInternalState(b,e.uid,!0),(0,A.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFScriptingManager=void 0;var A=E(6),r=E(3);h.PDFScriptingManager=class P{constructor({eventBus:s,sandboxBundleSrc:n=null,scriptingFactory:c=null,docPropertiesLookup:w=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=s,this._sandboxBundleSrc=n,this._scriptingFactory=c,this._docPropertiesLookup=w,this._scriptingFactory||window.addEventListener("updatefromsandbox",p=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:p.detail})})}setViewer(s){this._pdfViewer=s}setDocument(s){var n=this;return _(function*(){var g;if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=s,!s)return;const[c,w,p]=yield Promise.all([s.getFieldObjects(),s.getCalculationOrderIds(),s.getJSActions()]);if(c||p){if(s===n._pdfDocument){try{n._scripting=n._createScripting()}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",e=>{(null==e?void 0:e.source)===window&&n._updateFromSandbox(e.detail)}),n._internalEvents.set("dispatcheventinsandbox",e=>{var i;null==(i=n._scripting)||i.dispatchEventInSandbox(e.detail)}),n._internalEvents.set("pagechanging",({pageNumber:e,previous:i})=>{e!==i&&(n._dispatchPageClose(i),n._dispatchPageOpen(e))}),n._internalEvents.set("pagerendered",({pageNumber:e})=>{!n._pageOpenPending.has(e)||e===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(e)}),n._internalEvents.set("pagesdestroy",function(){var e=_(function*(i){var m,b;yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield null==(m=n._scripting)?void 0:m.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(b=n._closeCapability)||b.resolve()});return function(i){return e.apply(this,arguments)}}()),n._domEvents.set("mousedown",e=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",e=>{n._mouseState.isDown=!1});for(const[e,i]of n._internalEvents)n._eventBus._on(e,i);for(const[e,i]of n._domEvents)window.addEventListener(e,i,!0);try{const e=yield n._getDocProperties();if(s!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:c,calculationOrder:w,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ye($e({},e),{actions:p})}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}yield null==(g=n._scripting)?void 0:g.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{s===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var s;return(null==(s=this._destroyCapability)?void 0:s.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,r.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,r.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,r.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,r.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(s){var n=this;return _(function*(){var m;const c=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:w,siblings:p,command:g,value:e}=s;if(!w){switch(g){case"clear":console.clear();break;case"error":console.error(e);break;case"layout":if(c)return;const b=(0,A.apiPageLayoutToViewerModes)(e);n._pdfViewer.spreadMode=b.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=e+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(e);break;case"zoom":if(c)return;n._pdfViewer.currentScaleValue=e;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(c)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(c)return;n._pdfViewer.decreaseScale()}return}if(c&&s.focus)return;delete s.id,delete s.siblings;const i=p?[w,...p]:[w];for(const b of i){const S=document.getElementById(b);S?S.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:s})):null==(m=n._pdfDocument)||m.annotationStorage.setValue(b,s)}})()}_dispatchPageOpen(s,n=!1){var c=this;return _(function*(){const w=c._pdfDocument,p=c._visitedPages;if(n&&(c._closeCapability=(0,r.createPromiseCapability)()),!c._closeCapability)return;const g=c._pdfViewer.getPageView(s-1);if((null==g?void 0:g.renderingState)!==A.RenderingStates.FINISHED)return void c._pageOpenPending.add(s);c._pageOpenPending.delete(s);const e=_(function*(){var m,b;const i=yield p.has(s)?null:null==(m=g.pdfPage)?void 0:m.getJSActions();w===c._pdfDocument&&(yield null==(b=c._scripting)?void 0:b.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:s,actions:i}))})();p.set(s,e)})()}_dispatchPageClose(s){var n=this;return _(function*(){var g;const c=n._pdfDocument,w=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(s))return;const p=w.get(s);!p||(w.set(s,null),yield p,c===n._pdfDocument&&(yield null==(g=n._scripting)?void 0:g.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:s})))})()}_getDocProperties(){var s=this;return _(function*(){if(s._docPropertiesLookup)return s._docPropertiesLookup(s._pdfDocument);const{docPropertiesLookup:n}=E(24);return n(s._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,r.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:s}=E(24);return new s(this._sandboxBundleSrc)}_destroyScripting(){var s=this;return _(function*(){var n,c;if(!s._scripting)return s._pdfDocument=null,void(null==(n=s._destroyCapability)||n.resolve());s._closeCapability&&(yield Promise.race([s._closeCapability.promise,new Promise(w=>{setTimeout(w,1e3)})]).catch(w=>{}),s._closeCapability=null),s._pdfDocument=null;try{yield s._scripting.destroySandbox()}catch(w){}for(const[w,p]of s._internalEvents)s._eventBus._off(w,p);s._internalEvents.clear();for(const[w,p]of s._domEvents)window.removeEventListener(w,p,!0);s._domEvents.clear(),s._pageOpenPending.clear(),s._visitedPages.clear(),s._scripting=null,delete s._mouseState.isDown,s._ready=!1,null==(c=s._destroyCapability)||c.resolve()})()}}},(N,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericScripting=void 0,h.docPropertiesLookup=function r(s){return P.apply(this,arguments)};var A=E(3);function P(){return(P=_(function*(s){const c="".split("#")[0];let{info:w,metadata:p,contentDispositionFilename:g,contentLength:e}=yield s.getMetadata();if(!e){const{length:i}=yield s.getDownloadInfo();e=i}return Ye($e({},w),{baseURL:c,filesize:e,filename:g||(0,A.getPdfFilenameFromUrl)(""),metadata:null==p?void 0:p.getRaw(),authors:null==p?void 0:p.get("dc:creator"),numPages:s.numPages,URL:""})})).apply(this,arguments)}h.GenericScripting=class o{constructor(n){this._ready=(0,A.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var c=this;return _(function*(){(yield c._ready).create(n)})()}dispatchEventInSandbox(n){var c=this;return _(function*(){const w=yield c._ready;setTimeout(()=>w.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return _(function*(){(yield n._ready).nukeSandbox()})()}}}],re={};function ie(N){var h=re[N];if(void 0!==h)return h.exports;var E=re[N]={exports:{}};return fe[N](E,E.exports,ie),E.exports}var ne={};return(()=>{var N=ne;Object.defineProperty(N,"__esModule",{value:!0}),Object.defineProperty(N,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return P.AnnotationLayerBuilder}}),Object.defineProperty(N,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return h.DefaultAnnotationLayerFactory}}),Object.defineProperty(N,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return h.DefaultStructTreeLayerFactory}}),Object.defineProperty(N,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return h.DefaultTextLayerFactory}}),Object.defineProperty(N,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return h.DefaultXfaLayerFactory}}),Object.defineProperty(N,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(N,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(N,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(N,"LinkTarget",{enumerable:!0,get:function(){return E.LinkTarget}}),Object.defineProperty(N,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(N,"PDFFindController",{enumerable:!0,get:function(){return w.PDFFindController}}),Object.defineProperty(N,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(N,"PDFLinkService",{enumerable:!0,get:function(){return E.PDFLinkService}}),Object.defineProperty(N,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(N,"PDFScriptingManager",{enumerable:!0,get:function(){return e.PDFScriptingManager}}),Object.defineProperty(N,"PDFSinglePageViewer",{enumerable:!0,get:function(){return r.PDFSinglePageViewer}}),Object.defineProperty(N,"PDFViewer",{enumerable:!0,get:function(){return r.PDFViewer}}),Object.defineProperty(N,"ProgressBar",{enumerable:!0,get:function(){return A.ProgressBar}}),Object.defineProperty(N,"SimpleLinkService",{enumerable:!0,get:function(){return E.SimpleLinkService}}),Object.defineProperty(N,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(N,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(N,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(N,"parseQueryString",{enumerable:!0,get:function(){return A.parseQueryString}});var h=ie(1),E=ie(5),A=ie(6),r=ie(10),P=ie(2),o=ie(16),s=ie(17),n=ie(18),c=ie(4),w=ie(20),p=ie(22),g=ie(12),e=ie(23),i=ie(7),m=ie(8),b=ie(9)})(),ne})(),ge.exports=ie()},8926:ge=>{function k(_,fe,re,ie,ne,N,h){try{var E=_[N](h),A=E.value}catch(r){return void re(r)}E.done?fe(A):Promise.resolve(A).then(ie,ne)}ge.exports=function Z(_){return function(){var fe=this,re=arguments;return new Promise(function(ie,ne){var N=_.apply(fe,re);function h(A){k(N,ie,ne,h,E,"next",A)}function E(A){k(N,ie,ne,h,E,"throw",A)}h(void 0)})}},ge.exports.__esModule=!0,ge.exports.default=ge.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);