var ft=Object.defineProperty,pt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,qe=(_e,L,J)=>L in _e?ft(_e,L,{enumerable:!0,configurable:!0,writable:!0,value:J}):_e[L]=J,$e=(_e,L)=>{for(var J in L||(L={}))_t.call(L,J)&&qe(_e,J,L[J]);if(et)for(var J of et(L))mt.call(L,J)&&qe(_e,J,L[J]);return _e},Ye=(_e,L)=>pt(_e,gt(L)),We=(_e,L,J)=>(qe(_e,"symbol"!=typeof L?L+"":L,J),J),Qe=(_e,L,J)=>{if(!L.has(_e))throw TypeError("Cannot "+J)},Se=(_e,L,J)=>(Qe(_e,L,"read from private field"),J?J.call(_e):L.get(_e)),we=(_e,L,J)=>{if(L.has(_e))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(_e):L.set(_e,J)},Re=(_e,L,J,_)=>(Qe(_e,L,"write to private field"),_?_.call(_e,J):L.set(_e,J),J),tt=(_e,L,J,_)=>({set _(pe){Re(_e,L,pe,J)},get _(){return Se(_e,L,_)}}),Pe=(_e,L,J)=>(Qe(_e,L,"access private method"),J);(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[12],{7012:(_e,L,J)=>{"use strict";J.r(L),J.d(L,{CmsModule:()=>O});var _=J(9808),pe=J(8231),re=J(4776),ie=J(9841),ne=J(4004),B=J(9646),h=J(8056);const E=[{title:"Support",url:"/content/support"},{title:"Mayor's Corner",url:"/content/mayors-corner/gallery"},{title:"Makati News",url:"/content/news"},{title:"Makati News",url:"/content/events"},{title:"Makati News",url:"/content/makati-videos"},{title:"Are you satisfied?",url:"/content/content/customer-satisfaction-survey-form"},{title:"I Want To",url:"/content/i-want-to"},{title:"Downloads",url:"/content/downloads"}];var A=J(7854),r=J(4893),C=J(817),o=J(7787),s=J(7045);function n(F,Y){1&F&&(r.TgZ(0,"span"),r._UZ(1,"i",6),r.qZA())}function c(F,Y){if(1&F){const p=r.EpF();r.TgZ(0,"shrd-sidebar-item",7),r.NdJ("on_is_active",function(oe){const Ce=r.CHM(p).index;return r.oxw().set_up_parent(oe,Ce)})("on_select",function(oe){return r.CHM(p),r.oxw().on_select.emit(oe)}),r.qZA()}if(2&F){const p=Y.$implicit;r.Q6J("is_child_menu",!0)("item",p)}}const P=function(F,Y){return{"ps-3 pt-3":F,"p-3":Y}},f=function(F){return{"text-primary tx-active":F}};let g=(()=>{class F{constructor(p,D){this.route=p,this.router=D,this.is_child_menu=!1,this.on_select=new r.vpe,this.on_is_active=new r.vpe(!1),this._is_active=!1,this.is_collapsed=!0,this._subscriptions=[],this.child_statuses=[]}ngOnInit(){this.set_up_is_active()}on_click(){this.item.children.length>0?this.is_collapsed=!this.is_collapsed:this.on_select.emit(this.item)}ngOnDestroy(){this._subscriptions.forEach(p=>p.unsubscribe())}ngAfterViewInit(){if(0!=this.item.menuId&&0==this.item.children.length==1){const D=this.router.events.subscribe(oe=>{oe instanceof re.m2&&this.set_up_is_active()});this._subscriptions.push(D)}}set_up_is_active(){var p,D;const oe=null!==(p=this.route.snapshot.queryParamMap.get("content"))&&void 0!==p?p:0,me=null!==(D=this.route.snapshot.paramMap.get("pageId"))&&void 0!==D?D:0;this.is_active=+this.item.menuId==+(0!=+oe?+oe:+me)}set is_active(p){setTimeout(()=>{this._is_active=p,this.on_is_active.emit(p),this.is_collapsed=!p,this.child_statuses=[]},20)}get is_active(){return this._is_active}set_up_parent(p,D){if(this.child_statuses.push(p),D+1==this.item.children.length){const oe=this.child_statuses.reduce((me,Ce)=>1==me||Ce,!1);this.is_active=oe}}}return F.\u0275fac=function(p){return new(p||F)(r.Y36(re.gz),r.Y36(re.F0))},F.\u0275cmp=r.Xpm({type:F,selectors:[["shrd-sidebar-item"]],inputs:{item:"item",is_child_menu:"is_child_menu"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:7,vars:12,consts:[[1,"d-flex","flex-column",3,"ngClass"],[1,"d-flex","justify-content-between","c-pointer",3,"click"],[1,"pb-3","tx",3,"ngClass"],[4,"ngIf"],[1,"ms-1",3,"collapse","isAnimated"],[3,"is_child_menu","item","on_is_active","on_select",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-down"],[3,"is_child_menu","item","on_is_active","on_select"]],template:function(p,D){1&p&&(r.TgZ(0,"div",0)(1,"div",1),r.NdJ("click",function(){return D.on_click()}),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.YNc(4,n,2,0,"span",3),r.qZA(),r.TgZ(5,"div",4),r.YNc(6,c,1,2,"shrd-sidebar-item",5),r.qZA()()),2&p&&(r.Q6J("ngClass",r.WLB(7,P,1==D.is_child_menu,0==D.is_child_menu)),r.xp6(2),r.Q6J("ngClass",r.VKq(10,f,1==D.is_active)),r.xp6(1),r.hij(" ",D.item.menuLabel," "),r.xp6(1),r.Q6J("ngIf",D.item.children.length>0),r.xp6(1),r.Q6J("collapse",D.is_collapsed)("isAnimated",!0),r.xp6(1),r.Q6J("ngForOf",D.item.children))},directives:[_.mk,_.O5,s.Y,_.sg,F],styles:[""]}),F})();function e(F,Y){if(1&F){const p=r.EpF();r.TgZ(0,"shrd-sidebar-item",2),r.NdJ("on_select",function(oe){return r.CHM(p),r.oxw().on_select.emit(oe)}),r.qZA()}2&F&&r.Q6J("item",Y.$implicit)}let i=(()=>{class F{constructor(){this.items=[],this.on_select=new r.vpe,this.on_is_active=new r.vpe}ngOnInit(){}}return F.\u0275fac=function(p){return new(p||F)},F.\u0275cmp=r.Xpm({type:F,selectors:[["shrd-sidebar"]],inputs:{items:"items"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:2,vars:1,consts:[[1,"sidebar-bg"],[3,"item","on_select",4,"ngFor","ngForOf"],[3,"item","on_select"]],template:function(p,D){1&p&&(r.TgZ(0,"div",0),r.YNc(1,e,1,1,"shrd-sidebar-item",1),r.qZA()),2&p&&(r.xp6(1),r.Q6J("ngForOf",D.items))},directives:[_.sg,g],styles:[""]}),F})();var m=J(1135),b=J(8372),v=J(1884),T=J(9300),R=J(8505),I=J(3900),U=J(2340),G=J(2313);const q=["contentRef"],Z=["*"];let V=(()=>{class F{constructor(p){this.display="inline-block",this._dragDisabled=!1,this._elementRef=p}get dragDisabled(){return this._dragDisabled}set dragDisabled(p){this._dragDisabled=p}}return F.\u0275fac=function(p){return new(p||F)(r.Y36(r.SBq))},F.\u0275dir=r.lG2({type:F,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(p,D){2&p&&r.Udp("display",D.display)},inputs:{dragDisabled:["drag-disabled","dragDisabled"]}}),F})(),$=(()=>{class F{constructor(p,D,oe){this._elementRef=p,this._renderer=D,this._document=oe,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new r.vpe,this.indexChanged=new r.vpe,this.reachesLeftBound=new r.vpe,this.reachesRightBound=new r.vpe,this.snapAnimationFinished=new r.vpe,this.dragStart=new r.vpe,this.dragEnd=new r.vpe,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(p){p!==this._index&&(this._index=p,this.indexChanged.emit(p))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(p){this._scrollbarHidden=p}get disabled(){return this._disabled}set disabled(p){this._disabled=p}get xDisabled(){return this._xDisabled}set xDisabled(p){this._xDisabled=p}get yDisabled(){return this._yDisabled}set yDisabled(p){this._yDisabled=p}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(p){this._xWheelEnabled=p}get dragDisabled(){return this._dragDisabled}set dragDisabled(p){this._dragDisabled=p}get snapDisabled(){return this._snapDisabled}set snapDisabled(p){this._snapDisabled=p}get snapOffset(){return this._snapOffset}set snapOffset(p){this._snapOffset=p}get snapDuration(){return this._snapDuration}set snapDuration(p){this._snapDuration=p}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType="undefined"!=typeof window?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",p=>{p.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl="rtl"===getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(p){this.onMouseMove(p)}onMouseMove(p){if((p.clientX!==this.downX||p.clientY!==this.downY)&&this.isPressed&&!this.disabled){if(!p.buttons&&!p.which)return this.onMouseUpHandler(p);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){const D=p.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-D+this.downX,this.downX=D}if(!this.yDisabled&&!this.dragDisabled){const D=p.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-D+this.downY,this.downY=D}}}onMouseDownHandler(p){const D=this.locateDragScrollItem(p.target);if(D&&D.dragDisabled)return;this._startGlobalListening("touchstart"===p.type),this.isPressed=!0;const me=p;this.downX=me.clientX,this.downY=me.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),this.isPressed||this.isAnimating||this.snapDisabled?this.locateCurrentIndex():(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500))}onMouseUpHandler(p){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(0!==this.currIndex||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){const p=this.wrapper||this.parentNode,D=p?p.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(D,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(p){const D=this.wrapper||this.parentNode,oe=D?D.clientWidth:0;p>=0&&p!==this.currIndex&&this.currIndex<=this.maximumIndex(oe,this._children.toArray())&&(this.currIndex=Math.min(p,this.maximumIndex(oe,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{const p=Boolean(this._children.length<=1),D=Boolean(this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth);p||D?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):0===this._contentRef.nativeElement.scrollLeft&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(p){this._xWheelEnabled&&(p.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(p.deltaY,0):p.deltaY<0?this.moveLeft():p.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(p){this._isDragging!==p&&(this._isDragging=p,p?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(p){this._onMouseMoveListener||(this._onMouseMoveListener=this._renderer.listen("document",p?"touchmove":"mousemove",this.onMouseMoveHandler.bind(this))),this._onMouseUpListener||(this._onMouseUpListener=this._renderer.listen("document",p?"touchend":"mouseup",this.onMouseUpHandler.bind(this)))}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(p){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${p}`,"hidden")}enableScroll(p){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${p}`,"auto")}hideScrollbar(){"none"!==this._contentRef.nativeElement.style.display&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),null!==this.parentNode&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._renderer.setStyle(this._contentRef.nativeElement,"height",this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?"100%":`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"width",this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?"100%":`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){const p=this._renderer.createElement("div");this._renderer.setStyle(p,"visibility","hidden"),this._renderer.setStyle(p,"width","100px"),this._renderer.setStyle(p,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,p);const D=p.offsetWidth;this._renderer.setStyle(p,"overflow","scroll");const oe=this._renderer.createElement("div");this._renderer.setStyle(oe,"width","100%"),this._renderer.appendChild(p,oe);const me=oe.offsetWidth;return this._renderer.removeChild(this._document.body,p),D-me||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px":"100%"))}scrollTo(p,D,oe){const me=this;me.isAnimating=!0;const ve=p.scrollLeft,Me=(this.rtl?-1:1)*D-ve-this.snapOffset;let Ne=0;const Fe=function(){var Oe,Be,Ve;Ne+=20,p.scrollLeft=(Oe=Ne,Be=ve,Ve=Me,(Oe/=oe/2)<1?Ve/2*Oe*Oe+Be:-Ve/2*(--Oe*(Oe-2)-1)+Be),Ne<oe?me.scrollToTimer=setTimeout(Fe,20):setTimeout(()=>{me.isAnimating=!1,me.snapAnimationFinished.emit(me.currIndex)},20)};Fe()}locateCurrentIndex(p){const D=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((oe,me,Ce,ve,Me)=>{D>=Ce&&D<=me?(me-D>oe/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=ve),p&&this.scrollTo(this._contentRef.nativeElement,Ce,this.snapDuration)):0!==D&&(this.isAnimating||(this.currIndex=ve+1),p&&this.scrollTo(this._contentRef.nativeElement,Ce+oe,this.snapDuration)),Me()):ve+1===this._children.length-1&&(this.isAnimating||(this.currIndex=ve+1),Me())})}currentChildWidth(p){let D=0,oe=!1;const me=function(){oe=!0},Ce=this._children.toArray();for(let ve=0;ve<Ce.length&&ve!==Ce.length-1&&!oe;ve++){const Te=Ce[ve]._elementRef.nativeElement.clientWidth;p(Te,D+Ce[ve+1]._elementRef.nativeElement.clientWidth,D,ve,me),D+=Te}}toChildrenLocation(){let p=0;const D=this._children.toArray();for(let oe=0;oe<this.currIndex;oe++)p+=D[oe]._elementRef.nativeElement.clientWidth;return p}locateDragScrollItem(p){let D=null;const oe=this._children.toArray();for(let me=0;me<oe.length;me++)p===oe[me]._elementRef.nativeElement&&(D=oe[me]);return D}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");const p=this.wrapper||this.parentNode;this._children.length>1&&(this.indexBound=this.maximumIndex(p?p.clientWidth:0,this._children.toArray()))}maximumIndex(p,D){let oe=0,me=0;for(let Ce=0;Ce<=D.length;Ce++){const ve=D[D.length-1-Ce];if(!ve)break;{const Me=ve._elementRef.nativeElement;let Te=Me.clientWidth;if(0===Te&&Me.firstElementChild&&(Te=ve._elementRef.nativeElement.firstElementChild.clientWidth),me+=Te,!(me<p))break;oe++}}return D.length-oe}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){const p=this._children.toArray();this._renderer.setStyle(p[p.length-1]._elementRef.nativeElement,"margin-right",this.wrapper&&p.length>1?this.scrollbarWidth:0)}}}return F.\u0275fac=function(p){return new(p||F)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(_.K0))},F.\u0275cmp=r.Xpm({type:F,selectors:[["drag-scroll"]],contentQueries:function(p,D,oe){if(1&p&&r.Suo(oe,V,5),2&p){let me;r.iGM(me=r.CRH())&&(D._children=me)}},viewQuery:function(p,D){if(1&p&&r.Gf(q,7),2&p){let oe;r.iGM(oe=r.CRH())&&(D._contentRef=oe.first)}},hostVars:2,hostBindings:function(p,D){1&p&&r.NdJ("wheel",function(me){return D.onWheel(me)})("resize",function(){return D.onWindowResize()},!1,r.Jf7),2&p&&r.Udp("pointer-events",D._pointerEvents)},inputs:{scrollbarHidden:["scrollbar-hidden","scrollbarHidden"],disabled:["drag-scroll-disabled","disabled"],xDisabled:["drag-scroll-x-disabled","xDisabled"],yDisabled:["drag-scroll-y-disabled","yDisabled"],xWheelEnabled:["scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:["drag-disabled","dragDisabled"],snapDisabled:["snap-disabled","snapDisabled"],snapOffset:["snap-offset","snapOffset"],snapDuration:["snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},features:[r.TTD],ngContentSelectors:Z,decls:3,vars:0,consts:[[1,"drag-scroll-content"],["contentRef",""]],template:function(p,D){1&p&&(r.F$t(),r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"]}),F})(),ee=(()=>{class F{}return F.\u0275fac=function(p){return new(p||F)},F.\u0275mod=r.oAB({type:F}),F.\u0275inj=r.cJS({}),F})();var ae=J(7286);function he(F,Y){if(1&F&&(r.TgZ(0,"drag-scroll"),r._UZ(1,"div",1),r.ALo(2,"safeHtml"),r.qZA()),2&F){const p=r.oxw();r.xp6(1),r.Q6J("innerHTML",r.lcZ(2,1,p.item.contentDetail),r.oJD)}}let M=(()=>{class F{constructor(p){this.sanitizer=p}ngOnInit(){}}return F.\u0275fac=function(p){return new(p||F)(r.Y36(G.H7))},F.\u0275cmp=r.Xpm({type:F,selectors:[["cms-html-content-viewer"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"draggable-cont",3,"innerHTML"]],template:function(p,D){1&p&&r.YNc(0,he,3,3,"drag-scroll",0),2&p&&r.Q6J("ngIf",D.item.contentDetail)},directives:[_.O5,$],pipes:[ae.z],styles:["[_nghost-%COMP%]     .draggable-cont{white-space:pre-wrap}"]}),F})();var a=J(4968),d=J(7579),t=J(2076),l=J(4482),u=J(5403),S=J(8421),y=J(5032);function x(F){return(0,l.e)((Y,p)=>{(0,S.Xf)(F).subscribe((0,u.x)(p,()=>p.complete(),y.Z)),!p.closed&&Y.subscribe(p)})}var j=J(6036),H=J.t(j,2),W=J(2813),z=J.t(W,2);const Q=["pdfViewerContainer"];function be(F,Y,p){F[Y]=p}function K(){return"undefined"==typeof window}K()||be(H,"verbosity",j.VerbosityLevel.INFOS);var le=(()=>{return(F=le||(le={}))[F.DISABLED=0]="DISABLED",F[F.ENABLED=1]="ENABLED",F[F.ENHANCED=2]="ENHANCED",le;var F})();let ce=(()=>{class F{constructor(p,D){if(this.element=p,this.ngZone=D,this.isVisible=!1,this._cMapsUrl=void 0!==H?`https://unpkg.com/pdfjs-dist@${j.version}/cmaps/`:null,this._imageResourcesPath=void 0!==H?`https://unpkg.com/pdfjs-dist@${j.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=le.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new d.x,this.afterLoadComplete=new r.vpe,this.pageRendered=new r.vpe,this.pageInitialized=new r.vpe,this.textLayerRendered=new r.vpe,this.onError=new r.vpe,this.onProgress=new r.vpe,this.pageChange=new r.vpe(!0),K())return;let oe;oe=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${j.version}/legacy/build/pdf.worker.min.js`,be(j.GlobalWorkerOptions,"workerSrc",oe)}set cMapsUrl(p){this._cMapsUrl=p}set page(p){const D=p=parseInt(p,10)||1;this._pdf&&(p=this.getValidPageNumber(p)),this._page=p,D!==p&&this.pageChange.emit(p)}set renderText(p){this._renderText=p}set renderTextMode(p){this._renderTextMode=p}set originalSize(p){this._originalSize=p}set showAll(p){this._showAll=p}set stickToPage(p){this._stickToPage=p}set zoom(p){p<=0||(this._zoom=p)}get zoom(){return this._zoom}set zoomScale(p){this._zoomScale=p}get zoomScale(){return this._zoomScale}set rotation(p){"number"==typeof p&&p%90==0?this._rotation=p:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(p){this._externalLinkTarget=p}set autoresize(p){this._canAutoResize=Boolean(p)}set fitToPage(p){this._fitToPage=Boolean(p)}set showBorders(p){this._showBorders=Boolean(p)}static getLinkTarget(p){switch(p){case"blank":return W.LinkTarget.BLANK;case"none":return W.LinkTarget.NONE;case"self":return W.LinkTarget.SELF;case"parent":return W.LinkTarget.PARENT;case"top":return W.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const p=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=p?!1===this.isVisible&&null!=p&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(p){if(!K()&&this.isVisible)if("src"in p)this.loadPDF();else if(this._pdf){if("renderText"in p?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:le.DISABLED,this.resetPdfDocument()):"showAll"in p&&(this.setupViewer(),this.resetPdfDocument()),"page"in p){const{page:D}=p;if(D.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,t.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(x(this.destroy$)).subscribe({next:p=>{const D=this._rotation||p.rotate,oe=p.getViewport({scale:this._zoom,rotation:D}).width*F.CSS_UNITS;let me=this._zoom,Ce=!0;if(!this._originalSize||this._fitToPage&&oe>this.pdfViewerContainer.nativeElement.clientWidth){const ve=p.getViewport({scale:1,rotation:D});me=this.getScale(ve.width,ve.height),Ce=!this._stickToPage}this.pdfViewer._setScale(me,Ce)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const p=F.getLinkTarget(this._externalLinkTarget);return p?{externalLinkTarget:p}:{}}initEventBus(){this.eventBus=function te(F,Y){const p=new F.EventBus;return function de(F,Y){(0,a.R)(F,"documentload").pipe(x(Y)).subscribe(()=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(p)}),(0,a.R)(F,"pagerendered").pipe(x(Y)).subscribe(({pageNumber:p,cssTransform:D,source:oe})=>{const me=document.createEvent("CustomEvent");me.initCustomEvent("pagerendered",!0,!0,{pageNumber:p,cssTransform:D}),oe.div.dispatchEvent(me)}),(0,a.R)(F,"textlayerrendered").pipe(x(Y)).subscribe(({pageNumber:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:p}),D.textLayerDiv.dispatchEvent(oe)}),(0,a.R)(F,"pagechanging").pipe(x(Y)).subscribe(({pageNumber:p,source:D})=>{const oe=document.createEvent("UIEvents");oe.initEvent("pagechanging",!0,!0),oe.pageNumber=p,D.container.dispatchEvent(oe)}),(0,a.R)(F,"pagesinit").pipe(x(Y)).subscribe(({source:p})=>{const D=document.createEvent("CustomEvent");D.initCustomEvent("pagesinit",!0,!0,null),p.container.dispatchEvent(D)}),(0,a.R)(F,"pagesloaded").pipe(x(Y)).subscribe(({pagesCount:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("pagesloaded",!0,!0,{pagesCount:p}),D.container.dispatchEvent(oe)}),(0,a.R)(F,"scalechange").pipe(x(Y)).subscribe(({scale:p,presetValue:D,source:oe})=>{const me=document.createEvent("UIEvents");me.initEvent("scalechange",!0,!0),me.scale=p,me.presetValue=D,oe.container.dispatchEvent(me)}),(0,a.R)(F,"updateviewarea").pipe(x(Y)).subscribe(({location:p,source:D})=>{const oe=document.createEvent("UIEvents");oe.initEvent("updateviewarea",!0,!0),oe.location=p,D.container.dispatchEvent(oe)}),(0,a.R)(F,"find").pipe(x(Y)).subscribe(({source:p,type:D,query:oe,phraseSearch:me,caseSensitive:Ce,highlightAll:ve,findPrevious:Me})=>{if(p===window)return;const Te=document.createEvent("CustomEvent");Te.initCustomEvent("find"+D,!0,!0,{query:oe,phraseSearch:me,caseSensitive:Ce,highlightAll:ve,findPrevious:Me}),window.dispatchEvent(Te)}),(0,a.R)(F,"attachmentsloaded").pipe(x(Y)).subscribe(({attachmentsCount:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:p}),D.container.dispatchEvent(oe)}),(0,a.R)(F,"sidebarviewchanged").pipe(x(Y)).subscribe(({view:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("sidebarviewchanged",!0,!0,{view:p}),D.outerContainer.dispatchEvent(oe)}),(0,a.R)(F,"pagemode").pipe(x(Y)).subscribe(({mode:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("pagemode",!0,!0,{mode:p}),D.pdfViewer.container.dispatchEvent(oe)}),(0,a.R)(F,"namedaction").pipe(x(Y)).subscribe(({action:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("namedaction",!0,!0,{action:p}),D.pdfViewer.container.dispatchEvent(oe)}),(0,a.R)(F,"presentationmodechanged").pipe(x(Y)).subscribe(({active:p,switchInProgress:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("presentationmodechanged",!0,!0,{active:p,switchInProgress:D}),window.dispatchEvent(oe)}),(0,a.R)(F,"outlineloaded").pipe(x(Y)).subscribe(({outlineCount:p,source:D})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("outlineloaded",!0,!0,{outlineCount:p}),D.container.dispatchEvent(oe)})}(p,Y),p}(z,this.destroy$),(0,a.R)(this.eventBus,"pagerendered").pipe(x(this.destroy$)).subscribe(p=>{this.pageRendered.emit(p)}),(0,a.R)(this.eventBus,"pagesinit").pipe(x(this.destroy$)).subscribe(p=>{this.pageInitialized.emit(p)}),(0,a.R)(this.eventBus,"pagechanging").pipe(x(this.destroy$)).subscribe(({pageNumber:p})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=p,this.pageChange.emit(p)},100)}),(0,a.R)(this.eventBus,"textlayerrendered").pipe(x(this.destroy$)).subscribe(p=>{this.textLayerRendered.emit(p)})}initPDFServices(){this.pdfLinkService=new W.PDFLinkService(Object.assign({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new W.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:le.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){be(H,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new W.PDFViewer(this.getPDFOptions()):new W.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(p){return p<1?1:p>this._pdf.numPages?this._pdf.numPages:p}getDocumentParams(){const p=typeof this.src;if(!this._cMapsUrl)return this.src;const D={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===p?D.url=this.src:"object"===p&&(void 0!==this.src.byteLength?D.data=this.src:Object.assign(D,this.src)),D}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=j.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=D=>{this.onProgress.emit(D)};const p=this.src;(0,t.D)(this.loadingTask.promise).pipe(x(this.destroy$)).subscribe({next:D=>{this._pdf=D,this.lastLoaded=p,this.afterLoadComplete.emit(D),this.resetPdfDocument(),this.update()},error:D=>{this.lastLoaded=null,this.onError.emit(D)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(p,D){const oe=this._showBorders?2*F.BORDER_WIDTH:0,me=this.pdfViewerContainer.nativeElement.clientWidth-oe,Ce=this.pdfViewerContainer.nativeElement.clientHeight-oe;if(0===Ce||0===D||0===me||0===p)return 1;let ve=1;switch(this._zoomScale){case"page-fit":ve=Math.min(Ce/D,me/p);break;case"page-height":ve=Ce/D;break;default:ve=me/p}return this._zoom*ve/F.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){K()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){K()||this.ngZone.runOutsideAngular(()=>{(0,a.R)(window,"resize").pipe((0,b.b)(100),(0,T.h)(()=>this._canAutoResize&&!!this._pdf),x(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return F.CSS_UNITS=96/72,F.BORDER_WIDTH=9,F.\u0275fac=function(p){return new(p||F)(r.Y36(r.SBq),r.Y36(r.R0b))},F.\u0275cmp=r.Xpm({type:F,selectors:[["pdf-viewer"]],viewQuery:function(p,D){if(1&p&&r.Gf(Q,5),2&p){let oe;r.iGM(oe=r.CRH())&&(D.pdfViewerContainer=oe.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[r.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(p,D){1&p&&(r.TgZ(0,"div",0,1),r._UZ(2,"div",2),r.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),F})(),w=(()=>{class F{}return F.\u0275fac=function(p){return new(p||F)},F.\u0275mod=r.oAB({type:F}),F.\u0275inj=r.cJS({}),F})();var N=J(2492),X=J(3075);function fe(F,Y){if(1&F&&r._UZ(0,"cms-html-content-viewer",5),2&F){const p=r.oxw(2);r.Q6J("item",p.content)}}function ue(F,Y){if(1&F){const p=r.EpF();r.TgZ(0,"div")(1,"pagination",9),r.NdJ("ngModelChange",function(oe){return r.CHM(p),r.oxw(3).pdf_page=oe}),r.qZA()()}if(2&F){const p=r.oxw(3);r.xp6(1),r.Q6J("itemsPerPage",1)("totalItems",p.pdf_total_pages)("ngModel",p.pdf_page)("maxSize",5)}}function ge(F,Y){if(1&F){const p=r.EpF();r.TgZ(0,"div",6)(1,"pdf-viewer",7),r.NdJ("after-load-complete",function(oe){return r.CHM(p),r.oxw(2).callBackFn(oe)})("pageChange",function(oe){return r.CHM(p),r.oxw(2).pdf_page=oe}),r.qZA(),r.YNc(2,ue,2,4,"div",8),r.qZA()}if(2&F){const p=r.oxw(2);r.xp6(1),r.Q6J("src",p.content.contentDetail)("render-text",!1)("fit-to-page",!0)("show-all",!1)("zoom-scale","page-fit")("original-size",!1)("autoresize",!0)("page",p.pdf_page),r.xp6(1),r.Q6J("ngIf",p.pdf_total_pages>1)}}function Ae(F,Y){1&F&&(r.TgZ(0,"div"),r._uU(1,"Unsupported content"),r.qZA())}function ye(F,Y){if(1&F&&(r.TgZ(0,"div",1),r.YNc(1,fe,1,1,"cms-html-content-viewer",2),r.YNc(2,ge,3,9,"div",3),r.YNc(3,Ae,2,0,"div",4),r.qZA()),2&F){const p=r.oxw();r.Q6J("ngSwitch",p.content.contentType),r.xp6(1),r.Q6J("ngSwitchCase",1),r.xp6(1),r.Q6J("ngSwitchCase",2)}}let xe=(()=>{class F{constructor(p,D){this.menu_service=p,this.app_loader_service=D,this._cms_content_id=new m.X(0),this._subscriptions=[],this.pdf_page=1,this.pdf_total_pages=0}set cms_content_id(p){this._cms_content_id.next(p)}get cms_content_id(){return this._cms_content_id.getValue()}ngOnDestroy(){this._subscriptions.forEach(p=>p.unsubscribe())}ngOnInit(){const p=this._cms_content_id.pipe((0,b.b)(200),(0,v.x)(),(0,T.h)(D=>0!=D),(0,R.b)(D=>this.content=void 0),(0,I.w)(D=>(this.app_loader_service.loading_start(),this.menu_service.get_menu_content(+D)))).subscribe(D=>{this.app_loader_service.loading_end(),2==D.contentType&&(this.pdf_page=1,this.pdf_total_pages=0,this.app_loader_service.loading_start(),D.contentDetail=`${U.N.api}/assets/uploads${D.contentDetail}`),this.content=D});this._subscriptions.push(p)}callBackFn(p){this.pdf_total_pages=p.numPages,this.app_loader_service.loading_end()}}return F.\u0275fac=function(p){return new(p||F)(r.Y36(h.h),r.Y36(C.P))},F.\u0275cmp=r.Xpm({type:F,selectors:[["cms-content-viewer"]],inputs:{cms_content_id:"cms_content_id"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"item",4,"ngSwitchCase"],["class","pdf-viewer",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"item"],[1,"pdf-viewer"],[3,"src","render-text","fit-to-page","show-all","zoom-scale","original-size","autoresize","page","after-load-complete","pageChange"],[4,"ngIf"],[3,"itemsPerPage","totalItems","ngModel","maxSize","ngModelChange"]],template:function(p,D){1&p&&r.YNc(0,ye,4,3,"div",0),2&p&&r.Q6J("ngIf",D.content)},directives:[_.O5,_.RF,_.n9,M,ce,N.Qt,X.JJ,X.On,_.ED],styles:[".html-cont[_ngcontent-%COMP%]{overflow:auto;cursor:grab}.pdf-viewer[_ngcontent-%COMP%]{height:1100px}pdf-viewer[_ngcontent-%COMP%]{height:100%;max-width:1000px}"]}),F})();const Le=[{path:":grandParentTitle/:pageTitle/:pageId",component:(()=>{class F{constructor(p,D,oe,me){this.route=p,this.router=D,this.app_loader=oe,this.menu_service=me,this.sidebar_content=[],this.title="",this._subscriptions=[],this.content_id$=(0,ie.a)([this.route.paramMap.pipe((0,ne.U)(Ce=>Ce.get("pageId"))),this.route.queryParamMap.pipe((0,ne.U)(Ce=>Ce.get("content")))]).pipe((0,ne.U)(Ce=>{var ve;return Ce[1]?+Ce[1]:+(null!==(ve=Ce[0])&&void 0!==ve?ve:0)}))}ngOnInit(){this.set_up_page();const p=this.route.paramMap.pipe((0,ne.U)(D=>D.get("pageId"))).subscribe(D=>{this.set_up_page()});this._subscriptions.push(p)}ngOnDestroy(){this._subscriptions.forEach(p=>p.unsubscribe())}set_up_page(){var p;const D=this.route.snapshot.queryParamMap.get("content"),oe=+(null!==(p=this.route.snapshot.paramMap.get("pageId"))&&void 0!==p?p:0);D||(this.sidebar_content=this.default_sidebar()),(D?this.menu_service.get_top_menu_tree(+oe):(0,B.of)(this.default_sidebar())).subscribe(Ce=>{if(D){const ve=h.h.get_first_grandchild(Ce[0]);this.title=ve.menuLabel}else this.title="";this.sidebar_content=Ce,this.app_loader.loading_end()})}default_sidebar(){return(0,A.JG)(E).map((D,oe)=>({children:[],isPublished:!0,menuId:0,menuLabel:D.title,menuOrder:oe,menuParent:0}))}navigate(p){const D={content:p.menuId};this.title=p.menuLabel,this.router.navigate([],{relativeTo:this.route,queryParams:D,queryParamsHandling:"merge"})}}return F.\u0275fac=function(p){return new(p||F)(r.Y36(re.gz),r.Y36(re.F0),r.Y36(C.P),r.Y36(h.h))},F.\u0275cmp=r.Xpm({type:F,selectors:[["app-default-cms"]],decls:15,vars:6,consts:[["cms",""],[1,"bg-white","py-5","mayora-overflow-fix"],[1,"container","layout-container"],[1,"row"],[1,"col-md-3"],[3,"items","on_select"],[1,"col-md-9"],[1,"cms-cont","ms-3"],[1,"cms-title","mb-3","p-relative",3,"hidden"],[1,"priority"],[3,"cms_content_id"]],template:function(p,D){1&p&&(r.TgZ(0,"div",null,0),r._UZ(2,"util-page-title"),r.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"shrd-sidebar",5),r.NdJ("on_select",function(me){return D.navigate(me)}),r.qZA()(),r.TgZ(8,"div",6)(9,"div",7)(10,"h2",8),r._UZ(11,"div",9),r._uU(12),r.qZA(),r._UZ(13,"cms-content-viewer",10),r.ALo(14,"async"),r.qZA()()()()()()),2&p&&(r.xp6(7),r.Q6J("items",D.sidebar_content),r.xp6(3),r.Q6J("hidden",!D.title),r.xp6(2),r.hij(" ",D.title," "),r.xp6(1),r.Q6J("cms_content_id",r.lcZ(14,4,D.content_id$)))},directives:[o.T,i,xe],pipes:[_.Ov],styles:[""]}),F})()}];let se=(()=>{class F{}return F.\u0275fac=function(p){return new(p||F)},F.\u0275mod=r.oAB({type:F}),F.\u0275inj=r.cJS({imports:[[re.Bz.forChild(Le)],re.Bz]}),F})();var k=J(2234);let O=(()=>{class F{}return F.\u0275fac=function(p){return new(p||F)},F.\u0275mod=r.oAB({type:F}),F.\u0275inj=r.cJS({imports:[[_.ez,se,pe.A,s.f,ee,w,N.u3,X.u5,k.m]]}),F})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,J;J=()=>(()=>{"use strict";var __webpack_modules__=[,(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FeatureTest=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=H,L.arraysToBytes=function W(se){const k=se.length;if(1===k&&se[0]instanceof Uint8Array)return se[0];let O=0;for(let p=0;p<k;p++)O+=H(se[p]);let F=0;const Y=new Uint8Array(O);for(let p=0;p<k;p++){let D=se[p];D instanceof Uint8Array||(D="string"==typeof D?j(D):new Uint8Array(D));const oe=D.byteLength;Y.set(D,F),F+=oe}return Y},L.assert=function $(se,k){se||V(k)},L.bytesToString=function x(se){("object"!=typeof se||null===se||void 0===se.length)&&V("Invalid argument for bytesToString");const k=se.length,O=8192;if(k<O)return String.fromCharCode.apply(null,se);const F=[];for(let Y=0;Y<k;Y+=O){const p=Math.min(Y+O,k),D=se.subarray(Y,p);F.push(String.fromCharCode.apply(null,D))}return F.join("")},L.createPromiseCapability=function Le(){const se=Object.create(null);let k=!1;return Object.defineProperty(se,"settled",{get:()=>k}),se.promise=new Promise(function(O,F){se.resolve=function(Y){k=!0,O(Y)},se.reject=function(Y){k=!0,F(Y)}}),se},L.createValidAbsoluteUrl=function ae(se,k=null,O=null){if(!se)return null;try{if(O&&"string"==typeof se){if(O.addDefaultProtocol&&se.startsWith("www.")){const Y=se.match(/\./g);Y&&Y.length>=2&&(se=`http://${se}`)}if(O.tryConvertEncoding)try{se=ge(se)}catch(Y){}}const F=k?new URL(se,k):new URL(se);if(function ee(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(F))return F}catch(F){}return null},L.escapeString=function X(se){return se.replace(/([()\\\n\r])/g,k=>"\n"===k?"\\n":"\r"===k?"\\r":`\\${k}`)},L.getModificationDate=function Ee(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function G(){return I},L.info=function q(se){I>=m.INFOS&&console.log(`Info: ${se}`)},L.isArrayBuffer=function ye(se){return"object"==typeof se&&null!==se&&void 0!==se.byteLength},L.isArrayEqual=function xe(se,k){if(se.length!==k.length)return!1;for(let O=0,F=se.length;O<F;O++)if(se[O]!==k[O])return!1;return!0},L.isAscii=function fe(se){return/^[\x00-\x7F]*$/.test(se)},L.objectFromMap=function te(se){const k=Object.create(null);for(const[O,F]of se)k[O]=F;return k},L.objectSize=function Q(se){return Object.keys(se).length},L.setVerbosityLevel=function U(se){Number.isInteger(se)&&(I=se)},L.shadow=he,L.string32=function z(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,255&se)},L.stringToBytes=j,L.stringToPDFString=function N(se){if(se[0]>="\xef"){let O;if("\xfe"===se[0]&&"\xff"===se[1]?O="utf-16be":"\xff"===se[0]&&"\xfe"===se[1]?O="utf-16le":"\xef"===se[0]&&"\xbb"===se[1]&&"\xbf"===se[2]&&(O="utf-8"),O)try{const F=new TextDecoder(O,{fatal:!0}),Y=j(se);return F.decode(Y)}catch(F){Z(`stringToPDFString: "${F}".`)}}const k=[];for(let O=0,F=se.length;O<F;O++){const Y=w[se.charCodeAt(O)];k.push(Y?String.fromCharCode(Y):se.charAt(O))}return k.join("")},L.stringToUTF16BEString=function ue(se){const k=["\xfe\xff"];for(let O=0,F=se.length;O<F;O++){const Y=se.charCodeAt(O);k.push(String.fromCharCode(Y>>8&255),String.fromCharCode(255&Y))}return k.join("")},L.stringToUTF8String=ge,L.unreachable=V,L.utf8StringToString=function Ae(se){return unescape(encodeURIComponent(se))},L.warn=Z,J(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const m={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=m,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let I=m.WARNINGS;function Z(se){I>=m.WARNINGS&&console.log(`Warning: ${se}`)}function V(se){throw new Error(se)}function he(se,k,O){return Object.defineProperty(se,k,{value:O,enumerable:!0,configurable:!0,writable:!1}),O}const M=function(){function k(O,F){this.constructor===k&&V("Cannot initialize BaseException."),this.message=O,this.name=F}return k.prototype=new Error,k.constructor=k,k}();function j(se){"string"!=typeof se&&V("Invalid argument for stringToBytes");const k=se.length,O=new Uint8Array(k);for(let F=0;F<k;++F)O[F]=255&se.charCodeAt(F);return O}function H(se){return void 0!==se.length?se.length:void 0!==se.byteLength?se.byteLength:void V("Invalid argument for arrayByteLength")}L.BaseException=M,L.PasswordException=class a extends M{constructor(k,O){super(k,"PasswordException"),this.code=O}},L.UnknownErrorException=class d extends M{constructor(k,O){super(k,"UnknownErrorException"),this.details=O}},L.InvalidPDFException=class t extends M{constructor(k){super(k,"InvalidPDFException")}},L.MissingPDFException=class l extends M{constructor(k){super(k,"MissingPDFException")}},L.UnexpectedResponseException=class u extends M{constructor(k,O){super(k,"UnexpectedResponseException"),this.status=O}},L.FormatError=class S extends M{constructor(k){super(k,"FormatError")}},L.AbortException=class y extends M{constructor(k){super(k,"AbortException")}},L.FeatureTest=class K{static get isLittleEndian(){return he(this,"isLittleEndian",function de(){const se=new Uint8Array(4);return se[0]=1,1===new Uint32Array(se.buffer,0,1)[0]}())}static get isEvalSupported(){return he(this,"isEvalSupported",function be(){try{return new Function(""),!0}catch(se){return!1}}())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const le=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class ce{static makeHexColor(k,O,F){return`#${le[k]}${le[O]}${le[F]}`}static scaleMinMax(k,O){let F;k[0]?(k[0]<0&&(F=O[0],O[0]=O[1],O[1]=F),O[0]*=k[0],O[1]*=k[0],k[3]<0&&(F=O[2],O[2]=O[3],O[3]=F),O[2]*=k[3],O[3]*=k[3]):(F=O[0],O[0]=O[2],O[2]=F,F=O[1],O[1]=O[3],O[3]=F,k[1]<0&&(F=O[2],O[2]=O[3],O[3]=F),O[2]*=k[1],O[3]*=k[1],k[2]<0&&(F=O[0],O[0]=O[1],O[1]=F),O[0]*=k[2],O[1]*=k[2]),O[0]+=k[4],O[1]+=k[4],O[2]+=k[5],O[3]+=k[5]}static transform(k,O){return[k[0]*O[0]+k[2]*O[1],k[1]*O[0]+k[3]*O[1],k[0]*O[2]+k[2]*O[3],k[1]*O[2]+k[3]*O[3],k[0]*O[4]+k[2]*O[5]+k[4],k[1]*O[4]+k[3]*O[5]+k[5]]}static applyTransform(k,O){return[k[0]*O[0]+k[1]*O[2]+O[4],k[0]*O[1]+k[1]*O[3]+O[5]]}static applyInverseTransform(k,O){const F=O[0]*O[3]-O[1]*O[2];return[(k[0]*O[3]-k[1]*O[2]+O[2]*O[5]-O[4]*O[3])/F,(-k[0]*O[1]+k[1]*O[0]+O[4]*O[1]-O[5]*O[0])/F]}static getAxialAlignedBoundingBox(k,O){const F=ce.applyTransform(k,O),Y=ce.applyTransform(k.slice(2,4),O),p=ce.applyTransform([k[0],k[3]],O),D=ce.applyTransform([k[2],k[1]],O);return[Math.min(F[0],Y[0],p[0],D[0]),Math.min(F[1],Y[1],p[1],D[1]),Math.max(F[0],Y[0],p[0],D[0]),Math.max(F[1],Y[1],p[1],D[1])]}static inverseTransform(k){const O=k[0]*k[3]-k[1]*k[2];return[k[3]/O,-k[1]/O,-k[2]/O,k[0]/O,(k[2]*k[5]-k[4]*k[3])/O,(k[4]*k[1]-k[5]*k[0])/O]}static apply3dTransform(k,O){return[k[0]*O[0]+k[1]*O[1]+k[2]*O[2],k[3]*O[0]+k[4]*O[1]+k[5]*O[2],k[6]*O[0]+k[7]*O[1]+k[8]*O[2]]}static singularValueDecompose2dScale(k){const O=[k[0],k[2],k[1],k[3]],F=k[0]*O[0]+k[1]*O[2],D=k[2]*O[1]+k[3]*O[3],oe=(F+D)/2,me=Math.sqrt((F+D)**2-4*(F*D-(k[2]*O[0]+k[3]*O[2])*(k[0]*O[1]+k[1]*O[3])))/2,ve=oe-me||1;return[Math.sqrt(oe+me||1),Math.sqrt(ve)]}static normalizeRect(k){const O=k.slice(0);return k[0]>k[2]&&(O[0]=k[2],O[2]=k[0]),k[1]>k[3]&&(O[1]=k[3],O[3]=k[1]),O}static intersect(k,O){const F=Math.max(Math.min(k[0],k[2]),Math.min(O[0],O[2])),Y=Math.min(Math.max(k[0],k[2]),Math.max(O[0],O[2]));if(F>Y)return null;const p=Math.max(Math.min(k[1],k[3]),Math.min(O[1],O[3])),D=Math.min(Math.max(k[1],k[3]),Math.max(O[1],O[3]));return p>D?null:[F,p,Y,D]}static bezierBoundingBox(k,O,F,Y,p,D,oe,me){const Ce=[],ve=[[],[]];let Me,Te,Ne,ke,Fe,Oe,Be,Ve;for(let Xe=0;Xe<2;++Xe)if(0===Xe?(Te=6*k-12*F+6*p,Me=-3*k+9*F-9*p+3*oe,Ne=3*F-3*k):(Te=6*O-12*Y+6*D,Me=-3*O+9*Y-9*D+3*me,Ne=3*Y-3*O),Math.abs(Me)<1e-12){if(Math.abs(Te)<1e-12)continue;ke=-Ne/Te,0<ke&&ke<1&&Ce.push(ke)}else Be=Te*Te-4*Ne*Me,Ve=Math.sqrt(Be),!(Be<0)&&(Fe=(-Te+Ve)/(2*Me),0<Fe&&Fe<1&&Ce.push(Fe),Oe=(-Te-Ve)/(2*Me),0<Oe&&Oe<1&&Ce.push(Oe));let De,Ie=Ce.length;const Ue=Ie;for(;Ie--;)ke=Ce[Ie],De=1-ke,ve[0][Ie]=De*De*De*k+3*De*De*ke*F+3*De*ke*ke*p+ke*ke*ke*oe,ve[1][Ie]=De*De*De*O+3*De*De*ke*Y+3*De*ke*ke*D+ke*ke*ke*me;return ve[0][Ue]=k,ve[1][Ue]=O,ve[0][Ue+1]=oe,ve[1][Ue+1]=me,ve[0].length=ve[1].length=Ue+2,[Math.min(...ve[0]),Math.min(...ve[1]),Math.max(...ve[0]),Math.max(...ve[1])]}}L.Util=ce;const w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ge(se){return decodeURIComponent(escape(se))}},(_e,L,J)=>{J(3)},(_e,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const J=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=J},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,J,_,pe,re,ie,ne,B,h,nt,A;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:C,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:s}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=C,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=s}function setPDFNetworkStreamFactory(C){createPDFNetworkStream=C}function getDocument(C){const o=new PDFDocumentLoadingTask;let s;if("string"==typeof C||C instanceof URL)s={url:C};else if((0,_util.isArrayBuffer)(C))s={data:C};else if(C instanceof PDFDataRangeTransport)s={range:C};else{if("object"!=typeof C)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!C.url&&!C.data&&!C.range)throw new Error("Invalid parameter object: need either .data, .range or .url");s=C}const n=Object.create(null);let c=null,P=null;for(const g in s){const e=s[g];switch(g){case"url":if("undefined"!=typeof window)try{n[g]=new URL(e,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof e||e instanceof URL){n[g]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=e;continue;case"worker":P=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)n[g]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)n[g]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[g]=new Uint8Array(e)}else n[g]=new Uint8Array(e)}continue}n[g]=e}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!P){const g={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};P=g.port?PDFWorker.fromPort(g):new PDFWorker(g),o._worker=P}const f=o.docId;return P.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const g=_fetchDocument(P,n,c,f),e=new Promise(function(i){let m;c?m=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},c):n.data||(m=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),i(m)});return Promise.all([g,e]).then(function([i,m]){if(o.destroyed)throw new Error("Loading aborted");const b=new _message_handler.MessageHandler(f,i,P.port),v=new WorkerTransport(b,o,m,n);o._transport=v,b.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(C,o,s,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(C,o,s,n){if(C.destroyed)throw new Error("Worker was destroyed");s&&(o.length=s.length,o.initialData=s.initialData,o.progressiveDone=s.progressiveDone,o.contentDispositionFilename=s.contentDispositionFilename);const c=yield C.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(C.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}const L=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+tt(L,_e)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){var s;o.destroyed=!0,yield null==(s=o._transport)?void 0:s.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}};let PDFDocumentLoadingTask=L;_e=new WeakMap,we(PDFDocumentLoadingTask,_e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,s,n=!1,c=null){this.length=o,this.initialData=s,this.progressiveDone=n,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,s){for(const n of this._rangeListeners)n(o,s)}onDataProgress(o,s){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(o,s)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,s){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,s){var c,n=this;this._pdfInfo=o,this._transport=s,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,s,n,c,P=!1){this._pageIndex=o,this._pageInfo=s,this._ownerDocument=c,this._transport=n,this._stats=P?new _display_utils.StatTimer:null,this._pdfBug=P,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:s=this.rotate,offsetX:n=0,offsetY:c=0,dontFlip:P=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:s,offsetX:n,offsetY:c,dontFlip:P})}getAnnotations({intent:o="display"}={}){const s=this._transport.getRenderingIntent(o);let n=this._annotationPromises.get(s.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,s.renderingIntent),this._annotationPromises.set(s.cacheKey,n),n=n.then(c=>{for(const P of c)void 0!==P.titleObj&&Object.defineProperty(P,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),P.titleObj.str)}),void 0!==P.contentsObj&&Object.defineProperty(P,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),P.contentsObj.str)});return c})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){var s;return(null==(s=o._transport._htmlForXfa)?void 0:s.children[o._pageIndex])||null})()}render({canvasContext:o,viewport:s,intent:n="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:P=null,imageLayer:f=null,canvasFactory:g=null,background:e=null,optionalContentConfigPromise:i=null,annotationCanvasMap:m=null,pageColors:b=null}){var Z,V;void 0!==(null==(Z=arguments[0])?void 0:Z.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(V=arguments[0])?void 0:V.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const v=this._transport.getRenderingIntent(n,c);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let T=this._intentStates.get(v.cacheKey);T||(T=Object.create(null),this._intentStates.set(v.cacheKey,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const R=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),I=!!(v.renderingIntent&_util.RenderingIntentFlag.PRINT);T.displayReadyCapability||(T.displayReadyCapability=(0,_util.createPromiseCapability)(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(v));const U=$=>{T.renderTasks.delete(G),(this.cleanupAfterRender||I)&&(this.pendingCleanup=!0),this._tryCleanup(),$?(G.capability.reject($),this._abortOperatorList({intentState:T,reason:$ instanceof Error?$:new Error($)})):G.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},G=new InternalRenderTask({callback:U,params:{canvasContext:o,viewport:s,transform:P,imageLayer:f,background:e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:R,useRequestAnimationFrame:!I,pdfBug:this._pdfBug,pageColors:b});(T.renderTasks||(T.renderTasks=new Set)).add(G);const q=G.task;return Promise.all([T.displayReadyCapability.promise,i]).then(([$,ee])=>{this.pendingCleanup?U():(this._stats&&this._stats.time("Rendering"),G.initializeGraphics({transparency:$,optionalContentConfig:ee}),G.operatorListChanged())}).catch(U),q}getOperatorList({intent:o="display",annotationMode:s=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(o,s,!0);let f,P=this._intentStates.get(c.cacheKey);return P||(P=Object.create(null),this._intentStates.set(c.cacheKey,P)),P.opListReadCapability||(f=Object.create(null),f.operatorListChanged=function n(){P.operatorList.lastChunk&&(P.opListReadCapability.resolve(P.operatorList),P.renderTasks.delete(f))},P.opListReadCapability=(0,_util.createPromiseCapability)(),(P.renderTasks||(P.renderTasks=new Set)).add(f),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),P.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===s},{highWaterMark:100,size:c=>c.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const s=this.streamTextContent(o);return new Promise(function(n,c){const f=s.getReader(),g={items:[],styles:Object.create(null)};!function P(){f.read().then(function({value:e,done:i}){i?n(g):(Object.assign(g.styles,e.styles),g.items.push(...e.items),P())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const n of s.renderTasks)o.push(n.completed),n.cancel();this.objs.clear();for(const s of this._bitmaps)s.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:s,operatorList:n}of this._intentStates.values())if(s.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const s of this._bitmaps)s.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,s){const n=this._intentStates.get(s);!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(o))}_renderPageChunk(o,s){for(let n=0,c=o.length;n<c;n++)s.operatorList.fnArray.push(o.fnArray[n]),s.operatorList.argsArray.push(o.argsArray[n]);s.operatorList.lastChunk=o.lastChunk;for(const n of s.renderTasks)n.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:s}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:s,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),P=this._intentStates.get(s);P.streamReader=c;const f=()=>{c.read().then(({value:g,done:e})=>{e?P.streamReader=null:this._transport.destroyed||(this._renderPageChunk(g,P),f())},g=>{if(P.streamReader=null,!this._transport.destroyed){if(P.operatorList){P.operatorList.lastChunk=!0;for(const e of P.renderTasks)e.operatorListChanged();this._tryCleanup()}if(P.displayReadyCapability)P.displayReadyCapability.reject(g);else{if(!P.opListReadCapability)throw g;P.opListReadCapability.reject(g)}}})};f()}_abortOperatorList({intentState:o,reason:s,force:n=!1}){if(o.streamReader){if(!n){if(o.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:s,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[c,P]of this._intentStates)if(P===o){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,s){const n={data:structuredClone(o,s)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,n)})}addEventListener(o,s){this._listeners.push(s)}removeEventListener(o,s){const n=this._listeners.indexOf(s);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const C=null==(J=null==document?void 0:document.currentScript)?void 0:J.src;C&&(PDFWorkerUtil.fallbackWorkerSrc=C.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(C,o){let s;try{if(s=new URL(C),!s.origin||"null"===s.origin)return!1}catch(c){return!1}const n=new URL(o,s);return s.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(C){return URL.createObjectURL(new Blob([`importScripts("${C}");`]))};const _PDFWorker=class{constructor({name:C=null,port:o=null,verbosity:s=(0,_util.getVerbosityLevel)()}={}){if(o&&Se(_PDFWorker,_).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=C,this.destroyed=!1,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return Se(_PDFWorker,_).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(C){this._port=C,this._messageHandler=new _message_handler.MessageHandler("main","worker",C),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let C=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,C)||(C=PDFWorkerUtil.createCDNWrapper(new URL(C,window.location).href));const o=new Worker(C),s=new _message_handler.MessageHandler("main","worker",o),n=()=>{o.removeEventListener("error",c),s.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||n()};o.addEventListener("error",c),s.on("test",f=>{o.removeEventListener("error",c),this.destroyed?n():f?(this._messageHandler=s,this._port=o,this._webWorker=o,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),o.terminate())}),s.on("ready",f=>{if(o.removeEventListener("error",c),this.destroyed)n();else try{P()}catch(g){this._setupFakeWorker()}});const P=()=>{const f=new Uint8Array;s.send("test",f,[f.buffer])};return void P()}catch(o){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(C=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const s="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(s+"_worker",s,o);C.setup(n,o);const c=new _message_handler.MessageHandler(s,s+"_worker",o);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(C=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${C.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Se(_PDFWorker,_).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(C){if(!(null==C?void 0:C.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Se(this,_).has(C.port)?Se(this,_).get(C.port):new _PDFWorker(C)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var C;try{return(null==(C=globalThis.pdfjsWorker)?void 0:C.WorkerMessageHandler)||null}catch(o){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function C(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;_=new WeakMap,we(PDFWorker,_,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(o,s,n,c){we(this,pe,null),we(this,re,new Map),we(this,ie,new Map),we(this,ne,null),this.messageHandler=o,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:s.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Se(this,pe)}getRenderingIntent(o,s=_util.AnnotationMode.ENABLE,n=!1){let c=_util.RenderingIntentFlag.DISPLAY,P="";switch(o){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(s){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,P=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${s}`)}return n&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${P}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const n of Se(this,re).values())o.push(n._destroy());Se(this,re).clear(),Se(this,ie).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return o.push(s),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Re(this,ne,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:s}=this;o.on("GetReader",(n,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=P=>{this._lastProgress={loaded:P.loaded,total:P.total}},c.onPull=()=>{this._fullReader.read().then(function({value:P,done:f}){f?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(P),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(P),1,[P]))}).catch(P=>{c.error(P)})},c.onCancel=P=>{this._fullReader.cancel(P),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),o.on("ReaderHeadersReady",n=>{const c=(0,_util.createPromiseCapability)(),P=this._fullReader;return P.headersReady.then(()=>{var f;(!P.isStreamingSupported||!P.isRangeSupported)&&(this._lastProgress&&(null==(f=s.onProgress)||f.call(s,this._lastProgress)),P.onProgress=g=>{var e;null==(e=s.onProgress)||e.call(s,{loaded:g.loaded,total:g.total})}),c.resolve({isStreamingSupported:P.isStreamingSupported,isRangeSupported:P.isRangeSupported,contentLength:P.contentLength})},c.reject),c.promise}),o.on("GetRangeReader",(n,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const P=this._networkStream.getRangeReader(n.begin,n.end);P?(c.onPull=()=>{P.read().then(function({value:f,done:g}){g?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{c.error(f)})},c.onCancel=f=>{P.cancel(f),c.ready.catch(g=>{if(!this.destroyed)throw g})}):c.close()}),o.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(n,this))}),o.on("DocException",function(n){let c;switch(n.name){case"PasswordException":c=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":c=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}s._capability.reject(c)}),o.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),s.onPassword){const c=P=>{P instanceof Error?this._passwordCapability.reject(P):this._passwordCapability.resolve({password:P})};try{s.onPassword(c,n.code)}catch(P){this._passwordCapability.reject(P)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),o.on("DataLoaded",n=>{var c;null==(c=s.onProgress)||c.call(s,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),o.on("StartRenderPage",n=>{this.destroyed||Se(this,re).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),o.on("commonobj",([n,c,P])=>{var f;if(!this.destroyed&&!this.commonObjs.has(n))switch(c){case"Font":const g=this._params;if("error"in P){const m=P.error;(0,_util.warn)(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}let e=null;g.pdfBug&&(null==(f=globalThis.FontInspector)?void 0:f.enabled)&&(e={registerFont(m,b){globalThis.FontInspector.fontAdded(m,b)}});const i=new _font_loader.FontFaceObject(P,{isEvalSupported:g.isEvalSupported,disableFontFace:g.disableFontFace,ignoreErrors:g.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(i).catch(m=>o.sendWithPromise("FontFallback",{id:n})).finally(()=>{!g.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(n,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,P);break;default:throw new Error(`Got unknown common object type ${c}`)}}),o.on("obj",([n,c,P,f])=>{var e;if(this.destroyed)return;const g=Se(this,re).get(c);if(!g.objs.has(n))switch(P){case"Image":g.objs.resolve(n,f);const i=8e6;if(f){let m;if(f.bitmap){const{bitmap:b,width:v,height:T}=f;m=v*T*4,g._bitmaps.add(b)}else m=(null==(e=f.data)?void 0:e.length)||0;m>i&&(g.cleanupAfterRender=!0)}break;case"Pattern":g.objs.resolve(n,f);break;default:throw new Error(`Got unknown object type ${P}`)}}),o.on("DocProgress",n=>{var c;this.destroyed||null==(c=s.onProgress)||c.call(s,{loaded:n.loaded,total:n.total})}),o.on("DocStats",n=>{this.destroyed||Re(this,pe,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){var s,n;this.destroyed||null==(n=(s=this.loadingTask).onUnsupportedFeature)||n.call(s,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=o-1,n=Se(this,ie).get(s);if(n)return n;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(P=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(s,P,this,this._params.ownerDocument,this._params.pdfBug);return Se(this,re).set(s,f),f});return Se(this,ie).set(s,c),c}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:s})}saveDocument(){var o,s;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(s=null==(o=this._fullReader)?void 0:o.filename)?s:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Se(this,ne)||Re(this,ne,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>{var s,n,c,P;return{info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:null!=(n=null==(s=this._fullReader)?void 0:s.filename)?n:null,contentLength:null!=(P=null==(c=this._fullReader)?void 0:c.contentLength)?P:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var s=this;return _asyncToGenerator(function*(){if(yield s.messageHandler.sendWithPromise("Cleanup",null),!s.destroyed){for(const n of Se(s,re).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);s.commonObjs.clear(),o||s.fontLoader.clear(),Re(s,ne,null),s._getFieldObjectsPromise=null,s._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}pe=new WeakMap,re=new WeakMap,ie=new WeakMap,ne=new WeakMap;class PDFObjects{constructor(){we(this,h),we(this,B,Object.create(null))}get(o,s=null){if(s){const c=Pe(this,h,nt).call(this,o);return c.capability.promise.then(()=>s(c.data)),null}const n=Se(this,B)[o];if(!(null==n?void 0:n.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${o}.`);return n.data}has(o){const s=Se(this,B)[o];return(null==s?void 0:s.capability.settled)||!1}resolve(o,s=null){const n=Pe(this,h,nt).call(this,o);n.data=s,n.capability.resolve()}clear(){Re(this,B,Object.create(null))}}B=new WeakMap,h=new WeakSet,nt=function(o){return Se(this,B)[o]||(Se(this,B)[o]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const r=class{constructor({callback:o,params:s,objs:n,commonObjs:c,annotationCanvasMap:P,operatorList:f,pageIndex:g,canvasFactory:e,useRequestAnimationFrame:i=!1,pdfBug:m=!1,pageColors:b=null}){this.callback=o,this.params=s,this.objs=n,this.commonObjs=c,this.annotationCanvasMap=P,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=g,this.canvasFactory=e,this._pdfBug=m,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:s}){var e;if(this.cancelled)return;if(this._canvas){if(Se(r,A).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Se(r,A).add(this._canvas)}this._pdfBug&&(null==(e=globalThis.StepperManager)?void 0:e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:c,transform:P,imageLayer:f,background:g}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,f,s,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:P,viewport:c,transparency:o,background:g}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Se(r,A).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&Se(r,A).delete(o._canvas),o.callback())))})()}};let InternalRenderTask=r;A=new WeakMap,we(InternalRenderTask,A,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function i(R){console.log("Deprecated API usage: "+R)},L.getFilenameFromUrl=function c(R){const I=R.indexOf("#"),U=R.indexOf("?"),G=Math.min(I>0?I:R.length,U>0?U:R.length);return R.substring(R.lastIndexOf("/",G)+1,G)},L.getPdfFilenameFromUrl=function P(R,I="document.pdf"){if("string"!=typeof R)return I;if(s(R))return(0,pe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;const G=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,q=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let Z=G.exec(q[1])||G.exec(q[2])||G.exec(q[3]);if(Z&&(Z=Z[0],Z.includes("%")))try{Z=G.exec(decodeURIComponent(Z))[0]}catch(V){}return Z||I},L.getXfaPageViewport=function v(R,{scale:I=1,rotation:U=0}){const{width:G,height:q}=R.attributes.style,Z=[0,0,parseInt(G),parseInt(q)];return new C({viewBox:Z,scale:I,rotation:U})},L.isDataScheme=s,L.isPdfFile=function n(R){return"string"==typeof R&&/\.pdf$/i.test(R)},L.isValidFetchUrl=g,L.loadScript=function e(R,I=!1){return new Promise((U,G)=>{const q=document.createElement("script");q.src=R,q.onload=function(Z){I&&q.remove(),U(Z)},q.onerror=function(){G(new Error(`Cannot load script at: ${q.src}`))},(document.head||document.documentElement).appendChild(q)})};var _=J(6),pe=J(1);const T=class{};let m,ie=T;function B(R){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(function*(R,I=!1){if(g(R,document.baseURI)){const U=yield fetch(R);if(!U.ok)throw new Error(U.statusText);return I?new Uint8Array(yield U.arrayBuffer()):(0,pe.stringToBytes)(yield U.text())}return new Promise((U,G)=>{const q=new XMLHttpRequest;q.open("GET",R,!0),I&&(q.responseType="arraybuffer"),q.onreadystatechange=()=>{if(q.readyState===XMLHttpRequest.DONE){if(200===q.status||0===q.status){let Z;if(I&&q.response?Z=new Uint8Array(q.response):!I&&q.responseText&&(Z=(0,pe.stringToBytes)(q.responseText)),Z)return void U(Z)}G(new Error(q.statusText))}},q.send(null)})})).apply(this,arguments)}We(ie,"CSS",96),We(ie,"PDF",72),We(ie,"PDF_TO_CSS_UNITS",T.CSS/T.PDF),L.PixelsPerInch=ie,L.DOMCanvasFactory=class ne extends _.BaseCanvasFactory{constructor({ownerDocument:I=globalThis.document}={}){super(),this._document=I}_createCanvas(I,U){const G=this._document.createElement("canvas");return G.width=I,G.height=U,G}},L.DOMCMapReaderFactory=class E extends _.BaseCMapReaderFactory{_fetchData(I,U){return B(I,this.isCompressed).then(G=>({cMapData:G,compressionType:U}))}},L.DOMStandardFontDataFactory=class A extends _.BaseStandardFontDataFactory{_fetchData(I){return B(I,!0)}},L.DOMSVGFactory=class r extends _.BaseSVGFactory{_createSVG(I){return document.createElementNS("http://www.w3.org/2000/svg",I)}};class C{constructor({viewBox:I,scale:U,rotation:G,offsetX:q=0,offsetY:Z=0,dontFlip:V=!1}){this.viewBox=I,this.scale=U,this.rotation=G,this.offsetX=q,this.offsetY=Z;const $=(I[2]+I[0])/2,ee=(I[3]+I[1])/2;let ae,he,M,a,d,t,l,u;switch((G%=360)<0&&(G+=360),G){case 180:ae=-1,he=0,M=0,a=1;break;case 90:ae=0,he=1,M=1,a=0;break;case 270:ae=0,he=-1,M=-1,a=0;break;case 0:ae=1,he=0,M=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}V&&(M=-M,a=-a),0===ae?(d=Math.abs(ee-I[1])*U+q,t=Math.abs($-I[0])*U+Z,l=Math.abs(I[3]-I[1])*U,u=Math.abs(I[2]-I[0])*U):(d=Math.abs($-I[0])*U+q,t=Math.abs(ee-I[1])*U+Z,l=Math.abs(I[2]-I[0])*U,u=Math.abs(I[3]-I[1])*U),this.transform=[ae*U,he*U,M*U,a*U,d-ae*U*$-M*U*ee,t-he*U*$-a*U*ee],this.width=l,this.height=u}clone({scale:I=this.scale,rotation:U=this.rotation,offsetX:G=this.offsetX,offsetY:q=this.offsetY,dontFlip:Z=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:I,rotation:U,offsetX:G,offsetY:q,dontFlip:Z})}convertToViewportPoint(I,U){return pe.Util.applyTransform([I,U],this.transform)}convertToViewportRectangle(I){const U=pe.Util.applyTransform([I[0],I[1]],this.transform),G=pe.Util.applyTransform([I[2],I[3]],this.transform);return[U[0],U[1],G[0],G[1]]}convertToPdfPoint(I,U){return pe.Util.applyInverseTransform([I,U],this.transform)}}function s(R){const I=R.length;let U=0;for(;U<I&&""===R[U].trim();)U++;return"data:"===R.substring(U,U+5).toLowerCase()}function g(R,I){try{const{protocol:U}=I?new URL(R,I):new URL(R);return"http:"===U||"https:"===U}catch(U){return!1}}L.PageViewport=C,L.RenderingCancelledException=class o extends pe.BaseException{constructor(I,U){super(I,"RenderingCancelledException"),this.type=U}},L.StatTimer=class f{constructor(){this.started=Object.create(null),this.times=[]}time(I){I in this.started&&(0,pe.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,pe.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){const I=[];let U=0;for(const G of this.times){const q=G.name;q.length>U&&(U=q.length)}for(const G of this.times){const q=G.end-G.start;I.push(`${G.name.padEnd(U)} ${q}ms\n`)}return I.join("")}},L.PDFDateString=class b{static toDateObject(I){if(!I||"string"!=typeof I)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const U=m.exec(I);if(!U)return null;const G=parseInt(U[1],10);let q=parseInt(U[2],10);q=q>=1&&q<=12?q-1:0;let Z=parseInt(U[3],10);Z=Z>=1&&Z<=31?Z:1;let V=parseInt(U[4],10);V=V>=0&&V<=23?V:0;let $=parseInt(U[5],10);$=$>=0&&$<=59?$:0;let ee=parseInt(U[6],10);ee=ee>=0&&ee<=59?ee:0;const ae=U[7]||"Z";let he=parseInt(U[8],10);he=he>=0&&he<=23?he:0;let M=parseInt(U[9],10)||0;return M=M>=0&&M<=59?M:0,"-"===ae?(V+=he,$+=M):"+"===ae&&(V-=he,$-=M),new Date(Date.UTC(G,q,Z,V,$,ee))}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var _=J(1);class pe{constructor(){this.constructor===pe&&(0,_.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,E){if(h<=0||E<=0)throw new Error("Invalid canvas size");const A=this._createCanvas(h,E);return{canvas:A,context:A.getContext("2d")}}reset(h,E,A){if(!h.canvas)throw new Error("Canvas is not specified");if(E<=0||A<=0)throw new Error("Invalid canvas size");h.canvas.width=E,h.canvas.height=A}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,E){(0,_.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=pe;class re{constructor({baseUrl:h=null,isCompressed:E=!1}){this.constructor===re&&(0,_.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=E}fetch({name:h}){var E=this;return _asyncToGenerator(function*(){if(!E.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const A=E.baseUrl+h+(E.isCompressed?".bcmap":"");return E._fetchData(A,E.isCompressed?_.CMapCompressionType.BINARY:_.CMapCompressionType.NONE).catch(C=>{throw new Error(`Unable to load ${E.isCompressed?"binary ":""}CMap at: ${A}`)})})()}_fetchData(h,E){(0,_.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=re;class ie{constructor({baseUrl:h=null}){this.constructor===ie&&(0,_.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch({filename:h}){var E=this;return _asyncToGenerator(function*(){if(!E.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const A=`${E.baseUrl}${h}`;return E._fetchData(A).catch(r=>{throw new Error(`Unable to load font data at: ${A}`)})})()}_fetchData(h){(0,_.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=ie;class ne{constructor(){this.constructor===ne&&(0,_.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,E){if(h<=0||E<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),A.setAttribute("width",`${h}px`),A.setAttribute("height",`${E}px`),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox",`0 0 ${h} ${E}`),A}createElement(h){if("string"!=typeof h)throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,_.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=ne},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var _=J(1);class pe{constructor({docId:B,onUnsupportedFeature:h,ownerDocument:E=globalThis.document,styleElement:A=null}){this.constructor===pe&&(0,_.unreachable)("Cannot initialize BaseFontLoader."),this.docId=B,this._onUnsupportedFeature=h,this._document=E,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(B){this.nativeFontFaces.push(B),this._document.fonts.add(B)}insertRule(B){let h=this.styleElement;h||(h=this.styleElement=this._document.createElement("style"),h.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(h));const E=h.sheet;E.insertRule(B,E.cssRules.length)}clear(){for(const B of this.nativeFontFaces)this._document.fonts.delete(B);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(B){var h=this;return _asyncToGenerator(function*(){if(B.attached||B.missingFile)return;if(B.attached=!0,h.isFontLoadingAPISupported){const A=B.createNativeFontFace();if(A){h.addNativeFontFace(A);try{yield A.loaded}catch(r){throw h._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_.warn)(`Failed to load font '${A.family}': '${r}'.`),B.disableFontFace=!0,r}}return}const E=B.createFontFaceRule();if(E){if(h.insertRule(E),h.isSyncFontLoadingSupported)return;yield new Promise(A=>{const r=h._queueLoadingCallback(A);h._prepareFontLoadEvent([E],[B],r)})}})()}_queueLoadingCallback(B){(0,_.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var h;const B=!!(null==(h=this._document)?void 0:h.fonts);return(0,_.shadow)(this,"isFontLoadingAPISupported",B)}get isSyncFontLoadingSupported(){(0,_.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(B,h,E){(0,_.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let re;L.FontLoader=re,L.FontLoader=re=class extends pe{constructor(B){super(B),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let B=!1;if("undefined"==typeof navigator)B=!0;else{const h=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==h?void 0:h[1])>=14&&(B=!0)}return(0,_.shadow)(this,"isSyncFontLoadingSupported",B)}_queueLoadingCallback(B){const E=this.loadingContext,A={id:"pdfjs-font-loading-"+E.nextRequestId++,done:!1,complete:function h(){for((0,_.assert)(!A.done,"completeRequest() cannot be called twice."),A.done=!0;E.requests.length>0&&E.requests[0].done;){const r=E.requests.shift();setTimeout(r.callback,0)}},callback:B};return E.requests.push(A),A}get _loadTestFont(){return(0,_.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(B,h,E){function A(U,G){return U.charCodeAt(G)<<24|U.charCodeAt(G+1)<<16|U.charCodeAt(G+2)<<8|255&U.charCodeAt(G+3)}function r(U,G,q,Z){return U.substring(0,G)+Z+U.substring(G+q)}let C,o;const s=this._document.createElement("canvas");s.width=1,s.height=1;const n=s.getContext("2d");let c=0;const f=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,f.length,f);const m=1482184792;let b=A(g,16);for(C=0,o=f.length-3;C<o;C+=4)b=b-m+A(f,C)|0;C<f.length&&(b=b-m+A(f+"XXX",C)|0),g=r(g,16,4,(0,_.string32)(b));const v=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${f}";src:${v}}`);const R=[];for(const U of h)R.push(U.loadedName);R.push(f);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const U of R){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=U,I.appendChild(G)}this._document.body.appendChild(I),function P(U,G){if(c++,c>30)return(0,_.warn)("Load test font never loaded."),void G();n.font="30px "+U,n.fillText(".",0,20),n.getImageData(0,0,1,1).data[3]>0?G():setTimeout(P.bind(null,U,G))}(f,()=>{I.remove(),E.complete()})}},L.FontFaceObject=class ie{constructor(B,{isEvalSupported:h=!0,disableFontFace:E=!1,ignoreErrors:A=!1,onUnsupportedFeature:r,fontRegistry:C=null}){this.compiledGlyphs=Object.create(null);for(const o in B)this[o]=B[o];this.isEvalSupported=!1!==h,this.disableFontFace=!0===E,this.ignoreErrors=!0===A,this._onUnsupportedFeature=r,this.fontRegistry=C}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let B;if(this.cssFontInfo){const h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),B=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}else B=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),B}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const B=(0,_.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(B)});`;let E;if(this.cssFontInfo){let A=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(A+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),E=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${A}src:${h}}`}else E=`@font-face {font-family:"${this.loadedName}";src:${h}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,h),E}getPathGenerator(B,h){if(void 0!==this.compiledGlyphs[h])return this.compiledGlyphs[h];let E;try{E=B.get(this.loadedName+"_path_"+h)}catch(A){if(!this.ignoreErrors)throw A;return this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_.warn)(`getPathGenerator - ignoring character: "${A}".`),this.compiledGlyphs[h]=function(r,C){}}if(this.isEvalSupported&&_.FeatureTest.isEvalSupported){const A=[];for(const r of E){const C=void 0!==r.args?r.args.join(","):"";A.push("c.",r.cmd,"(",C,");\n")}return this.compiledGlyphs[h]=new Function("c","size",A.join(""))}return this.compiledGlyphs[h]=function(A,r){for(const C of E)"scale"===C.cmd&&(C.args=[r,-r]),A[C.cmd].apply(A,C.args)}}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var _=J(9),pe=J(1);L.AnnotationStorage=class re{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ne,B){const h=this._storage.get(ne);return void 0===h?B:Object.assign(B,h)}getRawValue(ne){return this._storage.get(ne)}setValue(ne,B){const h=this._storage.get(ne);let E=!1;if(void 0!==h)for(const[A,r]of Object.entries(B))h[A]!==r&&(E=!0,h[A]=r);else E=!0,this._storage.set(ne,B);E&&this._setModified()}getAll(){return this._storage.size>0?(0,pe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ne=new _.MurmurHash3_64;for(const[B,h]of this._storage)ne.update(`${B}:${JSON.stringify(h)}`);return ne.hexdigest()}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MurmurHash3_64=void 0;var _=J(1);const pe=3285377520,re=4294901760,ie=65535;L.MurmurHash3_64=class ne{constructor(h){this.h1=h?4294967295&h:pe,this.h2=h?4294967295&h:pe}update(h){let E,A;if("string"==typeof h){E=new Uint8Array(2*h.length),A=0;for(let m=0,b=h.length;m<b;m++){const v=h.charCodeAt(m);v<=255?E[A++]=v:(E[A++]=v>>>8,E[A++]=255&v)}}else{if(!(0,_.isArrayBuffer)(h))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");E=h.slice(),A=E.byteLength}const r=A>>2,C=A-4*r,o=new Uint32Array(E.buffer,0,r);let s=0,n=0,c=this.h1,P=this.h2;const f=3432918353,g=461845907,e=f&ie,i=g&ie;for(let m=0;m<r;m++)1&m?(s=o[m],s=s*f&re|s*e&ie,s=s<<15|s>>>17,s=s*g&re|s*i&ie,c^=s,c=c<<13|c>>>19,c=5*c+3864292196):(n=o[m],n=n*f&re|n*e&ie,n=n<<15|n>>>17,n=n*g&re|n*i&ie,P^=n,P=P<<13|P>>>19,P=5*P+3864292196);switch(s=0,C){case 3:s^=E[4*r+2]<<16;case 2:s^=E[4*r+1]<<8;case 1:s^=E[4*r],s=s*f&re|s*e&ie,s=s<<15|s>>>17,s=s*g&re|s*i&ie,1&r?c^=s:P^=s}this.h1=c,this.h2=P}hexdigest(){let h=this.h1,E=this.h2;h^=E>>>1,h=3981806797*h&re|36045*h&ie,E=4283543511*E&re|(2950163797*(E<<16|h>>>16)&re)>>>16,h^=E>>>1,h=444984403*h&re|60499*h&ie,E=3301882366*E&re|(3120437893*(E<<16|h>>>16)&re)>>>16,h^=E>>>1;const A=(h>>>0).toString(16),r=(E>>>0).toString(16);return A.padStart(8,"0")+r.padStart(8,"0")}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var _=J(1),pe=J(11),re=J(12),ie=J(3),ne=J(5);const E=4096,s=16;function P(M){if(M._transformStack&&(M._transformStack=[]),!M.mozCurrentTransform){M._originalSave=M.save,M._originalRestore=M.restore,M._originalRotate=M.rotate,M._originalScale=M.scale,M._originalTranslate=M.translate,M._originalTransform=M.transform,M._originalSetTransform=M.setTransform,M._originalResetTransform=M.resetTransform,M._transformMatrix=M._transformMatrix||[1,0,0,1,0,0],M._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"lineWidth");M._setLineWidth=a.set,M._getLineWidth=a.get,Object.defineProperty(M,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(a){}Object.defineProperty(M,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(M,"mozCurrentTransformInverse",{get:function(){const[d,t,l,u,S,y]=this._transformMatrix,x=d*u-t*l,j=t*l-d*u;return[u/x,t/j,l/j,d/x,(u*S-l*y)/j,(t*S-d*y)/x]}}),M.save=function(){const d=this._transformMatrix;this._transformStack.push(d),this._transformMatrix=d.slice(0,6),this._originalSave()},M.restore=function(){0===this._transformStack.length&&(0,_.warn)("Tried to restore a ctx when the stack was already empty.");const d=this._transformStack.pop();d&&(this._transformMatrix=d,this._originalRestore())},M.translate=function(d,t){const l=this._transformMatrix;l[4]=l[0]*d+l[2]*t+l[4],l[5]=l[1]*d+l[3]*t+l[5],this._originalTranslate(d,t)},M.scale=function(d,t){const l=this._transformMatrix;l[0]*=d,l[1]*=d,l[2]*=t,l[3]*=t,this._originalScale(d,t)},M.transform=function(d,t,l,u,S,y){const x=this._transformMatrix;this._transformMatrix=[x[0]*d+x[2]*t,x[1]*d+x[3]*t,x[0]*l+x[2]*u,x[1]*l+x[3]*u,x[0]*S+x[2]*y+x[4],x[1]*S+x[3]*y+x[5]],M._originalTransform(d,t,l,u,S,y)},M.setTransform=function(d,t,l,u,S,y){this._transformMatrix=[d,t,l,u,S,y],M._originalSetTransform(d,t,l,u,S,y)},M.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],M._originalResetTransform()},M.rotate=function(d){const t=Math.cos(d),l=Math.sin(d),u=this._transformMatrix;this._transformMatrix=[u[0]*t+u[2]*l,u[1]*t+u[3]*l,u[0]*-l+u[2]*t,u[1]*-l+u[3]*t,u[4],u[5]],this._originalRotate(d)}}}class f{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,d,t,l){let u;return void 0!==this.cache[a]?(u=this.cache[a],this.canvasFactory.reset(u,d,t),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(d,t),this.cache[a]=u),l&&P(u.context),u}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function g(M,a,d,t,l,u,S,y,x,j){const[H,W,z,Q,te,de]=M.mozCurrentTransform;if(0===W&&0===z){const ce=Math.round(S*H+te),N=Math.round(y*Q+de),fe=Math.abs(Math.round((S+x)*H+te)-ce)||1,ge=Math.abs(Math.round((y+j)*Q+de)-N)||1;return M.setTransform(Math.sign(H),0,0,Math.sign(Q),ce,N),M.drawImage(a,d,t,l,u,0,0,fe,ge),M.setTransform(H,W,z,Q,te,de),[fe,ge]}if(0===H&&0===Q){const ce=Math.round(y*z+te),N=Math.round(S*W+de),fe=Math.abs(Math.round((y+j)*z+te)-ce)||1,ge=Math.abs(Math.round((S+x)*W+de)-N)||1;return M.setTransform(0,Math.sign(W),Math.sign(z),0,ce,N),M.drawImage(a,d,t,l,u,0,0,ge,fe),M.setTransform(H,W,z,Q,te,de),[ge,fe]}return M.drawImage(a,d,t,l,u,S,y,x,j),[Math.hypot(H,W)*x,Math.hypot(z,Q)*j]}class i{constructor(a,d){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,d])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,d){this.x=a,this.y=d}updatePathMinMax(a,d,t){[d,t]=_.Util.applyTransform([d,t],a),this.minX=Math.min(this.minX,d),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,d),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(a,d){const t=_.Util.applyTransform(d,a),l=_.Util.applyTransform(d.slice(2),a);this.minX=Math.min(this.minX,t[0],l[0]),this.minY=Math.min(this.minY,t[1],l[1]),this.maxX=Math.max(this.maxX,t[0],l[0]),this.maxY=Math.max(this.maxY,t[1],l[1])}updateScalingPathMinMax(a,d){_.Util.scaleMinMax(a,d),this.minX=Math.min(this.minX,d[0]),this.maxX=Math.max(this.maxX,d[1]),this.minY=Math.min(this.minY,d[2]),this.maxY=Math.max(this.maxY,d[3])}updateCurvePathMinMax(a,d,t,l,u,S,y,x,j,H){const W=_.Util.bezierBoundingBox(d,t,l,u,S,y,x,j);if(H)return H[0]=Math.min(H[0],W[0],W[2]),H[1]=Math.max(H[1],W[0],W[2]),H[2]=Math.min(H[2],W[1],W[3]),void(H[3]=Math.max(H[3],W[1],W[3]));this.updateRectMinMax(a,W)}getPathBoundingBox(a=pe.PathType.FILL,d=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(a===pe.PathType.STROKE){d||(0,_.unreachable)("Stroke bounding box must include transform.");const l=_.Util.singularValueDecompose2dScale(d),u=l[0]*this.lineWidth/2,S=l[1]*this.lineWidth/2;t[0]-=u,t[1]-=S,t[2]+=u,t[3]+=S}return t}updateClipFromPath(){const a=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=pe.PathType.FILL,d=null){return _.Util.intersect(this.clipBox,this.getPathBoundingBox(a,d))}}function m(M,a,d=null){if("undefined"!=typeof ImageData&&a instanceof ImageData)return void M.putImageData(a,0,0);const t=a.height,l=a.width,u=t%s,S=(t-u)/s,y=0===u?S:S+1,x=M.createImageData(l,s);let H,j=0;const W=a.data,z=x.data;let Q,te,de,be,K,le,ce,w;if(d)switch(d.length){case 1:K=d[0],le=d[0],ce=d[0],w=d[0];break;case 4:K=d[0],le=d[1],ce=d[2],w=d[3]}if(a.kind===_.ImageKind.GRAYSCALE_1BPP){const N=W.byteLength,X=new Uint32Array(z.buffer,0,z.byteLength>>2),fe=X.length,ue=l+7>>3;let ge=4294967295,Ae=_.FeatureTest.isLittleEndian?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([ge,Ae]=[Ae,ge]),Q=0;Q<y;Q++){for(de=Q<S?s:u,H=0,te=0;te<de;te++){const ye=N-j;let xe=0;const Ee=ye>ue?l:8*ye-7,Le=-8&Ee;let se=0,k=0;for(;xe<Le;xe+=8)k=W[j++],X[H++]=128&k?ge:Ae,X[H++]=64&k?ge:Ae,X[H++]=32&k?ge:Ae,X[H++]=16&k?ge:Ae,X[H++]=8&k?ge:Ae,X[H++]=4&k?ge:Ae,X[H++]=2&k?ge:Ae,X[H++]=1&k?ge:Ae;for(;xe<Ee;xe++)0===se&&(k=W[j++],se=128),X[H++]=k&se?ge:Ae,se>>=1}for(;H<fe;)X[H++]=0;M.putImageData(x,0,Q*s)}}else if(a.kind===_.ImageKind.RGBA_32BPP){const N=!!(K||le||ce);for(te=0,be=l*s*4,Q=0;Q<S;Q++){if(z.set(W.subarray(j,j+be)),j+=be,N)for(let X=0;X<be;X+=4)K&&(z[X+0]=K[z[X+0]]),le&&(z[X+1]=le[z[X+1]]),ce&&(z[X+2]=ce[z[X+2]]);M.putImageData(x,0,te),te+=s}if(Q<y){if(be=l*u*4,z.set(W.subarray(j,j+be)),N)for(let X=0;X<be;X+=4)K&&(z[X+0]=K[z[X+0]]),le&&(z[X+1]=le[z[X+1]]),ce&&(z[X+2]=ce[z[X+2]]);M.putImageData(x,0,te)}}else{if(a.kind!==_.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const N=!!(K||le||ce);for(de=s,be=l*de,Q=0;Q<y;Q++){for(Q>=S&&(de=u,be=l*de),H=0,te=be;te--;)z[H++]=W[j++],z[H++]=W[j++],z[H++]=W[j++],z[H++]=255;if(N)for(let X=0;X<H;X+=4)K&&(z[X+0]=K[z[X+0]]),le&&(z[X+1]=le[z[X+1]]),ce&&(z[X+2]=ce[z[X+2]]);M.putImageData(x,0,Q*s)}}}}function b(M,a){if(a.bitmap)return void M.drawImage(a.bitmap,0,0);const d=a.height,t=a.width,l=d%s,u=(d-l)/s,S=0===l?u:u+1,y=M.createImageData(t,s);let x=0;const j=a.data,H=y.data;for(let W=0;W<S;W++){const z=W<u?s:l;({srcPos:x}=(0,re.applyMaskImageData)({src:j,srcPos:x,dest:H,width:t,height:z})),M.putImageData(y,0,W*s)}}function v(M,a){const d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,l=d.length;t<l;t++){const u=d[t];void 0!==M[u]&&(a[u]=M[u])}void 0!==M.setLineDash&&(a.setLineDash(M.getLineDash()),a.lineDashOffset=M.lineDashOffset)}function T(M,a){M.strokeStyle=M.fillStyle=a||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",void 0!==M.setLineDash&&(M.setLineDash([]),M.lineDashOffset=0)}function R(M,a,d,t){const l=M.length;for(let u=3;u<l;u+=4){const S=M[u];if(0===S)M[u-3]=a,M[u-2]=d,M[u-1]=t;else if(S<255){const y=255-S;M[u-3]=M[u-3]*S+a*y>>8,M[u-2]=M[u-2]*S+d*y>>8,M[u-1]=M[u-1]*S+t*y>>8}}}function I(M,a,d){const t=M.length;for(let u=3;u<t;u+=4)a[u]=a[u]*(d?d[M[u]]:M[u])*.00392156862745098|0}function U(M,a,d){const t=M.length;for(let l=3;l<t;l+=4){const u=77*M[l-3]+152*M[l-2]+28*M[l-1];a[l]=d?a[l]*d[u>>8]>>8:a[l]*u>>16}}function Z(M,a){const d=_.Util.singularValueDecompose2dScale(M);d[0]=Math.fround(d[0]),d[1]=Math.fround(d[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:d[0]<=t||d[1]<=t}const V=["butt","round","square"],$=["miter","round","bevel"],ee={},ae={};class he{constructor(a,d,t,l,u,S,y,x){this.ctx=a,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=d,this.objs=t,this.canvasFactory=l,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=S,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=y,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==x?void 0:x.background)||null,this.foregroundColor=(null==x?void 0:x.foreground)||null,a&&P(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,d=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):d}beginDrawing({transform:a,viewport:d,transparency:t=!1,background:l=null}){const u=this.ctx.canvas.width,S=this.ctx.canvas.height,y=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const x=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const j=this.backgroundColor=this.ctx.fillStyle;let H=!0,W=y;if(this.ctx.fillStyle=y,W=this.ctx.fillStyle,H="string"==typeof W&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===x&&"#ffffff"===j||x===j||!H)this.foregroundColor=this.backgroundColor=null;else{const z=parseInt(W.slice(1),16),te=(z&&65280)>>8,de=z&&255,be=le=>(le/=255)<=.03928?le/12.92:((le+.055)/1.055)**2.4,K=Math.round(.2126*be((z&&16711680)>>16)+.7152*be(te)+.0722*be(de));this.selectColor=(le,ce,w)=>{const N=.2126*be(le)+.7152*be(ce)+.0722*be(w);return Math.round(N)===K?j:x}}}if(this.ctx.fillStyle=this.backgroundColor||y,this.ctx.fillRect(0,0,u,S),this.ctx.restore(),t){const x=this.cachedCanvases.getCanvas("transparent",u,S,!0);this.compositeCtx=this.ctx,this.transparentCanvas=x.canvas,this.ctx=x.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),T(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,d.transform),this.viewportScale=d.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,d,t,l){const u=a.argsArray,S=a.fnArray;let y=d||0;const x=u.length;if(x===y)return y;const j=x-y>10&&"function"==typeof t,H=j?Date.now()+15:0;let W=0;const z=this.commonObjs,Q=this.objs;let te;for(;;){if(void 0!==l&&y===l.nextBreakPoint)return l.breakIt(y,t),y;if(te=S[y],te!==_.OPS.dependency)this[te].apply(this,u[y]);else for(const de of u[y]){const be=de.startsWith("g_")?z:Q;if(!be.has(de))return be.get(de,t),y}if(y++,y===x)return y;if(j&&++W>10){if(Date.now()>H)return t(),y;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const d of a.values())"undefined"!=typeof HTMLCanvasElement&&d instanceof HTMLCanvasElement&&(d.width=d.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,d){const t=a.width,l=a.height;let H,W,u=Math.max(Math.hypot(d[0],d[1]),1),S=Math.max(Math.hypot(d[2],d[3]),1),y=t,x=l,j="prescale1";for(;u>2&&y>1||S>2&&x>1;){let z=y,Q=x;u>2&&y>1&&(z=Math.ceil(y/2),u/=y/z),S>2&&x>1&&(Q=Math.ceil(x/2),S/=x/Q),H=this.cachedCanvases.getCanvas(j,z,Q,!1),W=H.context,W.clearRect(0,0,z,Q),W.drawImage(a,0,0,y,x,0,0,z,Q),a=H.canvas,y=z,x=Q,j="prescale1"===j?"prescale2":"prescale1"}return{img:a,paintWidth:y,paintHeight:x}}_createMaskCanvas(a){const d=this.ctx,{width:t,height:l}=a,u=this.current.fillColor,S=this.current.patternFill,y=d.mozCurrentTransform;let x,j,H,W;if((a.bitmap||a.data)&&a.count>1){const fe=a.bitmap||a.data.buffer,ue=y.slice(0,4);j=JSON.stringify(S?ue:[ue,u]),x=this._cachedBitmapsMap.get(fe),x||(x=new Map,this._cachedBitmapsMap.set(fe,x));const ge=x.get(j);if(ge&&!S)return{canvas:ge,offsetX:Math.round(Math.min(y[0],y[2])+y[4]),offsetY:Math.round(Math.min(y[1],y[3])+y[5])};H=ge}H||(W=this.cachedCanvases.getCanvas("maskCanvas",t,l,!1),b(W.context,a));let z=_.Util.transform(y,[1/t,0,0,-1/l,0,0]);z=_.Util.transform(z,[1,0,0,1,0,-l]);const Q=_.Util.applyTransform([0,0],z),te=_.Util.applyTransform([t,l],z),de=_.Util.normalizeRect([Q[0],Q[1],te[0],te[1]]),be=Math.round(de[2]-de[0])||1,K=Math.round(de[3]-de[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",be,K,!0),ce=le.context,w=Math.min(Q[0],te[0]),N=Math.min(Q[1],te[1]);ce.translate(-w,-N),ce.transform.apply(ce,z),H||(H=this._scaleImage(W.canvas,ce.mozCurrentTransformInverse),H=H.img,x&&S&&x.set(j,H)),ce.imageSmoothingEnabled=Z(ce.mozCurrentTransform,a.interpolate),g(ce,H,0,0,H.width,H.height,0,0,t,l),ce.globalCompositeOperation="source-in";const X=_.Util.transform(ce.mozCurrentTransformInverse,[1,0,0,1,-w,-N]);return ce.fillStyle=S?u.getPattern(d,this,X,pe.PathType.FILL):u,ce.fillRect(0,0,t,l),x&&!S&&(this.cachedCanvases.delete("fillCanvas"),x.set(j,le.canvas)),{canvas:le.canvas,offsetX:Math.round(w),offsetY:Math.round(N)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=V[a]}setLineJoin(a){this.ctx.lineJoin=$[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,d){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(a),t.lineDashOffset=d)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let d=0,t=a.length;d<t;d++){const l=a[d],S=l[1];switch(l[0]){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S[0],S[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=S;break;case"SMask":this.current.activeSMask=S?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=S}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,u),function c(M,a){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){a.save(),this.__originalSave()},M.restore=function(){a.restore(),this.__originalRestore()},M.translate=function(t,l){a.translate(t,l),this.__originalTranslate(t,l)},M.scale=function(t,l){a.scale(t,l),this.__originalScale(t,l)},M.transform=function(t,l,u,S,y,x){a.transform(t,l,u,S,y,x),this.__originalTransform(t,l,u,S,y,x)},M.setTransform=function(t,l,u,S,y,x){a.setTransform(t,l,u,S,y,x),this.__originalSetTransform(t,l,u,S,y,x)},M.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},M.rotate=function(t){a.rotate(t),this.__originalRotate(t)},M.clip=function(t){a.clip(t),this.__originalClip(t)},M.moveTo=function(d,t){a.moveTo(d,t),this.__originalMoveTo(d,t)},M.lineTo=function(d,t){a.lineTo(d,t),this.__originalLineTo(d,t)},M.bezierCurveTo=function(d,t,l,u,S,y){a.bezierCurveTo(d,t,l,u,S,y),this.__originalBezierCurveTo(d,t,l,u,S,y)},M.rect=function(d,t,l,u){a.rect(d,t,l,u),this.__originalRect(d,t,l,u)},M.closePath=function(){a.closePath(),this.__originalClosePath()},M.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function q(M,a,d,t){const l=t[0],u=t[1],S=t[2]-l,y=t[3]-u;0===S||0===y||(function G(M,a,d,t,l,u,S,y,x,j,H){const W=!!u,z=W?u[0]:0,Q=W?u[1]:0,te=W?u[2]:0;let de;de="Luminosity"===l?U:I;const K=Math.min(t,Math.ceil(1048576/d));for(let le=0;le<t;le+=K){const ce=Math.min(K,t-le),w=M.getImageData(y-j,le+(x-H),d,ce),N=a.getImageData(y,le+x,d,ce);W&&R(w.data,z,Q,te),de(w.data,N.data,S),a.putImageData(N,y,le+x)}}(a.context,d,S,y,a.subtype,a.backdrop,a.transferMap,l,u,a.offsetX,a.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(d.canvas,0,0),M.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,d,t,l,u,S){this.ctx.transform(a,d,t,l,u,S),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,d,t){const l=this.ctx,u=this.current;let x,j,S=u.x,y=u.y;const H=l.mozCurrentTransform,W=0===H[0]&&0===H[3]||0===H[1]&&0===H[2],z=W?t.slice(0):null;for(let Q=0,te=0,de=a.length;Q<de;Q++)switch(0|a[Q]){case _.OPS.rectangle:S=d[te++],y=d[te++];const be=d[te++],K=d[te++],le=S+be,ce=y+K;l.moveTo(S,y),0===be||0===K?l.lineTo(le,ce):(l.lineTo(le,y),l.lineTo(le,ce),l.lineTo(S,ce)),W||u.updateRectMinMax(H,[S,y,le,ce]),l.closePath();break;case _.OPS.moveTo:S=d[te++],y=d[te++],l.moveTo(S,y),W||u.updatePathMinMax(H,S,y);break;case _.OPS.lineTo:S=d[te++],y=d[te++],l.lineTo(S,y),W||u.updatePathMinMax(H,S,y);break;case _.OPS.curveTo:x=S,j=y,S=d[te+4],y=d[te+5],l.bezierCurveTo(d[te],d[te+1],d[te+2],d[te+3],S,y),u.updateCurvePathMinMax(H,x,j,d[te],d[te+1],d[te+2],d[te+3],S,y,z),te+=6;break;case _.OPS.curveTo2:x=S,j=y,l.bezierCurveTo(S,y,d[te],d[te+1],d[te+2],d[te+3]),u.updateCurvePathMinMax(H,x,j,S,y,d[te],d[te+1],d[te+2],d[te+3],z),S=d[te+2],y=d[te+3],te+=4;break;case _.OPS.curveTo3:x=S,j=y,S=d[te+2],y=d[te+3],l.bezierCurveTo(d[te],d[te+1],S,y,S,y),u.updateCurvePathMinMax(H,x,j,d[te],d[te+1],S,y,S,y,z),te+=4;break;case _.OPS.closePath:l.closePath()}W&&u.updateScalingPathMinMax(H,z),u.setCurrentPoint(S,y)}closePath(){this.ctx.closePath()}stroke(a){a=void 0===a||a;const d=this.ctx,t=this.current.strokeColor;d.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&(null==t?void 0:t.getPattern)?(d.save(),d.strokeStyle=t.getPattern(d,this,d.mozCurrentTransformInverse,pe.PathType.STROKE),this.rescaleAndStroke(!1),d.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),d.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=void 0===a||a;const d=this.ctx,t=this.current.fillColor;let u=!1;this.current.patternFill&&(d.save(),d.fillStyle=t.getPattern(d,this,d.mozCurrentTransformInverse,pe.PathType.FILL),u=!0);const S=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==S&&(this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill()),u&&d.restore(),a&&this.consumePath(S)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ee}eoClip(){this.pendingClip=ae}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,d=this.ctx;if(void 0!==a){d.save(),d.beginPath();for(let t=0;t<a.length;t++){const l=a[t];d.setTransform.apply(d,l.transform),d.translate(l.x,l.y),l.addToPath(d,l.fontSize)}d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}else d.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,d){const t=this.commonObjs.get(a),l=this.current;if(!t)throw new Error(`Can't find font for ${a}`);if(l.fontMatrix=t.fontMatrix||_.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,_.warn)("Invalid font matrix for font "+a),d<0?(d=-d,l.fontDirection=-1):l.fontDirection=1,this.current.font=t,this.current.fontSize=d,t.isType3Font)return;let S="normal";t.black?S="900":t.bold&&(S="bold");const y=t.italic?"italic":"normal",x=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let j=d;d<16?j=16:d>100&&(j=100),this.current.fontSizeScale=d/j,this.ctx.font=`${y} ${S} ${j}px ${x}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,d){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=d}setLeadingMoveText(a,d){this.setLeading(-d),this.moveText(a,d)}setTextMatrix(a,d,t,l,u,S){this.current.textMatrix=[a,d,t,l,u,S],this.current.textMatrixScale=Math.hypot(a,d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,d,t,l){const u=this.ctx,S=this.current,y=S.font,x=S.textRenderingMode,j=S.fontSize/S.fontSizeScale,H=x&_.TextRenderingMode.FILL_STROKE_MASK,W=!!(x&_.TextRenderingMode.ADD_TO_PATH_FLAG),z=S.patternFill&&!y.missingFile;let Q;(y.disableFontFace||W||z)&&(Q=y.getPathGenerator(this.commonObjs,a)),y.disableFontFace||z?(u.save(),u.translate(d,t),u.beginPath(),Q(u,j),l&&u.setTransform.apply(u,l),(H===_.TextRenderingMode.FILL||H===_.TextRenderingMode.FILL_STROKE)&&u.fill(),(H===_.TextRenderingMode.STROKE||H===_.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((H===_.TextRenderingMode.FILL||H===_.TextRenderingMode.FILL_STROKE)&&u.fillText(a,d,t),(H===_.TextRenderingMode.STROKE||H===_.TextRenderingMode.FILL_STROKE)&&u.strokeText(a,d,t)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:d,y:t,fontSize:j,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const d=a.getImageData(0,0,10,10).data;let t=!1;for(let l=3;l<d.length;l+=4)if(d[l]>0&&d[l]<255){t=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(a){const d=this.current,t=d.font;if(t.isType3Font)return this.showType3Text(a);const l=d.fontSize;if(0===l)return;const u=this.ctx,S=d.fontSizeScale,y=d.charSpacing,x=d.wordSpacing,j=d.fontDirection,H=d.textHScale*j,W=a.length,z=t.vertical,Q=z?1:-1,te=t.defaultVMetrics,de=l*d.fontMatrix[0],be=d.textRenderingMode===_.TextRenderingMode.FILL&&!t.disableFontFace&&!d.patternFill;let K;if(u.save(),u.transform.apply(u,d.textMatrix),u.translate(d.x,d.y+d.textRise),u.scale(H,j>0?-1:1),d.patternFill){u.save();const X=d.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,pe.PathType.FILL);K=u.mozCurrentTransform,u.restore(),u.fillStyle=X}let le=d.lineWidth;const ce=d.textMatrixScale;if(0===ce||0===le){const X=d.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;(X===_.TextRenderingMode.STROKE||X===_.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=ce;1!==S&&(u.scale(S,S),le/=S),u.lineWidth=le;let N,w=0;for(N=0;N<W;++N){const X=a[N];if("number"==typeof X){w+=Q*X*l/1e3;continue}let fe=!1;const ue=(X.isSpace?x:0)+y,ge=X.fontChar,Ae=X.accent;let ye,xe,Le,Ee=X.width;if(z){const se=X.vmetric||te,k=-(X.vmetric?se[1]:.5*Ee)*de;Ee=se?-se[0]:Ee,ye=k/S,xe=(w+se[2]*de)/S}else ye=w/S,xe=0;if(t.remeasure&&Ee>0){const se=1e3*u.measureText(ge).width/l*S;if(Ee<se&&this.isFontSubpixelAAEnabled){const k=Ee/se;fe=!0,u.save(),u.scale(k,1),ye/=k}else Ee!==se&&(ye+=(Ee-se)/2e3*l/S)}this.contentVisible&&(X.isInFont||t.missingFile)&&(be&&!Ae?u.fillText(ge,ye,xe):(this.paintChar(ge,ye,xe,K),Ae&&this.paintChar(Ae.fontChar,ye+l*Ae.offset.x/S,xe-l*Ae.offset.y/S,K))),Le=z?Ee*de-ue*j:Ee*de+ue*j,w+=Le,fe&&u.restore()}z?d.y-=w:d.x+=w*H,u.restore(),this.compose()}showType3Text(a){const d=this.ctx,t=this.current,l=t.font,u=t.fontSize,S=t.fontDirection,y=l.vertical?1:-1,x=t.charSpacing,j=t.wordSpacing,H=t.textHScale*S,W=t.fontMatrix||_.FONT_IDENTITY_MATRIX,z=a.length;let te,de,be,K;if(t.textRenderingMode!==_.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,d.save(),d.transform.apply(d,t.textMatrix),d.translate(t.x,t.y),d.scale(H,S),te=0;te<z;++te){if(de=a[te],"number"==typeof de){K=y*de*u/1e3,this.ctx.translate(K,0),t.x+=K*H;continue}const le=(de.isSpace?j:0)+x,ce=l.charProcOperatorList[de.operatorListId];ce?(this.contentVisible&&(this.processingType3=de,this.save(),d.scale(u,u),d.transform.apply(d,W),this.executeOperatorList(ce),this.restore()),be=_.Util.applyTransform([de.width,0],W)[0]*u+le,d.translate(be,0),t.x+=be*H):(0,_.warn)(`Type3 character "${de.operatorListId}" is not available.`)}d.restore(),this.processingType3=null}}setCharWidth(a,d){}setCharWidthAndBounds(a,d,t,l,u,S){this.ctx.rect(t,l,u-t,S-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let d;if("TilingPattern"===a[0]){const t=a[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();d=new pe.TilingPattern(a,t,this.ctx,{createCanvasGraphics:S=>new he(S,this.commonObjs,this.objs,this.canvasFactory)},l)}else d=this._getPattern(a[1],a[2]);return d}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,d,t){var u;const l=(null==(u=this.selectColor)?void 0:u.call(this,a,d,t))||_.Util.makeHexColor(a,d,t);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(a,d,t){var u;const l=(null==(u=this.selectColor)?void 0:u.call(this,a,d,t))||_.Util.makeHexColor(a,d,t);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(a,d=null){let t;return this.cachedPatterns.has(a)?t=this.cachedPatterns.get(a):(t=(0,pe.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,t)),d&&(t.matrix=d),t}shadingFill(a){if(!this.contentVisible)return;const d=this.ctx;this.save();const t=this._getPattern(a);d.fillStyle=t.getPattern(d,this,d.mozCurrentTransformInverse,pe.PathType.SHADING);const l=d.mozCurrentTransformInverse;if(l){const u=d.canvas,S=u.width,y=u.height,x=_.Util.applyTransform([0,0],l),j=_.Util.applyTransform([0,y],l),H=_.Util.applyTransform([S,0],l),W=_.Util.applyTransform([S,y],l),z=Math.min(x[0],j[0],H[0],W[0]),Q=Math.min(x[1],j[1],H[1],W[1]),te=Math.max(x[0],j[0],H[0],W[0]),de=Math.max(x[1],j[1],H[1],W[1]);this.ctx.fillRect(z,Q,te-z,de-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,d){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,d)&&(this.ctx.rect(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,d),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const d=this.ctx;a.isolated||(0,_.info)("TODO: Support non-isolated groups."),a.knockout&&(0,_.warn)("Knockout groups not supported.");const t=d.mozCurrentTransform;if(a.matrix&&d.transform.apply(d,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let l=_.Util.getAxialAlignedBoundingBox(a.bbox,d.mozCurrentTransform);l=_.Util.intersect(l,[0,0,d.canvas.width,d.canvas.height])||[0,0,0,0];const S=Math.floor(l[0]),y=Math.floor(l[1]);let x=Math.max(Math.ceil(l[2])-S,1),j=Math.max(Math.ceil(l[3])-y,1),H=1,W=1;x>E&&(H=x/E,x=E),j>E&&(W=j/E,j=E),this.current.startNewPathAndClipBox([0,0,x,j]);let z="groupAt"+this.groupLevel;a.smask&&(z+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(z,x,j,!0),te=Q.context;te.scale(1/H,1/W),te.translate(-S,-y),te.transform.apply(te,t),a.smask?this.smaskStack.push({canvas:Q.canvas,context:te,offsetX:S,offsetY:y,scaleX:H,scaleY:W,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate(S,y),d.scale(H,W),d.save()),v(d,te),this.ctx=te,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const d=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const u=_.Util.getAxialAlignedBoundingBox([0,0,d.canvas.width,d.canvas.height],l);this.ctx.drawImage(d.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,d,t,l,u){if(this.save(),Array.isArray(d)&&4===d.length){const S=d[2]-d[0],y=d[3]-d[1];if(u&&this.annotationCanvasMap){(t=t.slice())[4]-=d[0],t[5]-=d[1],(d=d.slice())[0]=d[1]=0,d[2]=S,d[3]=y;const[x,j]=_.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:H}=this,W=Math.ceil(S*this.outputScaleX*H),z=Math.ceil(y*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(W,z);const{canvas:Q,context:te}=this.annotationCanvas,de=`var(--zoom-factor) * ${ne.PixelsPerInch.PDF_TO_CSS_UNITS}`;Q.style.width=`calc(${S}px * ${de})`,Q.style.height=`calc(${y}px * ${de})`,this.annotationCanvasMap.set(a,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=te,this.ctx.setTransform(x,0,0,-j,0,y*j),P(this.ctx),T(this.ctx,this.foregroundColor)}else T(this.ctx,this.foregroundColor),this.ctx.rect(d[0],d[1],S,y),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const d=a.count;(a=this.getObject(a.data,a)).count=d;const t=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function e(M){const{width:a,height:d}=M;if(a>1e3||d>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=a+1;let y,x,j,S=new Uint8Array(u*(d+1));const H=a+7&-8;let W=new Uint8Array(H*d),z=0;for(const ce of M.data){let w=128;for(;w>0;)W[z++]=ce&w?0:255,w>>=1}let Q=0;for(z=0,0!==W[z]&&(S[0]=1,++Q),x=1;x<a;x++)W[z]!==W[z+1]&&(S[x]=W[z]?2:1,++Q),z++;for(0!==W[z]&&(S[x]=2,++Q),y=1;y<d;y++){z=y*H,j=y*u,W[z-H]!==W[z]&&(S[j]=W[z]?1:8,++Q);let ce=(W[z]?4:0)+(W[z-H]?8:0);for(x=1;x<a;x++)ce=(ce>>2)+(W[z+1]?4:0)+(W[z-H+1]?8:0),l[ce]&&(S[j+x]=l[ce],++Q),z++;if(W[z-H]!==W[z]&&(S[j+x]=W[z]?2:4,++Q),Q>1e3)return null}for(z=H*(d-1),j=y*u,0!==W[z]&&(S[j]=8,++Q),x=1;x<a;x++)W[z]!==W[z+1]&&(S[j+x]=W[z]?4:8,++Q),z++;if(0!==W[z]&&(S[j+x]=4,++Q),Q>1e3)return null;const te=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let de,be,K;for(ie.isNodeJS?be=[]:de=new Path2D,y=0;Q&&y<=d;y++){let ce=y*u;const w=ce+a;for(;ce<w&&!S[ce];)ce++;if(ce===w)continue;de?de.moveTo(ce%u,y):K=[ce%u,y];const N=ce;let X=S[ce];do{const fe=te[X];do{ce+=fe}while(!S[ce]);const ue=S[ce];5!==ue&&10!==ue?(X=ue,S[ce]=0):(X=ue&51*X>>4,S[ce]&=X>>2|X<<2),de?de.lineTo(ce%u,ce/u|0):K.push(ce%u,ce/u|0),S[ce]||--Q}while(N!==ce);de||be.push(K),--y}return W=null,S=null,function(ce){if(ce.save(),ce.scale(1/a,-1/d),ce.translate(0,-d),de)ce.fill(de);else{ce.beginPath();for(const w of be){ce.moveTo(w[0],w[1]);for(let N=2,X=w.length;N<X;N+=2)ce.lineTo(w[N],w[N+1])}ce.fill()}ce.beginPath(),ce.restore()}}(a)),l.compiled))return void l.compiled(t);const u=this._createMaskCanvas(a),S=u.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(S,u.offsetX,u.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(a,d,t=0,l=0,u,S){if(!this.contentVisible)return;a=this.getObject(a.data,a);const y=this.ctx;y.save();const x=y.mozCurrentTransform;y.transform(d,t,l,u,0,0);const j=this._createMaskCanvas(a);y.setTransform(1,0,0,1,0,0);for(let H=0,W=S.length;H<W;H+=2){const z=_.Util.transform(x,[d,t,l,u,S[H],S[H+1]]),[Q,te]=_.Util.applyTransform([0,0],z);y.drawImage(j.canvas,Q,te)}y.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const d=this.ctx,t=this.current.fillColor,l=this.current.patternFill;for(let u=0,S=a.length;u<S;u++){const y=a[u],x=y.width,j=y.height,H=this.cachedCanvases.getCanvas("maskCanvas",x,j,!1),W=H.context;W.save(),b(W,y),W.globalCompositeOperation="source-in",W.fillStyle=l?t.getPattern(W,this,d.mozCurrentTransformInverse,pe.PathType.FILL):t,W.fillRect(0,0,x,j),W.restore(),d.save(),d.transform.apply(d,y.transform),d.scale(1,-1),g(d,H.canvas,0,0,x,j,0,-1,1,1),d.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const d=this.getObject(a);d?this.paintInlineImageXObject(d):(0,_.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,d,t,l){if(!this.contentVisible)return;const u=this.getObject(a);if(!u)return void(0,_.warn)("Dependent image isn't ready yet");const S=u.width,y=u.height,x=[];for(let j=0,H=l.length;j<H;j+=2)x.push({transform:[d,0,0,t,l[j],l[j+1]],x:0,y:0,w:S,h:y});this.paintInlineImageXObjectGroup(u,x)}paintInlineImageXObject(a){if(!this.contentVisible)return;const d=a.width,t=a.height,l=this.ctx;let u;if(this.save(),l.scale(1/d,-1/t),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)u=a;else{const j=this.cachedCanvases.getCanvas("inlineImage",d,t,!1);m(j.context,a,this.current.transferMaps),u=j.canvas}const S=this._scaleImage(u,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=Z(l.mozCurrentTransform,a.interpolate);const[y,x]=g(l,S.img,0,0,S.paintWidth,S.paintHeight,0,-t,d,t);if(this.imageLayer){const j=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:a,left:j[0],top:j[1],width:y,height:x})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,d){if(!this.contentVisible)return;const t=this.ctx,l=a.width,u=a.height,S=this.cachedCanvases.getCanvas("inlineImage",l,u,!1);m(S.context,a,this.current.transferMaps);for(let x=0,j=d.length;x<j;x++){const H=d[x];if(t.save(),t.transform.apply(t,H.transform),t.scale(1,-1),g(t,S.canvas,H.x,H.y,H.w,H.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(H.x,H.y);this.imageLayer.appendImage({imgData:a,left:W[0],top:W[1],width:l,height:u})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,d){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,d){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(d)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const t=this.ctx;this.pendingClip&&(d||(this.pendingClip===ae?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const d=Math.abs(a[0]*a[3]-a[2]*a[1]),t=Math.hypot(a[0],a[2]),l=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(t,l)/d}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,d=this.ctx.mozCurrentTransform;let t,l;if(0===d[1]&&0===d[2]){const u=Math.abs(d[0]),S=Math.abs(d[3]);if(0===a)t=1/u,l=1/S;else{const y=u*a,x=S*a;t=y<1?1/y:1,l=x<1?1/x:1}}else{const u=Math.abs(d[0]*d[3]-d[2]*d[1]),S=Math.hypot(d[0],d[1]),y=Math.hypot(d[2],d[3]);if(0===a)t=y/u,l=S/u;else{const x=a*u;t=y>x?y/x:1,l=S>x?S/x:1}}this._cachedScaleForStroking=[t,l]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:d}=this,{lineWidth:t}=this.current,[l,u]=this.getScaleForStroking();if(d.lineWidth=t||1,1===l&&1===u)return void d.stroke();let S,y,x;a&&(S=d.mozCurrentTransform.slice(),y=d.getLineDash().slice(),x=d.lineDashOffset),d.scale(l,u);const j=Math.max(l,u);d.setLineDash(d.getLineDash().map(H=>H/j)),d.lineDashOffset/=j,d.stroke(),a&&(d.setTransform(...S),d.setLineDash(y),d.lineDashOffset=x)}getCanvasPosition(a,d){const t=this.ctx.mozCurrentTransform;return[t[0]*a+t[2]*d+t[4],t[1]*a+t[3]*d+t[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}L.CanvasGraphics=he;for(const M in _.OPS)void 0!==he.prototype[M]&&(he.prototype[_.OPS[M]]=he.prototype[M])},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function C(n){switch(n[0]){case"RadialAxial":return new B(n);case"Mesh":return new A(n);case"Dummy":return new r}throw new Error(`Unknown IR type: ${n[0]}`)};var _=J(1),pe=J(3);const re={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(n,c){if(!c||pe.isNodeJS)return;const P=c[2]-c[0],f=c[3]-c[1],g=new Path2D;g.rect(c[0],c[1],P,f),n.clip(g)}L.PathType=re;class ne{constructor(){this.constructor===ne&&(0,_.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_.unreachable)("Abstract method `getPattern` called.")}}class B extends ne{constructor(c){super(),this._type=c[1],this._bbox=c[2],this._colorStops=c[3],this._p0=c[4],this._p1=c[5],this._r0=c[6],this._r1=c[7],this.matrix=null}_createGradient(c){let P;"axial"===this._type?P=c.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(P=c.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const f of this._colorStops)P.addColorStop(f[0],f[1]);return P}getPattern(c,P,f,g){let e;if(g===re.STROKE||g===re.FILL){const i=P.current.getClippedPathBoundingBox(g,c.mozCurrentTransform)||[0,0,0,0],m=Math.ceil(i[2]-i[0])||1,b=Math.ceil(i[3]-i[1])||1,v=P.cachedCanvases.getCanvas("pattern",m,b,!0),T=v.context;T.clearRect(0,0,T.canvas.width,T.canvas.height),T.beginPath(),T.rect(0,0,T.canvas.width,T.canvas.height),T.translate(-i[0],-i[1]),f=_.Util.transform(f,[1,0,0,1,i[0],i[1]]),T.transform.apply(T,P.baseTransform),this.matrix&&T.transform.apply(T,this.matrix),ie(T,this._bbox),T.fillStyle=this._createGradient(T),T.fill(),e=c.createPattern(v.canvas,"no-repeat");const R=new DOMMatrix(f);try{e.setTransform(R)}catch(I){(0,_.warn)(`RadialAxialShadingPattern.getPattern: "${null==I?void 0:I.message}".`)}}else ie(c,this._bbox),e=this._createGradient(c);return e}}function h(n,c,P,f,g,e,i,m){const b=c.coords,v=c.colors,T=n.data,R=4*n.width;let I;b[P+1]>b[f+1]&&(I=P,P=f,f=I,I=e,e=i,i=I),b[f+1]>b[g+1]&&(I=f,f=g,g=I,I=i,i=m,m=I),b[P+1]>b[f+1]&&(I=P,P=f,f=I,I=e,e=i,i=I);const U=(b[P]+c.offsetX)*c.scaleX,G=(b[P+1]+c.offsetY)*c.scaleY,q=(b[f]+c.offsetX)*c.scaleX,Z=(b[f+1]+c.offsetY)*c.scaleY,V=(b[g]+c.offsetX)*c.scaleX,$=(b[g+1]+c.offsetY)*c.scaleY;if(G>=$)return;const ee=v[e],ae=v[e+1],he=v[e+2],M=v[i],a=v[i+1],d=v[i+2],t=v[m],l=v[m+1],u=v[m+2],S=Math.round(G),y=Math.round($);let x,j,H,W,z,Q,te,de;for(let be=S;be<=y;be++){if(be<Z){let N;N=be<G?0:(G-be)/(G-Z),x=U-(U-q)*N,j=ee-(ee-M)*N,H=ae-(ae-a)*N,W=he-(he-d)*N}else{let N;N=be>$?1:Z===$?0:(Z-be)/(Z-$),x=q-(q-V)*N,j=M-(M-t)*N,H=a-(a-l)*N,W=d-(d-u)*N}let K;K=be<G?0:be>$?1:(G-be)/(G-$),z=U-(U-V)*K,Q=ee-(ee-t)*K,te=ae-(ae-l)*K,de=he-(he-u)*K;const le=Math.round(Math.min(x,z)),ce=Math.round(Math.max(x,z));let w=R*be+4*le;for(let N=le;N<=ce;N++)K=(x-N)/(x-z),K<0?K=0:K>1&&(K=1),T[w++]=j-(j-Q)*K|0,T[w++]=H-(H-te)*K|0,T[w++]=W-(W-de)*K|0,T[w++]=255}}function E(n,c,P){const f=c.coords,g=c.colors;let e,i;switch(c.type){case"lattice":const m=c.verticesPerRow,b=Math.floor(f.length/m)-1,v=m-1;for(e=0;e<b;e++){let T=e*m;for(let R=0;R<v;R++,T++)h(n,P,f[T],f[T+1],f[T+m],g[T],g[T+1],g[T+m]),h(n,P,f[T+m+1],f[T+1],f[T+m],g[T+m+1],g[T+1],g[T+m])}break;case"triangles":for(e=0,i=f.length;e<i;e+=3)h(n,P,f[e],f[e+1],f[e+2],g[e],g[e+1],g[e+2]);break;default:throw new Error("illegal figure")}}class A extends ne{constructor(c){super(),this._coords=c[2],this._colors=c[3],this._figures=c[4],this._bounds=c[5],this._bbox=c[7],this._background=c[8],this.matrix=null}_createMeshCanvas(c,P,f){const m=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-m,T=Math.ceil(this._bounds[3])-b,R=Math.min(Math.ceil(Math.abs(v*c[0]*1.1)),3e3),I=Math.min(Math.ceil(Math.abs(T*c[1]*1.1)),3e3),U=v/R,G=T/I,q={coords:this._coords,colors:this._colors,offsetX:-m,offsetY:-b,scaleX:1/U,scaleY:1/G},$=f.getCanvas("mesh",R+4,I+4,!1),ee=$.context,ae=ee.createImageData(R,I);if(P){const M=ae.data;for(let a=0,d=M.length;a<d;a+=4)M[a]=P[0],M[a+1]=P[1],M[a+2]=P[2],M[a+3]=255}for(const M of this._figures)E(ae,M,q);return ee.putImageData(ae,2,2),{canvas:$.canvas,offsetX:m-2*U,offsetY:b-2*G,scaleX:U,scaleY:G}}getPattern(c,P,f,g){let e;if(ie(c,this._bbox),g===re.SHADING)e=_.Util.singularValueDecompose2dScale(c.mozCurrentTransform);else if(e=_.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const m=_.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*m[0],e[1]*m[1]]}const i=this._createMeshCanvas(e,g===re.SHADING?null:this._background,P.cachedCanvases);return g!==re.SHADING&&(c.setTransform.apply(c,P.baseTransform),this.matrix&&c.transform.apply(c,this.matrix)),c.translate(i.offsetX,i.offsetY),c.scale(i.scaleX,i.scaleY),c.createPattern(i.canvas,"no-repeat")}}class r extends ne{getPattern(){return"hotpink"}}class s{static get MAX_PATTERN_SIZE(){return(0,_.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(c,P,f,g,e){this.operatorList=c[2],this.matrix=c[3]||[1,0,0,1,0,0],this.bbox=c[4],this.xstep=c[5],this.ystep=c[6],this.paintType=c[7],this.tilingType=c[8],this.color=P,this.ctx=f,this.canvasGraphicsFactory=g,this.baseTransform=e}createPatternCanvas(c){const P=this.operatorList,f=this.bbox,g=this.xstep,e=this.ystep,i=this.paintType,b=this.color,v=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+this.tilingType);const T=f[0],R=f[1],I=f[2],U=f[3],G=_.Util.singularValueDecompose2dScale(this.matrix),q=_.Util.singularValueDecompose2dScale(this.baseTransform),Z=[G[0]*q[0],G[1]*q[1]],V=this.getSizeAndScale(g,this.ctx.canvas.width,Z[0]),$=this.getSizeAndScale(e,this.ctx.canvas.height,Z[1]),ee=c.cachedCanvases.getCanvas("pattern",V.size,$.size,!0),ae=ee.context,he=v.createCanvasGraphics(ae);he.groupLevel=c.groupLevel,this.setFillAndStrokeStyleToContext(he,i,b);let M=T,a=R,d=I,t=U;return T<0&&(M=0,d+=Math.abs(T)),R<0&&(a=0,t+=Math.abs(R)),ae.translate(-V.scale*M,-$.scale*a),he.transform(V.scale,0,0,$.scale,0,0),ae.save(),this.clipBbox(he,M,a,d,t),he.baseTransform=he.ctx.mozCurrentTransform.slice(),he.executeOperatorList(P),he.endDrawing(),{canvas:ee.canvas,scaleX:V.scale,scaleY:$.scale,offsetX:M,offsetY:a}}getSizeAndScale(c,P,f){c=Math.abs(c);const g=Math.max(s.MAX_PATTERN_SIZE,P);let e=Math.ceil(c*f);return e>=g?e=g:f=e/c,{scale:f,size:e}}clipBbox(c,P,f,g,e){c.ctx.rect(P,f,g-P,e-f),c.current.updateRectMinMax(c.ctx.mozCurrentTransform,[P,f,g,e]),c.clip(),c.endPath()}setFillAndStrokeStyleToContext(c,P,f){const g=c.ctx,e=c.current;switch(P){case 1:const i=this.ctx;g.fillStyle=i.fillStyle,g.strokeStyle=i.strokeStyle,e.fillColor=i.fillStyle,e.strokeColor=i.strokeStyle;break;case 2:const m=_.Util.makeHexColor(f[0],f[1],f[2]);g.fillStyle=m,g.strokeStyle=m,e.fillColor=m,e.strokeColor=m;break;default:throw new _.FormatError(`Unsupported paint type: ${P}`)}}getPattern(c,P,f,g){let e=f;g!==re.SHADING&&(e=_.Util.transform(e,P.baseTransform),this.matrix&&(e=_.Util.transform(e,this.matrix)));const i=this.createPatternCanvas(P);let m=new DOMMatrix(e);m=m.translate(i.offsetX,i.offsetY),m=m.scale(1/i.scaleX,1/i.scaleY);const b=c.createPattern(i.canvas,"repeat");try{b.setTransform(m)}catch(v){(0,_.warn)(`TilingPattern.getPattern: "${null==v?void 0:v.message}".`)}return b}}L.TilingPattern=s},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.applyMaskImageData=function pe({src:re,srcPos:ie=0,dest:ne,destPos:B=0,width:h,height:E,inverseDecode:A=!1}){const r=_.FeatureTest.isLittleEndian?4278190080:255,[C,o]=A?[0,r]:[r,0],s=h>>3,n=7&h,c=re.length;ne=new Uint32Array(ne.buffer);for(let P=0;P<E;P++){for(const g=ie+s;ie<g;ie++){const e=ie<c?re[ie]:255;ne[B++]=128&e?o:C,ne[B++]=64&e?o:C,ne[B++]=32&e?o:C,ne[B++]=16&e?o:C,ne[B++]=8&e?o:C,ne[B++]=4&e?o:C,ne[B++]=2&e?o:C,ne[B++]=1&e?o:C}if(0===n)continue;const f=ie<c?re[ie++]:255;for(let g=0;g<n;g++)ne[B++]=f&1<<7-g?o:C}return{srcPos:ie,destPos:B}};var _=J(1)},(_e,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const J=Object.create(null);L.GlobalWorkerOptions=J,J.workerPort=void 0===J.workerPort?null:J.workerPort,J.workerSrc=void 0===J.workerSrc?"":J.workerSrc},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var _=J(1);function ie(B){switch(B instanceof Error||"object"==typeof B&&null!==B||(0,_.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),B.name){case"AbortException":return new _.AbortException(B.message);case"MissingPDFException":return new _.MissingPDFException(B.message);case"PasswordException":return new _.PasswordException(B.message,B.code);case"UnexpectedResponseException":return new _.UnexpectedResponseException(B.message,B.status);case"UnknownErrorException":return new _.UnknownErrorException(B.message,B.details);default:return new _.UnknownErrorException(B.message,B.toString())}}L.MessageHandler=class ne{constructor(h,E,A){this.sourceName=h,this.targetName=E,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const C=r.data;if(C.targetName!==this.sourceName)return;if(C.stream)return void this._processStreamMessage(C);if(C.callback){const s=C.callbackId,n=this.callbackCapabilities[s];if(!n)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],1===C.callback)n.resolve(C.data);else{if(2!==C.callback)throw new Error("Unexpected callback case");n.reject(ie(C.reason))}return}const o=this.actionHandler[C.action];if(!o)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const s=this.sourceName,n=C.sourceName;new Promise(function(c){c(o(C.data))}).then(function(c){A.postMessage({sourceName:s,targetName:n,callback:1,callbackId:C.callbackId,data:c})},function(c){A.postMessage({sourceName:s,targetName:n,callback:2,callbackId:C.callbackId,reason:ie(c)})})}else C.streamId?this._createStreamSink(C):o(C.data)},A.addEventListener("message",this._onComObjOnMessage)}on(h,E){const A=this.actionHandler;if(A[h])throw new Error(`There is already an actionName called "${h}"`);A[h]=E}send(h,E,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:E},A)}sendWithPromise(h,E,A){const r=this.callbackId++,C=(0,_.createPromiseCapability)();this.callbackCapabilities[r]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:r,data:E},A)}catch(o){C.reject(o)}return C.promise}sendWithStream(h,E,A,r){const C=this.streamId++,o=this.sourceName,s=this.targetName,n=this.comObj;return new ReadableStream({start:c=>{const P=(0,_.createPromiseCapability)();return this.streamControllers[C]={controller:c,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},n.postMessage({sourceName:o,targetName:s,action:h,streamId:C,data:E,desiredSize:c.desiredSize},r),P.promise},pull:c=>{const P=(0,_.createPromiseCapability)();return this.streamControllers[C].pullCall=P,n.postMessage({sourceName:o,targetName:s,stream:6,streamId:C,desiredSize:c.desiredSize}),P.promise},cancel:c=>{(0,_.assert)(c instanceof Error,"cancel must have a valid reason");const P=(0,_.createPromiseCapability)();return this.streamControllers[C].cancelCall=P,this.streamControllers[C].isClosed=!0,n.postMessage({sourceName:o,targetName:s,stream:1,streamId:C,reason:ie(c)}),P.promise}},A)}_createStreamSink(h){const E=h.streamId,A=this.sourceName,r=h.sourceName,C=this.comObj,o=this,s=this.actionHandler[h.action],n={enqueue(c,P=1,f){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=P,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_.createPromiseCapability)(),this.ready=this.sinkCapability.promise),C.postMessage({sourceName:A,targetName:r,stream:4,streamId:E,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:A,targetName:r,stream:3,streamId:E}),delete o.streamSinks[E])},error(c){(0,_.assert)(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:A,targetName:r,stream:5,streamId:E,reason:ie(c)}))},sinkCapability:(0,_.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};n.sinkCapability.resolve(),n.ready=n.sinkCapability.promise,this.streamSinks[E]=n,new Promise(function(c){c(s(h.data,n))}).then(function(){C.postMessage({sourceName:A,targetName:r,stream:8,streamId:E,success:!0})},function(c){C.postMessage({sourceName:A,targetName:r,stream:8,streamId:E,reason:ie(c)})})}_processStreamMessage(h){const E=h.streamId,A=this.sourceName,r=h.sourceName,C=this.comObj,o=this.streamControllers[E],s=this.streamSinks[E];switch(h.stream){case 8:h.success?o.startCall.resolve():o.startCall.reject(ie(h.reason));break;case 7:h.success?o.pullCall.resolve():o.pullCall.reject(ie(h.reason));break;case 6:if(!s){C.postMessage({sourceName:A,targetName:r,stream:7,streamId:E,success:!0});break}s.desiredSize<=0&&h.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=h.desiredSize,new Promise(function(n){n(s.onPull&&s.onPull())}).then(function(){C.postMessage({sourceName:A,targetName:r,stream:7,streamId:E,success:!0})},function(n){C.postMessage({sourceName:A,targetName:r,stream:7,streamId:E,reason:ie(n)})});break;case 4:if((0,_.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(h.chunk);break;case 3:if((0,_.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,E);break;case 5:(0,_.assert)(o,"error should have stream controller"),o.controller.error(ie(h.reason)),this._deleteStreamController(o,E);break;case 2:h.success?o.cancelCall.resolve():o.cancelCall.reject(ie(h.reason)),this._deleteStreamController(o,E);break;case 1:if(!s)break;new Promise(function(n){n(s.onCancel&&s.onCancel(ie(h.reason)))}).then(function(){C.postMessage({sourceName:A,targetName:r,stream:2,streamId:E,success:!0})},function(n){C.postMessage({sourceName:A,targetName:r,stream:2,streamId:E,reason:ie(n)})}),s.sinkCapability.reject(ie(h.reason)),s.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(h,E){var A=this;return _asyncToGenerator(function*(){yield Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete A.streamControllers[E]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(_e,L,J)=>{var re,ie;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var _=J(1);re=new WeakMap,ie=new WeakMap,L.Metadata=class pe{constructor({parsedData:B,rawData:h}){we(this,re,void 0),we(this,ie,void 0),Re(this,re,B),Re(this,ie,h)}getRaw(){return Se(this,ie)}get(B){var h;return null!=(h=Se(this,re).get(B))?h:null}getAll(){return(0,_.objectFromMap)(Se(this,re))}has(B){return Se(this,re).has(B)}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var _=J(1);class pe{constructor(ne,B){this.visible=!0,this.name=ne,this.intent=B}}L.OptionalContentConfig=class re{constructor(ne){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ne){this.name=ne.name,this.creator=ne.creator,this._order=ne.order;for(const B of ne.groups)this._groups.set(B.id,new pe(B.name,B.intent));if("OFF"===ne.baseState)for(const B of this._groups)B.visible=!1;for(const B of ne.on)this._groups.get(B).visible=!0;for(const B of ne.off)this._groups.get(B).visible=!1}}_evaluateVisibilityExpression(ne){const B=ne.length;if(B<2)return!0;const h=ne[0];for(let E=1;E<B;E++){const A=ne[E];let r;if(Array.isArray(A))r=this._evaluateVisibilityExpression(A);else{if(!this._groups.has(A))return(0,_.warn)(`Optional content group not found: ${A}`),!0;r=this._groups.get(A).visible}switch(h){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===h}isVisible(ne){if(0===this._groups.size)return!0;if(!ne)return(0,_.warn)("Optional content group not defined."),!0;if("OCG"===ne.type)return this._groups.has(ne.id)?this._groups.get(ne.id).visible:((0,_.warn)(`Optional content group not found: ${ne.id}`),!0);if("OCMD"===ne.type){if(ne.expression)return this._evaluateVisibilityExpression(ne.expression);if(!ne.policy||"AnyOn"===ne.policy){for(const B of ne.ids){if(!this._groups.has(B))return(0,_.warn)(`Optional content group not found: ${B}`),!0;if(this._groups.get(B).visible)return!0}return!1}if("AllOn"===ne.policy){for(const B of ne.ids){if(!this._groups.has(B))return(0,_.warn)(`Optional content group not found: ${B}`),!0;if(!this._groups.get(B).visible)return!1}return!0}if("AnyOff"===ne.policy){for(const B of ne.ids){if(!this._groups.has(B))return(0,_.warn)(`Optional content group not found: ${B}`),!0;if(!this._groups.get(B).visible)return!0}return!1}if("AllOff"===ne.policy){for(const B of ne.ids){if(!this._groups.has(B))return(0,_.warn)(`Optional content group not found: ${B}`),!0;if(this._groups.get(B).visible)return!1}return!0}return(0,_.warn)(`Unknown optional content policy ${ne.policy}.`),!0}return(0,_.warn)(`Unknown group type ${ne.type}.`),!0}setVisibility(ne,B=!0){this._groups.has(ne)?this._groups.get(ne).visible=!!B:(0,_.warn)(`Optional content group not found: ${ne}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,_.objectFromMap)(this._groups):null}getGroup(ne){return this._groups.get(ne)||null}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var _=J(1),pe=J(5);L.PDFDataTransportStream=class re{constructor(h,E){(0,_.assert)(E,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1,this._contentDispositionFilename=h.contentDispositionFilename||null;const A=h.initialData;if((null==A?void 0:A.length)>0){const r=new Uint8Array(A).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=E,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((r,C)=>{this._onReceiveData({begin:r,chunk:C})}),this._pdfDataRangeTransport.addProgressListener((r,C)=>{this._onProgress({loaded:r,total:C})}),this._pdfDataRangeTransport.addProgressiveReadListener(r=>{this._onReceiveData({chunk:r})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){const E=new Uint8Array(h.chunk).buffer;if(void 0===h.begin)this._fullRequestReader?this._fullRequestReader._enqueue(E):this._queuedChunks.push(E);else{const A=this._rangeReaders.some(function(r){return r._begin===h.begin&&(r._enqueue(E),!0)});(0,_.assert)(A,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var h,E;return null!=(E=null==(h=this._fullRequestReader)?void 0:h._loaded)?E:0}_onProgress(h){if(void 0===h.total){const E=this._rangeReaders[0];(null==E?void 0:E.onProgress)&&E.onProgress({loaded:h.loaded})}else{const E=this._fullRequestReader;(null==E?void 0:E.onProgress)&&E.onProgress({loaded:h.loaded,total:h.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const E=this._rangeReaders.indexOf(h);E>=0&&this._rangeReaders.splice(E,1)}getFullReader(){(0,_.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new ie(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,E){if(E<=this._progressiveDataLength)return null;const A=new ne(this,h,E);return this._pdfDataRangeTransport.requestDataRange(h,E),this._rangeReaders.push(A),A}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const E of this._rangeReaders.slice(0))E.cancel(h);this._pdfDataRangeTransport.abort()}};class ie{constructor(h,E,A=!1,r=null){this._stream=h,this._done=A||!1,this._filename=(0,pe.isPdfFile)(r)?r:null,this._queuedChunks=E||[],this._loaded=0;for(const C of this._queuedChunks)this._loaded+=C.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunks.length>0)return{value:h._queuedChunks.shift(),done:!1};if(h._done)return{value:void 0,done:!0};const E=(0,_.createPromiseCapability)();return h._requests.push(E),E.promise})()}cancel(h){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ne{constructor(h,E,A){this._stream=h,this._begin=E,this._end=A,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(0===this._requests.length)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunk){const A=h._queuedChunk;return h._queuedChunk=null,{value:A,done:!1}}if(h._done)return{value:void 0,done:!0};const E=(0,_.createPromiseCapability)();return h._requests.push(E),E.promise})()}cancel(h){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class J{static textContent(pe){const re=[],ie={items:re,styles:Object.create(null)};return function ne(B){var A;if(!B)return;let h=null;const E=B.name;if("#text"===E)h=B.value;else{if(!J.shouldBuildText(E))return;(null==(A=null==B?void 0:B.attributes)?void 0:A.textContent)?h=B.attributes.textContent:B.value&&(h=B.value)}if(null!==h&&re.push({str:h}),B.children)for(const r of B.children)ne(r)}(pe),ie}static shouldBuildText(pe){return!("textarea"===pe||"input"===pe||"option"===pe||"select"===pe)}}L.XfaText=J},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var _=J(6);const pe=function(B){return new Promise((h,E)=>{__webpack_require__(172).readFile(B,(r,C)=>{!r&&C?h(new Uint8Array(C)):E(new Error(r))})})};L.NodeCanvasFactory=class re extends _.BaseCanvasFactory{_createCanvas(h,E){return __webpack_require__(3414).createCanvas(h,E)}},L.NodeCMapReaderFactory=class ie extends _.BaseCMapReaderFactory{_fetchData(h,E){return pe(h).then(A=>({cMapData:A,compressionType:E}))}},L.NodeStandardFontDataFactory=class ne extends _.BaseStandardFontDataFactory{_fetchData(h){return pe(h)}}},(_e,L,J)=>{var M,it;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var _=J(1),pe=J(5),re=J(8),ie=J(21),ne=J(22);const B=1e3,h=new WeakSet;function E(d){return{width:d[2]-d[0],height:d[3]-d[1]}}class A{static create(t){switch(t.data.annotationType){case _.AnnotationType.LINK:return new C(t);case _.AnnotationType.TEXT:return new o(t);case _.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new n(t);case"Btn":return t.data.radioButton?new P(t):t.data.checkBox?new c(t):new f(t);case"Ch":return new g(t)}return new s(t);case _.AnnotationType.POPUP:return new e(t);case _.AnnotationType.FREETEXT:return new m(t);case _.AnnotationType.LINE:return new b(t);case _.AnnotationType.SQUARE:return new v(t);case _.AnnotationType.CIRCLE:return new T(t);case _.AnnotationType.POLYLINE:return new R(t);case _.AnnotationType.CARET:return new U(t);case _.AnnotationType.INK:return new G(t);case _.AnnotationType.POLYGON:return new I(t);case _.AnnotationType.HIGHLIGHT:return new q(t);case _.AnnotationType.UNDERLINE:return new Z(t);case _.AnnotationType.SQUIGGLY:return new V(t);case _.AnnotationType.STRIKEOUT:return new $(t);case _.AnnotationType.STAMP:return new ee(t);case _.AnnotationType.FILEATTACHMENT:return new ae(t);default:return new r(t)}}}class r{constructor(t,{isRenderable:l=!1,ignoreBorder:u=!1,createQuadrilaterals:S=!1}={}){this.isRenderable=l,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,l&&(this.container=this._createContainer(u)),S&&(this.quadrilaterals=this._createQuadrilaterals(u))}_createContainer(t=!1){const l=this.data,u=this.page,S=this.viewport,y=document.createElement("section");let{width:x,height:j}=E(l.rect);y.setAttribute("data-annotation-id",l.id);const H=_.Util.normalizeRect([l.rect[0],u.view[3]-l.rect[1]+u.view[1],l.rect[2],u.view[3]-l.rect[3]+u.view[1]]);if(l.hasOwnCanvas){const W=S.transform.slice(),[z,Q]=_.Util.singularValueDecompose2dScale(W);x=Math.ceil(x*z),j=Math.ceil(j*Q),H[0]*=z,H[1]*=Q;for(let te=0;te<4;te++)W[te]=Math.sign(W[te]);y.style.transform=`matrix(${W.join(",")})`}else y.style.transform=`matrix(${S.transform.join(",")})`;if(y.style.transformOrigin=`${-H[0]}px ${-H[1]}px`,!t&&l.borderStyle.width>0){y.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==_.AnnotationBorderStyleType.UNDERLINE&&(x-=2*l.borderStyle.width,j-=2*l.borderStyle.width);const W=l.borderStyle.horizontalCornerRadius,z=l.borderStyle.verticalCornerRadius;switch((W>0||z>0)&&(y.style.borderRadius=`${W}px / ${z}px`),l.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:y.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:y.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:y.style.borderBottomStyle="solid"}l.borderColor||l.color?y.style.borderColor=_.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):y.style.borderWidth=0}return y.style.left=`${H[0]}px`,y.style.top=`${H[1]}px`,l.hasOwnCanvas?y.style.width=y.style.height="auto":(y.style.width=`${x}px`,y.style.height=`${j}px`),y}get _commonActions(){const t=(l,u,S)=>{const y=S.detail[l];S.target.style[u]=ie.ColorConverters[`${y[0]}_HTML`](y.slice(1))};return(0,_.shadow)(this,"_commonActions",{display:l=>{const u=l.detail.display%2==1;l.target.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:u,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{t("bgColor","backgroundColor",l)},fillColor:l=>{t("fillColor","backgroundColor",l)},fgColor:l=>{t("fgColor","color",l)},textColor:l=>{t("textColor","color",l)},borderColor:l=>{t("borderColor","borderColor",l)},strokeColor:l=>{t("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(t,l){const u=this._commonActions;for(const S of Object.keys(l.detail)){const y=t[S]||u[S];y&&y(l)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const u=this._commonActions;for(const[S,y]of Object.entries(l)){const x=u[S];x&&(x({detail:y,target:t}),delete l[S])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const l=[],u=this.data.rect;for(const S of this.data.quadPoints)this.data.rect=[S[2].x,S[2].y,S[1].x,S[1].y],l.push(this._createContainer(t));return this.data.rect=u,l}_createPopup(t,l){let u=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,u=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=u.style.height,t.style.width=u.style.width,u.appendChild(t));const y=new i({container:u,trigger:t,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();y.style.left=u.style.width,u.appendChild(y)}_renderQuadrilaterals(t){for(const l of this.quadrilaterals)l.className=t;return this.quadrilaterals}render(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,l=null){const u=[];if(this._fieldObjects){const S=this._fieldObjects[t];if(S)for(const{page:y,id:x,exportValues:j}of S){if(-1===y||x===l)continue;const H="string"==typeof j?j:null,W=document.getElementById(x);!W||h.has(W)?u.push({id:x,exportValue:H,domElement:W}):(0,_.warn)(`_getElementsByName - element not allowed: ${x}`)}return u}for(const S of document.getElementsByName(t)){const{id:y,exportValue:x}=S;y!==l&&(!h.has(S)||u.push({id:y,exportValue:x,domElement:S}))}return u}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,_.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class C extends r{constructor(t,l=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!(null==l?void 0:l.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:t,linkService:l}=this,u=document.createElement("a");if(t.url)l.addLinkAttributes(u,t.url,t.newWindow);else if(t.action)this._bindNamedAction(u,t.action);else if(t.dest)this._bindLink(u,t.dest);else{let S=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(S=!0,this._bindJSAction(u,t)),t.resetForm?this._bindResetFormAction(u,t.resetForm):S||this._bindLink(u,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((S,y)=>{const x=0===y?u:u.cloneNode();return S.appendChild(x),S}):(this.container.className="linkAnnotation",this.container.appendChild(u),this.container)}_bindLink(t,l){t.href=this.linkService.getDestinationHash(l),t.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(t.className="internalLink")}_bindNamedAction(t,l){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(l),!1),t.className="internalLink"}_bindJSAction(t,l){t.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const S of Object.keys(l.actions)){const y=u.get(S);!y||(t[y]=()=>{var x;return null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:S}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,l){const u=t.onclick;if(u||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,_.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(t.onclick=()=>!1));t.onclick=()=>{var z;u&&u();const{fields:S,refs:y,include:x}=l,j=[];if(0!==S.length||0!==y.length){const Q=new Set(y);for(const te of S){const de=this._fieldObjects[te]||[];for(const{id:be}of de)Q.add(be)}for(const te of Object.values(this._fieldObjects))for(const de of te)Q.has(de.id)===x&&j.push(de)}else for(const Q of Object.values(this._fieldObjects))j.push(...Q);const H=this.annotationStorage,W=[];for(const Q of j){const{id:te}=Q;switch(W.push(te),Q.type){case"text":case"combobox":case"listbox":H.setValue(te,{value:Q.defaultValue||""});break;case"checkbox":case"radiobutton":H.setValue(te,{value:Q.defaultValue===Q.exportValues});break;default:continue}const de=document.getElementById(te);!de||!h.has(de)||de.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(z=this.linkService.eventBus)||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}})),!1}}}class o extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str))})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class s extends r{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:l,isMac:u}=r.platform;return l&&t.ctrlKey||u&&t.metaKey}_setEventListener(t,l,u,S){l.includes("mouse")?t.addEventListener(l,y=>{var x;null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:S(y),shift:y.shiftKey,modifier:this._getKeyModifier(y)}})}):t.addEventListener(l,y=>{var x;null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:S(y)}})})}_setEventListeners(t,l,u){var S;for(const[y,x]of l)("Action"===x||(null==(S=this.data.actions)?void 0:S[x]))&&this._setEventListener(t,y,x,u)}_setBackgroundColor(t){const l=this.data.backgroundColor||null;t.style.backgroundColor=null===l?"transparent":_.Util.makeHexColor(l[0],l[1],l[2])}}class n extends s{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,l,u,S){const y=this.annotationStorage;for(const x of this._getElementsByName(t.name,t.id))x.domElement&&(x.domElement[l]=u),y.setValue(x.id,{[S]:u})}render(){var S;const t=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let u=null;if(this.renderForms){const y=t.getValue(l,{value:this.data.fieldValue}),x=y.formattedValue||y.value||"",j={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=x):(u=document.createElement("input"),u.type="text",u.setAttribute("value",x)),h.add(u),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=B,j.userValue=x,u.setAttribute("id",l),u.addEventListener("input",W=>{t.setValue(l,{value:W.target.value}),this.setPropertyOnSiblings(u,"value",W.target.value,"value")}),u.addEventListener("resetform",W=>{var Q;const z=null!=(Q=this.data.defaultFieldValue)?Q:"";u.value=j.userValue=z,j.formattedValue=null});let H=W=>{const{formattedValue:z}=j;null!=z&&(W.target.value=z),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){u.addEventListener("focus",z=>{j.userValue&&(z.target.value=j.userValue),j.valueOnFocus=z.target.value}),u.addEventListener("updatefromsandbox",z=>{this._dispatchEventFromSandbox({value(te){var de;j.userValue=null!=(de=te.detail.value)?de:"",t.setValue(l,{value:j.userValue.toString()}),te.target.value=j.userValue},formattedValue(te){const{formattedValue:de}=te.detail;j.formattedValue=de,null!=de&&te.target!==document.activeElement&&(te.target.value=de),t.setValue(l,{formattedValue:de})},selRange(te){te.target.setSelectionRange(...te.detail.selRange)}},z)}),u.addEventListener("keydown",z=>{var de;let Q=-1;if("Escape"===z.key?Q=0:"Enter"===z.key?Q=2:"Tab"===z.key&&(Q=3),-1===Q)return;const{value:te}=z.target;j.valueOnFocus!==te&&(j.userValue=te,null==(de=this.linkService.eventBus)||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:te,willCommit:!0,commitKey:Q,selStart:z.target.selectionStart,selEnd:z.target.selectionEnd}}))});const W=H;H=null,u.addEventListener("blur",z=>{var te;const{value:Q}=z.target;j.userValue=Q,this._mouseState.isDown&&j.valueOnFocus!==Q&&(null==(te=this.linkService.eventBus)||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,willCommit:!0,commitKey:1,selStart:z.target.selectionStart,selEnd:z.target.selectionEnd}})),W(z)}),(null==(S=this.data.actions)?void 0:S.Keystroke)&&u.addEventListener("beforeinput",z=>{var w;const{data:Q,target:te}=z,{value:de,selectionStart:be,selectionEnd:K}=te;let le=be,ce=K;switch(z.inputType){case"deleteWordBackward":{const N=de.substring(0,be).match(/\w*[^\w]*$/);N&&(le-=N[0].length);break}case"deleteWordForward":{const N=de.substring(be).match(/^[^\w]*\w*/);N&&(ce+=N[0].length);break}case"deleteContentBackward":be===K&&(le-=1);break;case"deleteContentForward":be===K&&(ce+=1)}z.preventDefault(),null==(w=this.linkService.eventBus)||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:de,change:Q||"",willCommit:!1,selStart:le,selEnd:ce}})}),this._setEventListeners(u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.value)}if(H&&u.addEventListener("blur",H),null!==this.data.maxLen&&(u.maxLength=this.data.maxLen),this.data.comb){const z=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;u.classList.add("comb"),u.style.letterSpacing=`calc(${z}px - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell";return this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.appendChild(u),this.container}_setTextStyle(t){const{fontSize:u,fontColor:S}=this.data.defaultAppearanceData,y=t.style;u&&(y.fontSize=`${u}px`),y.color=_.Util.makeHexColor(S[0],S[1],S[2]),null!==this.data.textAlignment&&(y.textAlign=["left","center","right"][this.data.textAlignment])}}class c extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,l=this.data,u=l.id;let S=t.getValue(u,{value:l.exportValue===l.fieldValue}).value;"string"==typeof S&&(S="Off"!==S,t.setValue(u,{value:S})),this.container.className="buttonWidgetAnnotation checkBox";const y=document.createElement("input");return h.add(y),y.disabled=l.readOnly,y.type="checkbox",y.name=l.fieldName,S&&y.setAttribute("checked",!0),y.setAttribute("id",u),y.setAttribute("exportValue",l.exportValue),y.tabIndex=B,y.addEventListener("change",x=>{const{name:j,checked:H}=x.target;for(const W of this._getElementsByName(j,u)){const z=H&&W.exportValue===l.exportValue;W.domElement&&(W.domElement.checked=z),t.setValue(W.id,{value:z})}t.setValue(u,{value:H})}),y.addEventListener("resetform",x=>{x.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(y.addEventListener("updatefromsandbox",x=>{this._dispatchEventFromSandbox({value(H){H.target.checked="Off"!==H.detail.value,t.setValue(u,{value:H.target.checked})}},x)}),this._setEventListeners(y,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.checked)),this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}}class P extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,l=this.data,u=l.id;let S=t.getValue(u,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof S&&(S=S!==l.buttonValue,t.setValue(u,{value:S}));const y=document.createElement("input");if(h.add(y),y.disabled=l.readOnly,y.type="radio",y.name=l.fieldName,S&&y.setAttribute("checked",!0),y.setAttribute("id",u),y.tabIndex=B,y.addEventListener("change",x=>{const{name:j,checked:H}=x.target;for(const W of this._getElementsByName(j,u))t.setValue(W.id,{value:!1});t.setValue(u,{value:H})}),y.addEventListener("resetform",x=>{const j=l.defaultFieldValue;x.target.checked=null!=j&&j===l.buttonValue}),this.enableScripting&&this.hasJSActions){const x=l.buttonValue;y.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value:W=>{const z=x===W.detail.value;for(const Q of this._getElementsByName(W.target.name)){const te=z&&Q.id===u;Q.domElement&&(Q.domElement.checked=te),t.setValue(Q.id,{value:te})}}},j)}),this._setEventListeners(y,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)}return this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}}class f extends C{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class g extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,l=this.data.id,u=t.getValue(l,{value:this.data.fieldValue});let{fontSize:S}=this.data.defaultAppearanceData;S||(S=9);const y=`calc(${S}px * var(--zoom-factor))`,x=document.createElement("select");h.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.setAttribute("id",l),x.tabIndex=B,x.style.fontSize=`${S}px`,this.data.combo||(x.size=this.data.options.length,this.data.multiSelect&&(x.multiple=!0)),x.addEventListener("resetform",W=>{const z=this.data.defaultFieldValue;for(const Q of x.options)Q.selected=Q.value===z});for(const W of this.data.options){const z=document.createElement("option");z.textContent=W.displayValue,z.value=W.exportValue,this.data.combo&&(z.style.fontSize=y),u.value.includes(W.exportValue)&&z.setAttribute("selected",!0),x.appendChild(z)}const j=(W,z)=>{const Q=z?"value":"textContent",te=W.target.options;return W.target.multiple?Array.prototype.filter.call(te,de=>de.selected).map(de=>de[Q]):-1===te.selectedIndex?null:te[te.selectedIndex][Q]},H=W=>Array.prototype.map.call(W.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(x.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Q){const te=Q.detail.value,de=new Set(Array.isArray(te)?te:[te]);for(const be of x.options)be.selected=de.has(be.value);t.setValue(l,{value:j(Q,!0)})},multipleSelection(Q){x.multiple=!0},remove(Q){const te=x.options,de=Q.detail.remove;te[de].selected=!1,x.remove(de),te.length>0&&-1===Array.prototype.findIndex.call(te,K=>K.selected)&&(te[0].selected=!0),t.setValue(l,{value:j(Q,!0),items:H(Q)})},clear(Q){for(;0!==x.length;)x.remove(0);t.setValue(l,{value:null,items:[]})},insert(Q){const{index:te,displayValue:de,exportValue:be}=Q.detail.insert,K=document.createElement("option");K.textContent=de,K.value=be,x.insertBefore(K,x.children[te]),t.setValue(l,{value:j(Q,!0),items:H(Q)})},items(Q){const{items:te}=Q.detail;for(;0!==x.length;)x.remove(0);for(const de of te){const{displayValue:be,exportValue:K}=de,le=document.createElement("option");le.textContent=be,le.value=K,x.appendChild(le)}x.options.length>0&&(x.options[0].selected=!0),t.setValue(l,{value:j(Q,!0),items:H(Q)})},indices(Q){const te=new Set(Q.detail.indices);for(const de of Q.target.options)de.selected=te.has(de.index);t.setValue(l,{value:j(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},W)}),x.addEventListener("input",W=>{var te;const z=j(W,!0),Q=j(W,!1);t.setValue(l,{value:z}),null==(te=this.linkService.eventBus)||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,changeEx:z,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):x.addEventListener("input",function(W){t.setValue(l,{value:j(W,!0)})}),this._setBackgroundColor(x),this._setDefaultPropertiesFromJS(x),this.container.appendChild(x),this.container}}class e extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!((null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const S=new i({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),y=this.page,x=_.Util.normalizeRect([this.data.parentRect[0],y.view[3]-this.data.parentRect[1]+y.view[1],this.data.parentRect[2],y.view[3]-this.data.parentRect[3]+y.view[1]]),j=x[0]+this.data.parentRect[2]-this.data.parentRect[0],H=x[1];return this.container.style.transformOrigin=`${-j}px ${-H}px`,this.container.style.left=`${j}px`,this.container.style.top=`${H}px`,this.container.appendChild(S.render()),this.container}}class i{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var j,H;const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const u=document.createElement("div");u.className="popup";const S=this.color;S&&(u.style.backgroundColor=_.Util.makeHexColor(0|.7*(255-S[0])+S[0],0|.7*(255-S[1])+S[1],0|.7*(255-S[2])+S[2]));const y=document.createElement("h1");y.dir=this.titleObj.dir,y.textContent=this.titleObj.str,u.appendChild(y);const x=pe.PDFDateString.toDateObject(this.modificationDate);if(x){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:x.toLocaleDateString(),time:x.toLocaleTimeString()}),u.appendChild(W)}if(!(null==(j=this.richText)?void 0:j.str)||(null==(H=this.contentsObj)?void 0:H.str)&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);u.appendChild(W)}else ne.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:u}),u.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return u.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(u),l}_formatContents({str:t,dir:l}){const u=document.createElement("p");u.className="popupContent",u.dir=l;const S=t.split(/(?:\r\n?|\n)/);for(let y=0,x=S.length;y<x;++y)u.appendChild(document.createTextNode(S[y])),y<x-1&&u.appendChild(document.createElement("br"));return u}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class m extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:l,height:u}=E(t.rect),S=this.svgFactory.create(l,u),y=this.svgFactory.createElement("svg:line");return y.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),y.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),y.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),y.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),y.setAttribute("stroke-width",t.borderStyle.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),S.appendChild(y),this.container.append(S),this._createPopup(y,t),this.container}}class v extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:l,height:u}=E(t.rect),S=this.svgFactory.create(l,u),y=t.borderStyle.width,x=this.svgFactory.createElement("svg:rect");return x.setAttribute("x",y/2),x.setAttribute("y",y/2),x.setAttribute("width",l-y),x.setAttribute("height",u-y),x.setAttribute("stroke-width",y||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),S.appendChild(x),this.container.append(S),this._createPopup(x,t),this.container}}class T extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:l,height:u}=E(t.rect),S=this.svgFactory.create(l,u),y=t.borderStyle.width,x=this.svgFactory.createElement("svg:ellipse");return x.setAttribute("cx",l/2),x.setAttribute("cy",u/2),x.setAttribute("rx",l/2-y/2),x.setAttribute("ry",u/2-y/2),x.setAttribute("stroke-width",y||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),S.appendChild(x),this.container.append(S),this._createPopup(x,t),this.container}}class R extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:u}=E(t.rect),S=this.svgFactory.create(l,u);let y=[];for(const j of t.vertices)y.push(j.x-t.rect[0]+","+(t.rect[3]-j.y));y=y.join(" ");const x=this.svgFactory.createElement(this.svgElementName);return x.setAttribute("points",y),x.setAttribute("stroke-width",t.borderStyle.width||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),S.appendChild(x),this.container.append(S),this._createPopup(x,t),this.container}}class I extends R{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class U extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class G extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:u}=E(t.rect),S=this.svgFactory.create(l,u);for(const y of t.inkLists){let x=[];for(const H of y)x.push(`${H.x-t.rect[0]},${t.rect[3]-H.y}`);x=x.join(" ");const j=this.svgFactory.createElement(this.svgElementName);j.setAttribute("points",x),j.setAttribute("stroke-width",t.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),this._createPopup(j,t),S.appendChild(j)}return this.container.append(S),this.container}}class q extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Z extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class V extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $ extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ee extends r{constructor(t){var u,S,y;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(S=t.data.contentsObj)?void 0:S.str)||(null==(y=t.data.richText)?void 0:y.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ae extends r{constructor(t){var S;super(t,{isRenderable:!0});const{filename:l,content:u}=this.data.file;this.filename=(0,pe.getFilenameFromUrl)(l),this.content=u,null==(S=this.linkService.eventBus)||S.dispatch("fileattachmentannotation",{source:this,filename:l,content:u})}render(){var l,u;this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(l=this.data.titleObj)?void 0:l.str)||(null==(u=this.data.contentsObj)?void 0:u.str)||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){var t;null==(t=this.downloadManager)||t.openOrDownloadData(this.container,this.content,this.filename)}}class he{static render(t){const l=[],u=[];for(const y of t.annotations){if(!y)continue;const{width:x,height:j}=E(y.rect);if(!(x<=0||j<=0)){if(y.annotationType===_.AnnotationType.POPUP){u.push(y);continue}l.push(y)}}u.length&&l.push(...u);const S=t.div;for(const y of l){const x=A.create({data:y,layer:S,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new pe.DOMSVGFactory,annotationStorage:t.annotationStorage||new re.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(x.isRenderable){const j=x.render();if(y.hidden&&(j.style.visibility="hidden"),Array.isArray(j))for(const H of j)S.appendChild(H);else x instanceof e?S.prepend(j):S.appendChild(j)}}Pe(this,M,it).call(this,S,t.annotationCanvasMap)}static update(t){const{page:l,viewport:u,annotations:S,annotationCanvasMap:y,div:x}=t,j=u.transform,H=`matrix(${j.join(",")})`;let W,z;for(const Q of S){const te=x.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(te)for(const de of te)if(Q.hasOwnCanvas){const be=_.Util.normalizeRect([Q.rect[0],l.view[3]-Q.rect[1]+l.view[1],Q.rect[2],l.view[3]-Q.rect[3]+l.view[1]]);if(!z){W=Math.abs(j[0]||j[1]);const ce=j.slice();for(let w=0;w<4;w++)ce[w]=Math.sign(ce[w]);z=`matrix(${ce.join(",")})`}const K=be[0]*W,le=be[1]*W;de.style.left=`${K}px`,de.style.top=`${le}px`,de.style.transformOrigin=`${-K}px ${-le}px`,de.style.transform=z}else de.style.transform=H}Pe(this,M,it).call(this,x,y),x.hidden=!1}}M=new WeakSet,it=function(t,l){if(l){for(const[u,S]of l){const y=t.querySelector(`[data-annotation-id="${u}"]`);if(!y)continue;const{firstChild:x}=y;"CANVAS"===x.nodeName?y.replaceChild(S,x):y.insertBefore(S,x)}l.clear()}},we(he,M),L.AnnotationLayer=he},(_e,L)=>{function J(pe){return Math.floor(255*Math.max(0,Math.min(1,pe))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class _{static CMYK_G([re,ie,ne,B]){return["G",1-Math.min(1,.3*re+.59*ne+.11*ie+B)]}static G_CMYK([re]){return["CMYK",0,0,0,1-re]}static G_RGB([re]){return["RGB",re,re,re]}static G_HTML([re]){const ie=J(re);return`#${ie}${ie}${ie}`}static RGB_G([re,ie,ne]){return["G",.3*re+.59*ie+.11*ne]}static RGB_HTML([re,ie,ne]){return`#${J(re)}${J(ie)}${J(ne)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([re,ie,ne,B]){return["RGB",1-Math.min(1,re+B),1-Math.min(1,ne+B),1-Math.min(1,ie+B)]}static CMYK_HTML(re){return this.RGB_HTML(this.CMYK_RGB(re))}static RGB_CMYK([re,ie,ne]){const B=1-re,h=1-ie,E=1-ne;return["CMYK",B,h,E,Math.min(B,h,E)]}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var _=J(18);L.XfaLayer=class pe{static setupStorage(ie,ne,B,h,E){const A=h.getValue(ne,{value:null});switch(B.name){case"textarea":if(null!==A.value&&(ie.textContent=A.value),"print"===E)break;ie.addEventListener("input",r=>{h.setValue(ne,{value:r.target.value})});break;case"input":if("radio"===B.attributes.type||"checkbox"===B.attributes.type){if(A.value===B.attributes.xfaOn?ie.setAttribute("checked",!0):A.value===B.attributes.xfaOff&&ie.removeAttribute("checked"),"print"===E)break;ie.addEventListener("change",r=>{h.setValue(ne,{value:r.target.getAttribute(r.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==A.value&&ie.setAttribute("value",A.value),"print"===E)break;ie.addEventListener("input",r=>{h.setValue(ne,{value:r.target.value})})}break;case"select":if(null!==A.value)for(const r of B.children)r.attributes.value===A.value&&(r.attributes.selected=!0);ie.addEventListener("input",r=>{const C=r.target.options;h.setValue(ne,{value:-1===C.selectedIndex?"":C[C.selectedIndex].value})})}}static setAttributes({html:ie,element:ne,storage:B=null,intent:h,linkService:E}){const{attributes:A}=ne,r=ie instanceof HTMLAnchorElement;"radio"===A.type&&(A.name=`${A.name}-${h}`);for(const[C,o]of Object.entries(A))if(null!=o&&"dataId"!==C)if("style"!==C)if("textContent"===C)ie.textContent=o;else if("class"===C)o.length&&ie.setAttribute(C,o.join(" "));else{if(r&&("href"===C||"newWindow"===C))continue;ie.setAttribute(C,o)}else Object.assign(ie.style,o);r&&E.addLinkAttributes(ie,A.href,A.newWindow),B&&A.dataId&&this.setupStorage(ie,A.dataId,ne,B)}static render(ie){var s;const ne=ie.annotationStorage,B=ie.linkService,h=ie.xfaHtml,E=ie.intent||"display",A=document.createElement(h.name);h.attributes&&this.setAttributes({html:A,element:h,intent:E,linkService:B});const r=[[h,-1,A]],C=ie.div;if(C.appendChild(A),ie.viewport){const n=`matrix(${ie.viewport.transform.join(",")})`;C.style.transform=n}"richText"!==E&&C.setAttribute("class","xfaLayer xfaFont");const o=[];for(;r.length>0;){const[n,c,P]=r[r.length-1];if(c+1===n.children.length){r.pop();continue}const f=n.children[++r[r.length-1][1]];if(null===f)continue;const{name:g}=f;if("#text"===g){const i=document.createTextNode(f.value);o.push(i),P.appendChild(i);continue}let e;if(e=(null==(s=null==f?void 0:f.attributes)?void 0:s.xmlns)?document.createElementNS(f.attributes.xmlns,g):document.createElement(g),P.appendChild(e),f.attributes&&this.setAttributes({html:e,element:f,storage:ne,intent:E,linkService:B}),f.children&&f.children.length>0)r.push([f,-1,e]);else if(f.value){const i=document.createTextNode(f.value);_.XfaText.shouldBuildText(g)&&o.push(i),e.appendChild(i)}}for(const n of C.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))n.setAttribute("readOnly",!0);return{textDivs:o}}static update(ie){const ne=`matrix(${ie.viewport.transform.join(",")})`;ie.div.style.transform=ne,ie.div.hidden=!1}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function c(P){const f=new n({textContent:P.textContent,textContentStream:P.textContentStream,container:P.container,viewport:P.viewport,textDivs:P.textDivs,textContentItemsStr:P.textContentItemsStr,enhanceTextSelection:P.enhanceTextSelection});return f._render(P.timeout),f};var _=J(1);const ne=new Map,B=/^\s+$/g;function E(P,f,g,e){const i=document.createElement("span"),m=P._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==f.str,hasEOL:f.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==f.str,hasEOL:f.hasEOL};P._textDivs.push(i);const b=_.Util.transform(P._viewport.transform,f.transform);let v=Math.atan2(b[1],b[0]);const T=g[f.fontName];T.vertical&&(v+=Math.PI/2);const R=Math.hypot(b[2],b[3]),I=R*function h(P,f){const g=ne.get(P);if(g)return g;f.save(),f.font=`30px ${P}`;const e=f.measureText("");let i=e.fontBoundingBoxAscent,m=Math.abs(e.fontBoundingBoxDescent);if(i){f.restore();const v=i/(i+m);return ne.set(P,v),v}f.strokeStyle="red",f.clearRect(0,0,30,30),f.strokeText("g",0,0);let b=f.getImageData(0,0,30,30).data;m=0;for(let v=b.length-1-3;v>=0;v-=4)if(b[v]>0){m=Math.ceil(v/4/30);break}f.clearRect(0,0,30,30),f.strokeText("A",0,30),b=f.getImageData(0,0,30,30).data,i=0;for(let v=0,T=b.length;v<T;v+=4)if(b[v]>0){i=30-Math.floor(v/4/30);break}if(f.restore(),i){const v=i/(i+m);return ne.set(P,v),v}return ne.set(P,.8),.8}(T.fontFamily,e);let U,G;0===v?(U=b[4],G=b[5]-I):(U=b[4]+I*Math.sin(v),G=b[5]-I*Math.cos(v)),i.style.left=`${U}px`,i.style.top=`${G}px`,i.style.fontSize=`${R}px`,i.style.fontFamily=T.fontFamily,i.setAttribute("role","presentation"),i.textContent=f.str,i.dir=f.dir,P._fontInspectorEnabled&&(i.dataset.fontName=f.fontName),0!==v&&(m.angle=v*(180/Math.PI));let q=!1;if(f.str.length>1||P._enhanceTextSelection&&B.test(f.str))q=!0;else if(" "!==f.str&&f.transform[0]!==f.transform[3]){const Z=Math.abs(f.transform[0]),V=Math.abs(f.transform[3]);Z!==V&&Math.max(Z,V)/Math.min(Z,V)>1.5&&(q=!0)}if(q&&(m.canvasWidth=T.vertical?f.height*P._viewport.scale:f.width*P._viewport.scale),P._textDivProperties.set(i,m),P._textContentStream&&P._layoutText(i),P._enhanceTextSelection&&m.hasText){let Z=1,V=0;0!==v&&(Z=Math.cos(v),V=Math.sin(v));const $=(T.vertical?f.height:f.width)*P._viewport.scale,ee=R;let ae,he;0!==v?(ae=[Z,V,-V,Z,U,G],he=_.Util.getAxialAlignedBoundingBox([0,0,$,ee],ae)):he=[U,G,U+$,G+ee],P._bounds.push({left:he[0],top:he[1],right:he[2],bottom:he[3],div:i,size:[$,ee],m:ae})}}function A(P){if(P._canceled)return;const f=P._textDivs,g=P._capability,e=f.length;if(e>1e5)return P._renderingDone=!0,void g.resolve();if(!P._textContentStream)for(let i=0;i<e;i++)P._layoutText(f[i]);P._renderingDone=!0,g.resolve()}function r(P,f,g){let e=0;for(let i=0;i<g;i++){const m=P[f++];m>0&&(e=e?Math.min(m,e):m)}return e}function s(P,f){f.sort(function(i,m){return i.x1-m.x1||i.index-m.index});const e=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of f){let m=0;for(;m<e.length&&e[m].end<=i.y1;)m++;let b=e.length-1;for(;b>=0&&e[b].start>=i.y2;)b--;let v,T,R,I,U=-1/0;for(R=m;R<=b;R++){let Z;v=e[R],T=v.boundary,Z=T.x2>i.x1?T.index>i.index?T.x1New:i.x1:void 0===T.x2New?(T.x2+i.x1)/2:T.x2New,Z>U&&(U=Z)}for(i.x1New=U,R=m;R<=b;R++)v=e[R],T=v.boundary,void 0===T.x2New?T.x2>i.x1?T.index>i.index&&(T.x2New=T.x2):T.x2New=U:T.x2New>U&&(T.x2New=Math.max(U,T.x2));const G=[];let q=null;for(R=m;R<=b;R++){v=e[R],T=v.boundary;const Z=T.x2>i.x2?T:i;q===Z?G[G.length-1].end=v.end:(G.push({start:v.start,end:v.end,boundary:Z}),q=Z)}for(e[m].start<i.y1&&(G[0].start=i.y1,G.unshift({start:e[m].start,end:i.y1,boundary:e[m].boundary})),i.y2<e[b].end&&(G[G.length-1].end=i.y2,G.push({start:i.y2,end:e[b].end,boundary:e[b].boundary})),R=m;R<=b;R++){if(v=e[R],T=v.boundary,void 0!==T.x2New)continue;let Z=!1;for(I=m-1;!Z&&I>=0&&e[I].start>=T.y1;I--)Z=e[I].boundary===T;for(I=b+1;!Z&&I<e.length&&e[I].end<=T.y2;I++)Z=e[I].boundary===T;for(I=0;!Z&&I<G.length;I++)Z=G[I].boundary===T;Z||(T.x2New=U)}Array.prototype.splice.apply(e,[m,b-m+1].concat(G))}for(const i of e){const m=i.boundary;void 0===m.x2New&&(m.x2New=Math.max(P,m.x2))}}class n{constructor({textContent:f,textContentStream:g,container:e,viewport:i,textDivs:m,textContentItemsStr:b,enhanceTextSelection:v}){var T;this._textContent=f,this._textContentStream=g,this._container=e,this._document=e.ownerDocument,this._viewport=i,this._textDivs=m||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!v,this._fontInspectorEnabled=!!(null==(T=globalThis.FontInspector)?void 0:T.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(f,g){for(let e=0,i=f.length;e<i;e++)if(void 0!==f[e].str)this._textContentItemsStr.push(f[e].str),E(this,f[e],g,this._layoutTextCtx);else if("beginMarkedContentProps"===f[e].type||"beginMarkedContent"===f[e].type){const m=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==f[e].id&&this._container.setAttribute("id",`${f[e].id}`),m.appendChild(this._container)}else"endMarkedContent"===f[e].type&&(this._container=this._container.parentNode)}_layoutText(f){const g=this._textDivProperties.get(f);let e="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:i,fontFamily:m}=f.style;(i!==this._layoutTextLastFontSize||m!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${m}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=m);const{width:b}=this._layoutTextCtx.measureText(f.textContent);if(b>0){const v=g.canvasWidth/b;this._enhanceTextSelection&&(g.scale=v),e=`scaleX(${v})`}}if(0!==g.angle&&(e=`rotate(${g.angle}deg) ${e}`),e.length>0&&(this._enhanceTextSelection&&(g.originalTransform=e),f.style.transform=e),g.hasText&&this._container.appendChild(f),g.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(f=0){const g=(0,_.createPromiseCapability)();let e=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=30,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const m=()=>{this._reader.read().then(({value:b,done:v})=>{v?g.resolve():(Object.assign(e,b.styles),this._processItems(b.items,e),m())},g.reject)};this._reader=this._textContentStream.getReader(),m()}}g.promise.then(()=>{e=null,f?this._renderTimer=setTimeout(()=>{A(this),this._renderTimer=null},f):A(this)},this._capability.reject)}expandTextDivs(f=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function C(P){const f=P._bounds,g=P._viewport,e=function o(P,f,g){const e=g.map(function(m,b){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:b,x1New:void 0,x2New:void 0}});s(P,e);const i=new Array(g.length);for(const m of e)i[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};g.map(function(m,b){const v=i[b],T=e[b];T.x1=m.top,T.y1=P-v.right,T.x2=m.bottom,T.y2=P-v.left,T.index=b,T.x1New=void 0,T.x2New=void 0}),s(f,e);for(const m of e){const b=m.index;i[b].top=m.x1New,i[b].bottom=m.x2New}return i}(g.width,g.height,f);for(let i=0;i<e.length;i++){const m=f[i].div,b=P._textDivProperties.get(m);if(0===b.angle){b.paddingLeft=f[i].left-e[i].left,b.paddingTop=f[i].top-e[i].top,b.paddingRight=e[i].right-f[i].right,b.paddingBottom=e[i].bottom-f[i].bottom,P._textDivProperties.set(m,b);continue}const v=e[i],T=f[i],R=T.m,I=R[0],U=R[1],G=[[0,0],[0,T.size[1]],[T.size[0],0],T.size],q=new Float64Array(64);for(let V=0,$=G.length;V<$;V++){const ee=_.Util.applyTransform(G[V],R);q[V+0]=I&&(v.left-ee[0])/I,q[V+4]=U&&(v.top-ee[1])/U,q[V+8]=I&&(v.right-ee[0])/I,q[V+12]=U&&(v.bottom-ee[1])/U,q[V+16]=U&&(v.left-ee[0])/-U,q[V+20]=I&&(v.top-ee[1])/I,q[V+24]=U&&(v.right-ee[0])/-U,q[V+28]=I&&(v.bottom-ee[1])/I,q[V+32]=I&&(v.left-ee[0])/-I,q[V+36]=U&&(v.top-ee[1])/-U,q[V+40]=I&&(v.right-ee[0])/-I,q[V+44]=U&&(v.bottom-ee[1])/-U,q[V+48]=U&&(v.left-ee[0])/U,q[V+52]=I&&(v.top-ee[1])/-I,q[V+56]=U&&(v.right-ee[0])/U,q[V+60]=I&&(v.bottom-ee[1])/-I}const Z=1+Math.min(Math.abs(I),Math.abs(U));b.paddingLeft=r(q,32,16)/Z,b.paddingTop=r(q,48,16)/Z,b.paddingRight=r(q,0,16)/Z,b.paddingBottom=r(q,16,16)/Z,P._textDivProperties.set(m,b)}}(this),this._bounds=null);const g=[],e=[];for(let i=0,m=this._textDivs.length;i<m;i++){const b=this._textDivs[i],v=this._textDivProperties.get(b);!v.hasText||(f?(g.length=0,e.length=0,v.originalTransform&&g.push(v.originalTransform),v.paddingTop>0?(e.push(`${v.paddingTop}px`),g.push(`translateY(${-v.paddingTop}px)`)):e.push(0),e.push(v.paddingRight>0?v.paddingRight/v.scale+"px":0),e.push(v.paddingBottom>0?`${v.paddingBottom}px`:0),v.paddingLeft>0?(e.push(v.paddingLeft/v.scale+"px"),g.push(`translateX(${-v.paddingLeft/v.scale}px)`)):e.push(0),b.style.padding=e.join(" "),g.length&&(b.style.transform=g.join(" "))):(b.style.padding=null,b.style.transform=v.originalTransform))}}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var _=J(1),pe=J(5),re=J(3);let ie=class{constructor(){(0,_.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=ie;{let s=function(e){let i=[];const m=[];for(const b of e)"save"!==b.fn?"restore"===b.fn?i=m.pop():i.push(b):(i.push({fnId:92,fn:"group",items:[]}),m.push(i),i=i[i.length-1].items);return i},n=function(e){if(Number.isInteger(e))return e.toString();const i=e.toFixed(10);let m=i.length-1;if("0"!==i[m])return i;do{m--}while("0"===i[m]);return i.substring(0,"."===i[m]?m:m+1)},c=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${n(e[0])} ${n(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const i=180*Math.acos(e[0])/Math.PI;return`rotate(${n(i)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${n(e[4])} ${n(e[5])})`;return`matrix(${n(e[0])} ${n(e[1])} ${n(e[2])} ${n(e[3])} ${n(e[4])} ${n(e[5])})`};const ne={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},B="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",E=["butt","round","square"],A=["miter","round","bevel"],r=function(e,i="",m=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!m)return URL.createObjectURL(new Blob([e],{type:i}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${i};base64,`;for(let T=0,R=e.length;T<R;T+=3){const I=255&e[T],U=255&e[T+1],G=255&e[T+2];v+=b[I>>2]+b[(3&I)<<4|U>>4]+b[T+1<R?(15&U)<<2|G>>6:64]+b[T+2<R?63&G:64]}return v},C=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),m=new Int32Array(256);for(let G=0;G<256;G++){let q=G;for(let Z=0;Z<8;Z++)q=1&q?3988292384^q>>1&2147483647:q>>1&2147483647;m[G]=q}function v(G,q,Z,V){let $=V;const ee=q.length;Z[$]=ee>>24&255,Z[$+1]=ee>>16&255,Z[$+2]=ee>>8&255,Z[$+3]=255&ee,$+=4,Z[$]=255&G.charCodeAt(0),Z[$+1]=255&G.charCodeAt(1),Z[$+2]=255&G.charCodeAt(2),Z[$+3]=255&G.charCodeAt(3),$+=4,Z.set(q,$),$+=q.length;const ae=function b(G,q,Z){let V=-1;for(let $=q;$<Z;$++)V=V>>>8^m[255&(V^G[$])];return-1^V}(Z,V+4,$);Z[$]=ae>>24&255,Z[$+1]=ae>>16&255,Z[$+2]=ae>>8&255,Z[$+3]=255&ae}function I(G){let q=G.length;const Z=65535,V=Math.ceil(q/Z),$=new Uint8Array(2+q+5*V+4);let ee=0;$[ee++]=120,$[ee++]=156;let ae=0;for(;q>Z;)$[ee++]=0,$[ee++]=255,$[ee++]=255,$[ee++]=0,$[ee++]=0,$.set(G.subarray(ae,ae+Z),ee),ee+=Z,ae+=Z,q-=Z;$[ee++]=1,$[ee++]=255&q,$[ee++]=q>>8&255,$[ee++]=255&~q,$[ee++]=(65535&~q)>>8&255,$.set(G.subarray(ae),ee),ee+=G.length-ae;const he=function T(G,q,Z){let V=1,$=0;for(let ee=q;ee<Z;++ee)V=(V+(255&G[ee]))%65521,$=($+V)%65521;return $<<16|V}(G,0,G.length);return $[ee++]=he>>24&255,$[ee++]=he>>16&255,$[ee++]=he>>8&255,$[ee++]=255&he,$}return function(q,Z,V){return function U(G,q,Z,V){const $=G.width,ee=G.height;let ae,he,M;const a=G.data;switch(q){case _.ImageKind.GRAYSCALE_1BPP:he=0,ae=1,M=$+7>>3;break;case _.ImageKind.RGB_24BPP:he=2,ae=8,M=3*$;break;case _.ImageKind.RGBA_32BPP:he=6,ae=8,M=4*$;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+M)*ee);let t=0,l=0;for(let H=0;H<ee;++H)d[t++]=0,d.set(a.subarray(l,l+M),t),l+=M,t+=M;if(q===_.ImageKind.GRAYSCALE_1BPP&&V){t=0;for(let H=0;H<ee;H++){t++;for(let W=0;W<M;W++)d[t++]^=255}}const u=new Uint8Array([$>>24&255,$>>16&255,$>>8&255,255&$,ee>>24&255,ee>>16&255,ee>>8&255,255&ee,ae,he,0,0,0]),S=function R(G){if(!re.isNodeJS)return I(G);try{let q;q=parseInt(process.versions.node)>=8?G:Buffer.from(G);const Z=__webpack_require__(2258).deflateSync(q,{level:9});return Z instanceof Uint8Array?Z:new Uint8Array(Z)}catch(q){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+q)}return I(G)}(d),x=new Uint8Array(e.length+36+u.length+S.length);let j=0;return x.set(e,j),j+=e.length,v("IHDR",u,x,j),j+=12+u.length,v("IDATA",S,x,j),j+=12+S.length,v("IEND",new Uint8Array(0),x,j),r(x,"image/png",Z)}(q,void 0===q.kind?_.ImageKind.GRAYSCALE_1BPP:q.kind,Z,V)}}();class o{constructor(){this.fontSizeScale=1,this.fontWeight=ne.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ne.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,m){this.x=i,this.y=m}}let P=0,f=0,g=0;L.SVGGraphics=ie=class{constructor(e,i,m=!1){this.svgFactory=new pe.DOMSVGFactory,this.current=new o,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!m,this._operatorIdMapping=[];for(const b in _.OPS)this._operatorIdMapping[_.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const i=e.fnArray,m=e.argsArray;for(let b=0,v=i.length;b<v;b++)if(i[b]===_.OPS.dependency)for(const T of m[b]){const R=T.startsWith("g_")?this.commonObjs:this.objs,I=new Promise(U=>{R.get(T,U)});this.current.dependencies.push(I)}return Promise.all(this.current.dependencies)}transform(e,i,m,b,v,T){this.transformMatrix=_.Util.transform(this.transformMatrix,[e,i,m,b,v,T]),this.tgrp=null}getSVG(e,i){this.viewport=i;const m=this._initialize(i);return this.loadDependencies(e).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),m))}convertOpList(e){const i=this._operatorIdMapping,m=e.argsArray,b=e.fnArray,v=[];for(let T=0,R=b.length;T<R;T++){const I=b[T];v.push({fnId:I,fn:i[I],args:m[T]})}return s(v)}executeOpTree(e){for(const i of e){const m=i.fn,v=i.args;switch(0|i.fnId){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(v);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case _.OPS.setFont:this.setFont(v);break;case _.OPS.showText:case _.OPS.showSpacedText:this.showText(v[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(v[0],v[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case _.OPS.setHScale:this.setHScale(v[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case _.OPS.setTextRise:this.setTextRise(v[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case _.OPS.setLineWidth:this.setLineWidth(v[0]);break;case _.OPS.setLineJoin:this.setLineJoin(v[0]);break;case _.OPS.setLineCap:this.setLineCap(v[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case _.OPS.setFillColorN:this.setFillColorN(v);break;case _.OPS.shadingFill:this.shadingFill(v[0]);break;case _.OPS.setDash:this.setDash(v[0],v[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case _.OPS.setFlatness:this.setFlatness(v[0]);break;case _.OPS.setGState:this.setGState(v[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case _.OPS.constructPath:this.constructPath(v[0],v[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,_.warn)(`Unimplemented operator ${m}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,i,m,b,v,T){const R=this.current;R.textMatrix=R.lineMatrix=[e,i,m,b,v,T],R.textMatrixScale=Math.hypot(e,i),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${n(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",n(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.appendChild(R.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=_.IDENTITY_MATRIX,e.lineMatrix=_.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,i){const m=this.current;m.x=m.lineX+=e,m.y=m.lineY+=i,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${n(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",n(-m.y))}showText(e){const i=this.current,m=i.font,b=i.fontSize;if(0===b)return;const v=i.fontSizeScale,T=i.charSpacing,R=i.wordSpacing,I=i.fontDirection,U=i.textHScale*I,G=m.vertical,q=G?1:-1,Z=m.defaultVMetrics,V=b*i.fontMatrix[0];let $=0;for(const he of e){if(null===he){$+=I*R;continue}if("number"==typeof he){$+=q*he*b/1e3;continue}const M=(he.isSpace?R:0)+T,a=he.fontChar;let d,t,u,l=he.width;if(G){let S;const y=he.vmetric||Z;S=he.vmetric?y[1]:.5*l,S=-S*V,l=y?-y[0]:l,d=S/v,t=($+y[2]*V)/v}else d=$/v,t=0;(he.isInFont||m.missingFile)&&(i.xcoords.push(i.x+d),G&&i.ycoords.push(-i.y+t),i.tspan.textContent+=a),u=G?l*V-M*I:l*V+M*I,$+=u}i.tspan.setAttributeNS(null,"x",i.xcoords.map(n).join(" ")),i.tspan.setAttributeNS(null,"y",G?i.ycoords.map(n).join(" "):n(-i.y)),G?i.y-=$:i.x+=$*U,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${n(i.fontSize)}px`),i.fontStyle!==ne.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==ne.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const ee=i.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;ee===_.TextRenderingMode.FILL||ee===_.TextRenderingMode.FILL_STROKE?(i.fillColor!==ne.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ee===_.TextRenderingMode.STROKE||ee===_.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let ae=i.textMatrix;0!==i.textRise&&(ae=ae.slice(),ae[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${c(ae)} scale(${n(U)}, -1)`),i.txtElement.setAttributeNS(B,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=r(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${i}); }\n`}setFont(e){const i=this.current,m=this.commonObjs.get(e[0]);let b=e[1];i.font=m,this.embedFonts&&!m.missingFile&&!this.embeddedFonts[m.loadedName]&&(this.addFontStyle(m),this.embeddedFonts[m.loadedName]=m),i.fontMatrix=m.fontMatrix||_.FONT_IDENTITY_MATRIX;let v="normal";m.black?v="900":m.bold&&(v="bold");const T=m.italic?"italic":"normal";b<0?(b=-b,i.fontDirection=-1):i.fontDirection=1,i.fontSize=b,i.fontFamily=m.loadedName,i.fontWeight=v,i.fontStyle=T,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",n(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const e=this.current;e.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=e.txtElement)?void 0:i.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=E[e]}setLineJoin(e){this.current.lineJoin=A[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,i,m){this.current.strokeColor=_.Util.makeHexColor(e,i,m)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,i,m){this.current.fillColor=_.Util.makeHexColor(e,i,m),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const i=this.viewport.width,m=this.viewport.height,b=_.Util.inverseTransform(this.transformMatrix),v=_.Util.applyTransform([0,0],b),T=_.Util.applyTransform([0,m],b),R=_.Util.applyTransform([i,0],b),I=_.Util.applyTransform([i,m],b),U=Math.min(v[0],T[0],R[0],I[0]),G=Math.min(v[1],T[1],R[1],I[1]),q=Math.max(v[0],T[0],R[0],I[0]),Z=Math.max(v[1],T[1],R[1],I[1]),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x",U),V.setAttributeNS(null,"y",G),V.setAttributeNS(null,"width",q-U),V.setAttributeNS(null,"height",Z-G),V.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&V.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(V)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const i=e[1],m=e[2],b=e[3]||_.IDENTITY_MATRIX,[v,T,R,I]=e[4],U=e[5],G=e[6],q=e[7],Z="shading"+g++,[V,$,ee,ae]=_.Util.normalizeRect([..._.Util.applyTransform([v,T],b),..._.Util.applyTransform([R,I],b)]),[he,M]=_.Util.singularValueDecompose2dScale(b),a=U*he,d=G*M,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",Z),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",a),t.setAttributeNS(null,"height",d),t.setAttributeNS(null,"x",`${V}`),t.setAttributeNS(null,"y",`${$}`);const l=this.svg,u=this.transformMatrix,S=this.current.fillColor,y=this.current.strokeColor,x=this.svgFactory.create(ee-V,ae-$);if(this.svg=x,this.transformMatrix=b,2===q){const j=_.Util.makeHexColor(...i);this.current.fillColor=j,this.current.strokeColor=j}return this.executeOpTree(this.convertOpList(m)),this.svg=l,this.transformMatrix=u,this.current.fillColor=S,this.current.strokeColor=y,t.appendChild(x.childNodes[0]),this.defs.appendChild(t),`url(#${Z})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const i="shading"+g++,m=e[3];let b;switch(e[1]){case"axial":const v=e[4],T=e[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",i),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",v[0]),b.setAttributeNS(null,"y1",v[1]),b.setAttributeNS(null,"x2",T[0]),b.setAttributeNS(null,"y2",T[1]);break;case"radial":const R=e[4],I=e[5],U=e[6],G=e[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",i),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",I[0]),b.setAttributeNS(null,"cy",I[1]),b.setAttributeNS(null,"r",G),b.setAttributeNS(null,"fx",R[0]),b.setAttributeNS(null,"fy",R[1]),b.setAttributeNS(null,"fr",U);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const v of m){const T=this.svgFactory.createElement("svg:stop");T.setAttributeNS(null,"offset",v[0]),T.setAttributeNS(null,"stop-color",v[1]),b.appendChild(T)}return this.defs.appendChild(b),`url(#${i})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,i){this.current.dashArray=e,this.current.dashPhase=i}constructPath(e,i){const m=this.current;let b=m.x,v=m.y,T=[],R=0;for(const I of e)switch(0|I){case _.OPS.rectangle:b=i[R++],v=i[R++];const q=b+i[R++],Z=v+i[R++];T.push("M",n(b),n(v),"L",n(q),n(v),"L",n(q),n(Z),"L",n(b),n(Z),"Z");break;case _.OPS.moveTo:b=i[R++],v=i[R++],T.push("M",n(b),n(v));break;case _.OPS.lineTo:b=i[R++],v=i[R++],T.push("L",n(b),n(v));break;case _.OPS.curveTo:b=i[R+4],v=i[R+5],T.push("C",n(i[R]),n(i[R+1]),n(i[R+2]),n(i[R+3]),n(b),n(v)),R+=6;break;case _.OPS.curveTo2:T.push("C",n(b),n(v),n(i[R]),n(i[R+1]),n(i[R+2]),n(i[R+3])),b=i[R+2],v=i[R+3],R+=4;break;case _.OPS.curveTo3:b=i[R+2],v=i[R+3],T.push("C",n(i[R]),n(i[R+1]),n(b),n(v),n(b),n(v)),R+=4;break;case _.OPS.closePath:T.push("Z")}T=T.join(" "),m.path&&e.length>0&&e[0]!==_.OPS.rectangle&&e[0]!==_.OPS.moveTo?T=m.path.getAttributeNS(null,"d")+T:(m.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(m.path)),m.path.setAttributeNS(null,"d",T),m.path.setAttributeNS(null,"fill","none"),m.element=m.path,m.setCurrentPoint(b,v)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const i="clippath"+P++,m=this.svgFactory.createElement("svg:clipPath");m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"transform",c(this.transformMatrix));const b=e.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,m.appendChild(b),this.defs.appendChild(m),e.activeClipUrl){e.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;m.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const i=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",i)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,m]of e)switch(i){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m);break;case"CA":this.setStrokeAlpha(m);break;case"ca":this.setFillAlpha(m);break;default:(0,_.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,i=1){const m=this.current;let b=m.dashArray;1!==i&&b.length>0&&(b=b.map(function(v){return i*v})),e.setAttributeNS(null,"stroke",m.strokeColor),e.setAttributeNS(null,"stroke-opacity",m.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",n(m.miterLimit)),e.setAttributeNS(null,"stroke-linecap",m.lineCap),e.setAttributeNS(null,"stroke-linejoin",m.lineJoin),e.setAttributeNS(null,"stroke-width",n(i*m.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",b.map(n).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",n(i*m.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);i?this.paintInlineImageXObject(i):(0,_.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,i){const m=e.width,b=e.height,v=C(e,this.forceDataSchema,!!i),T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y","0"),T.setAttributeNS(null,"width",n(m)),T.setAttributeNS(null,"height",n(b)),this.current.element=T,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(h,"xlink:href",v),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",n(-b)),R.setAttributeNS(null,"width",n(m)+"px"),R.setAttributeNS(null,"height",n(b)+"px"),R.setAttributeNS(null,"transform",`scale(${n(1/m)} ${n(-1/b)})`),i?i.appendChild(R):this._ensureTransformGroup().appendChild(R)}paintImageMaskXObject(e){const i=this.current,m=e.width,b=e.height,v=i.fillColor;i.maskId="mask"+f++;const T=this.svgFactory.createElement("svg:mask");T.setAttributeNS(null,"id",i.maskId);const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",n(m)),R.setAttributeNS(null,"height",n(b)),R.setAttributeNS(null,"fill",v),R.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(T),this._ensureTransformGroup().appendChild(R),this.paintInlineImageXObject(e,T)}paintFormXObjectBegin(e,i){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i){const m=i[2]-i[0],b=i[3]-i[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",i[0]),v.setAttributeNS(null,"y",i[1]),v.setAttributeNS(null,"width",n(m)),v.setAttributeNS(null,"height",n(b)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const i=this.svgFactory.create(e.width,e.height),m=this.svgFactory.createElement("svg:defs");i.appendChild(m),this.defs=m;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",c(e.transform)),i.appendChild(b),this.svg=b,i}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var _=J(1),pe=J(26);const re=__webpack_require__(172),ie=__webpack_require__(2001),ne=__webpack_require__(3779),B=__webpack_require__(6558),h=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class A{constructor(g){this.source=g,this.url=function E(f){const g=B.parse(f);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(f)?B.parse(`file:///${f}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g,e;return null!=(e=null==(g=this._fullRequestReader)?void 0:g._loaded)?e:0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new c(this):new s(this),this._fullRequestReader}getRangeReader(g,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new P(this,g,e):new n(this,g,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const e of this._rangeRequestReaders.slice(0))e.cancel(g)}};class r{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=g.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._headersCapability=(0,_.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const e=g._readableStream.read();return null===e?(g._readCapability=(0,_.createPromiseCapability)(),g.read()):(g._loaded+=e.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const e=g._readableStream.read();return null===e?(g._readCapability=(0,_.createPromiseCapability)(),g.read()):(g._loaded+=e.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(f,g){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:g}}class s extends r{constructor(g){super(g);const e=i=>{if(404===i.statusCode){const T=new _.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=T,void this._headersCapability.reject(T)}this._headersCapability.resolve(),this._setReadableStream(i);const m=T=>this._readableStream.headers[T.toLowerCase()],{allowRangeRequests:b,suggestedLength:v}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=v||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(m)};this._request=null,this._request="http:"===this._url.protocol?ie.request(o(this._url,g.httpHeaders),e):ne.request(o(this._url,g.httpHeaders),e),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class n extends C{constructor(g,e,i){super(g),this._httpHeaders={};for(const b in g.httpHeaders){const v=g.httpHeaders[b];void 0!==v&&(this._httpHeaders[b]=v)}this._httpHeaders.Range=`bytes=${e}-${i-1}`;const m=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const v=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v}};this._request=null,this._request="http:"===this._url.protocol?ie.request(o(this._url,this._httpHeaders),m):ne.request(o(this._url,this._httpHeaders),m),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class c extends r{constructor(g){super(g);let e=decodeURIComponent(this._url.path);h.test(this._url.href)&&(e=e.replace(/^\//,"")),re.lstat(e,(i,m)=>{if(i)return"ENOENT"===i.code&&(i=new _.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=m.size,this._setReadableStream(re.createReadStream(e)),this._headersCapability.resolve()})}}class P extends C{constructor(g,e,i){super(g);let m=decodeURIComponent(this._url.path);h.test(this._url.href)&&(m=m.replace(/^\//,"")),this._setReadableStream(re.createReadStream(m,{start:e,end:i-1}))}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function B(E,A){return 404===E||0===E&&A.startsWith("file:")?new _.MissingPDFException('Missing PDF "'+A+'".'):new _.UnexpectedResponseException(`Unexpected server response (${E}) while retrieving PDF "${A}".`,E)},L.extractFilenameFromHeader=function ne(E){const A=E("Content-Disposition");if(A){let r=(0,pe.getFilenameFromContentDispositionHeader)(A);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(C){}if((0,re.isPdfFile)(r))return r}return null},L.validateRangeRequestCapabilities=function ie({getResponseHeader:E,isHttp:A,rangeChunkSize:r,disableRange:C}){const o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(E("Content-Length"),10);return!Number.isInteger(s)||(o.suggestedLength=s,s<=2*r)||C||!A||"bytes"!==E("Accept-Ranges")||"identity"!==(E("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},L.validateResponseStatus=function h(E){return 200===E||206===E};var _=J(1),pe=J(27),re=J(5)},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function pe(re){let ie=!0,ne=B("filename\\*","i").exec(re);if(ne){ne=ne[1];let s=r(ne);return s=unescape(s),s=C(s),s=o(s),E(s)}if(ne=function A(s){const n=[];let c;const P=B("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(c=P.exec(s));){let[,g,e,i]=c;if(g=parseInt(g,10),g in n){if(0===g)break}else n[g]=[e,i]}const f=[];for(let g=0;g<n.length&&g in n;++g){let[e,i]=n[g];i=r(i),e&&(i=unescape(i),0===g&&(i=C(i))),f.push(i)}return f.join("")}(re),ne)return E(o(ne));if(ne=B("filename","i").exec(re),ne){ne=ne[1];let s=r(ne);return s=o(s),E(s)}function B(s,n){return new RegExp("(?:^|;)\\s*"+s+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',n)}function h(s,n){if(s){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const c=new TextDecoder(s,{fatal:!0}),P=(0,_.stringToBytes)(n);n=c.decode(P),ie=!1}catch(c){}}return n}function E(s){return ie&&/[\x80-\xff]/.test(s)&&(s=h("utf-8",s),ie&&(s=h("iso-8859-1",s))),s}function r(s){if(s.startsWith('"')){const n=s.slice(1).split('\\"');for(let c=0;c<n.length;++c){const P=n[c].indexOf('"');-1!==P&&(n[c]=n[c].slice(0,P),n.length=c+1),n[c]=n[c].replace(/\\(.)/g,"$1")}s=n.join('"')}return s}function C(s){const n=s.indexOf("'");return-1===n?s:h(s.slice(0,n),s.slice(n+1).replace(/^[^']*'/,""))}function o(s){return!s.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(s)?s:s.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(n,c,P,f){if("q"===P||"Q"===P)return h(c,f=(f=f.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,e){return String.fromCharCode(parseInt(e,16))}));try{f=atob(f)}catch(g){}return h(c,f)})}return""};var _=J(1)},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var _=J(1),pe=J(26);class B{constructor(C,o={}){this.url=C,this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.getXhr=o.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(C,o,s){const n={begin:C,end:o};for(const c in s)n[c]=s[c];return this.request(n)}requestFull(C){return this.request(C)}request(C){const o=this.getXhr(),s=this.currXhrId++,n=this.pendingRequests[s]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const c in this.httpHeaders){const P=this.httpHeaders[c];void 0!==P&&o.setRequestHeader(c,P)}return this.isHttp&&"begin"in C&&"end"in C?(o.setRequestHeader("Range",`bytes=${C.begin}-${C.end-1}`),n.expectedStatus=206):n.expectedStatus=200,o.responseType="arraybuffer",C.onError&&(o.onerror=function(c){C.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,s),o.onprogress=this.onProgress.bind(this,s),n.onHeadersReceived=C.onHeadersReceived,n.onDone=C.onDone,n.onError=C.onError,n.onProgress=C.onProgress,o.send(null),s}onProgress(C,o){var n;const s=this.pendingRequests[C];!s||null==(n=s.onProgress)||n.call(s,o)}onStateChange(C,o){var g,e,i;const s=this.pendingRequests[C];if(!s)return;const n=s.xhr;if(n.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),4!==n.readyState||!(C in this.pendingRequests))return;if(delete this.pendingRequests[C],0===n.status&&this.isHttp)return void(null==(g=s.onError)||g.call(s,n.status));const c=n.status||200;if((200!==c||206!==s.expectedStatus)&&c!==s.expectedStatus)return void(null==(e=s.onError)||e.call(s,n.status));const f=function ne(r){const C=r.response;return"string"!=typeof C?C:(0,_.stringToBytes)(C).buffer}(n);if(206===c){const m=n.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);s.onDone({begin:parseInt(b[1],10),chunk:f})}else f?s.onDone({begin:0,chunk:f}):null==(i=s.onError)||i.call(s,n.status)}getRequestXhr(C){return this.pendingRequests[C].xhr}isPendingRequest(C){return C in this.pendingRequests}abortRequest(C){const o=this.pendingRequests[C].xhr;delete this.pendingRequests[C],o.abort()}}L.PDFNetworkStream=class h{constructor(C){this._source=C,this._manager=new B(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(C){const o=this._rangeRequestReaders.indexOf(C);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E(this._manager,this._source),this._fullRequestReader}getRangeReader(C,o){const s=new A(this._manager,C,o);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(C){var o;null==(o=this._fullRequestReader)||o.cancel(C);for(const s of this._rangeRequestReaders.slice(0))s.cancel(C)}};class E{constructor(C,o){this._manager=C;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=C.requestFull(s),this._headersReceivedCapability=(0,_.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const C=this._fullRequestId,o=this._manager.getRequestXhr(C),s=P=>o.getResponseHeader(P),{allowRangeRequests:n,suggestedLength:c}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(s),this._isRangeSupported&&this._manager.abortRequest(C),this._headersReceivedCapability.resolve()}_onDone(C){if(C&&(this._requests.length>0?this._requests.shift().resolve({value:C.chunk,done:!1}):this._cachedChunks.push(C.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(C){this._storedError=(0,pe.createResponseStatusError)(C,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(C){var o;null==(o=this.onProgress)||o.call(this,{loaded:C.loaded,total:C.lengthComputable?C.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var C=this;return _asyncToGenerator(function*(){if(C._storedError)throw C._storedError;if(C._cachedChunks.length>0)return{value:C._cachedChunks.shift(),done:!1};if(C._done)return{value:void 0,done:!0};const o=(0,_.createPromiseCapability)();return C._requests.push(o),o.promise})()}cancel(C){this._done=!0,this._headersReceivedCapability.reject(C);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class A{constructor(C,o,s){this._manager=C;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._requestId=C.requestRange(o,s,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var C;null==(C=this.onClosed)||C.call(this,this)}_onDone(C){const o=C.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(C){this._storedError=(0,pe.createResponseStatusError)(C,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(C){var o;this.isStreamingSupported||null==(o=this.onProgress)||o.call(this,{loaded:C.loaded})}get isStreamingSupported(){return!1}read(){var C=this;return _asyncToGenerator(function*(){if(C._storedError)throw C._storedError;if(null!==C._queuedChunk){const s=C._queuedChunk;return C._queuedChunk=null,{value:s,done:!1}}if(C._done)return{value:void 0,done:!0};const o=(0,_.createPromiseCapability)();return C._requests.push(o),o.promise})()}cancel(C){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var _=J(1),pe=J(26);function re(E,A,r){return{method:"GET",headers:E,signal:null==r?void 0:r.signal,mode:"cors",credentials:A?"include":"same-origin",redirect:"follow"}}function ie(E){const A=new Headers;for(const r in E){const C=E[r];void 0!==C&&A.append(r,C)}return A}L.PDFFetchStream=class ne{constructor(A){this.source=A,this.isHttp=/^https?:/i.test(A.url),this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var A,r;return null!=(r=null==(A=this._fullRequestReader)?void 0:A._loaded)?r:0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new B(this),this._fullRequestReader}getRangeReader(A,r){if(r<=this._progressiveDataLength)return null;const C=new h(this,A,r);return this._rangeRequestReaders.push(C),C}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const r of this._rangeRequestReaders.slice(0))r.cancel(A)}};class B{constructor(A){this._stream=A,this._reader=null,this._loaded=0,this._filename=null;const r=A.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,_.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=ie(this._stream.httpHeaders);const C=r.url;fetch(C,re(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,pe.validateResponseStatus)(o.status))throw(0,pe.createResponseStatusError)(o.status,C);this._reader=o.body.getReader(),this._headersCapability.resolve();const s=P=>o.headers.get(P),{allowRangeRequests:n,suggestedLength:c}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n,this._contentLength=c||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var A=this;return _asyncToGenerator(function*(){yield A._headersCapability.promise;const{value:r,done:C}=yield A._reader.read();return C?{value:r,done:C}:(A._loaded+=r.byteLength,A.onProgress&&A.onProgress({loaded:A._loaded,total:A._contentLength}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(A){this._reader&&this._reader.cancel(A),this._abortController&&this._abortController.abort()}}class h{constructor(A,r,C){this._stream=A,this._reader=null,this._loaded=0;const o=A.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=ie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${r}-${C-1}`);const s=o.url;fetch(s,re(this._headers,this._withCredentials,this._abortController)).then(n=>{if(!(0,pe.validateResponseStatus)(n.status))throw(0,pe.createResponseStatusError)(n.status,s);this._readCapability.resolve(),this._reader=n.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var A=this;return _asyncToGenerator(function*(){yield A._readCapability.promise;const{value:r,done:C}=yield A._reader.read();return C?{value:r,done:C}:(A._loaded+=r.byteLength,A.onProgress&&A.onProgress({loaded:A._loaded}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(A){this._reader&&this._reader.cancel(A),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var L=__webpack_module_cache__[_e];if(void 0!==L)return L.exports;var J=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](J,J.exports,__w_pdfjs_require__),J.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return pe.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return re.GlobalWorkerOptions}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(_e,"LoopbackPort",{enumerable:!0,get:function(){return J.LoopbackPort}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return J.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return _.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return J.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return _.PixelsPerInch}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return _.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return B.SVGGraphics}}),Object.defineProperty(_e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return J.build}}),Object.defineProperty(_e,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return J.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return _.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return _.getXfaPageViewport}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return _.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return _.loadScript}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return ne.renderTextLayer}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return J.version}});var L=__w_pdfjs_require__(1),J=__w_pdfjs_require__(4),_=__w_pdfjs_require__(5),pe=__w_pdfjs_require__(20),re=__w_pdfjs_require__(13),ie=__w_pdfjs_require__(3),ne=__w_pdfjs_require__(23),B=__w_pdfjs_require__(24),h=__w_pdfjs_require__(22);if(ie.isNodeJS){const{PDFNodeStream:r}=__w_pdfjs_require__(25);(0,J.setPDFNetworkStreamFactory)(C=>new r(C))}else{const{PDFNetworkStream:r}=__w_pdfjs_require__(28),{PDFFetchStream:C}=__w_pdfjs_require__(29);(0,J.setPDFNetworkStreamFactory)(o=>(0,_.isValidFetchUrl)(o.url)?new C(o):new r(o))}})(),__webpack_exports__})(),module.exports=J()},2813:function(_e,L,J){var ie,_=J(8926).default;ie=()=>(()=>{"use strict";var pe=[,(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DefaultXfaLayerFactory=h.DefaultTextLayerFactory=h.DefaultStructTreeLayerFactory=h.DefaultAnnotationLayerFactory=void 0;var A=E(2),r=E(4),C=E(5),o=E(7),s=E(8),n=E(9);h.DefaultAnnotationLayerFactory=class c{createAnnotationLayerBuilder(i,m,b=null,v="",T=!0,R=r.NullL10n,I=!1,U=null,G=null,q=null,Z=null){return new A.AnnotationLayerBuilder({pageDiv:i,pdfPage:m,imageResourcesPath:v,renderForms:T,linkService:new C.SimpleLinkService,l10n:R,annotationStorage:b,enableScripting:I,hasJSActionsPromise:U,fieldObjectsPromise:q,mouseState:G,annotationCanvasMap:Z})}},h.DefaultStructTreeLayerFactory=class P{createStructTreeLayerBuilder(i){return new o.StructTreeLayerBuilder({pdfPage:i})}},h.DefaultTextLayerFactory=class f{createTextLayerBuilder(i,m,b,v=!1,T,R){return new s.TextLayerBuilder({textLayerDiv:i,pageIndex:m,viewport:b,enhanceTextSelection:v,eventBus:T,highlighter:R})}},h.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(i,m,b=null,v=null){return new n.XfaLayerBuilder({pageDiv:i,pdfPage:m,annotationStorage:b,linkService:new C.SimpleLinkService,xfaHtml:v})}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AnnotationLayerBuilder=void 0;var A=E(3),r=E(4);h.AnnotationLayerBuilder=class C{constructor({pageDiv:s,pdfPage:n,linkService:c,downloadManager:P,annotationStorage:f=null,imageResourcesPath:g="",renderForms:e=!0,l10n:i=r.NullL10n,enableScripting:m=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:v=null,mouseState:T=null,annotationCanvasMap:R=null}){this.pageDiv=s,this.pdfPage=n,this.linkService=c,this.downloadManager=P,this.imageResourcesPath=g,this.renderForms=e,this.l10n=i,this.annotationStorage=f,this.enableScripting=m,this._hasJSActionsPromise=b,this._fieldObjectsPromise=v,this._mouseState=T,this._annotationCanvasMap=R,this.div=null,this._cancelled=!1}render(s,n="display"){var c=this;return _(function*(){const[P,f=!1,g=null]=yield Promise.all([c.pdfPage.getAnnotations({intent:n}),c._hasJSActionsPromise,c._fieldObjectsPromise]);if(c._cancelled||0===P.length)return;const e={viewport:s.clone({dontFlip:!0}),div:c.div,annotations:P,page:c.pdfPage,imageResourcesPath:c.imageResourcesPath,renderForms:c.renderForms,linkService:c.linkService,downloadManager:c.downloadManager,annotationStorage:c.annotationStorage,enableScripting:c.enableScripting,hasJSActions:f,fieldObjects:g,mouseState:c._mouseState,annotationCanvasMap:c._annotationCanvasMap};c.div?A.AnnotationLayer.update(e):(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),e.div=c.div,A.AnnotationLayer.render(e),c.l10n.translate(c.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},B=>{let h;h="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:J(6036),B.exports=h},(B,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NullL10n=void 0,h.fixupLangCode=function C(n){return r[null==n?void 0:n.toLowerCase()]||n},h.getL10nFallback=A;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function A(n,c){switch(n){case"find_match_count":n=`find_match_count[${1===c.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===c.limit?"one":"other"}]`}return E[n]||""}const r={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};h.NullL10n={getLanguage:()=>_(function*(){return"en-us"})(),getDirection:()=>_(function*(){return"ltr"})(),get:(n,c=null,P=A(n,c))=>_(function*(){return function o(n,c){return c?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(P,f)=>f in c?c[f]:"{{"+f+"}}"):n}(P,c)})(),translate:n=>_(function*(){})()}},(B,h,E)=>{var c,P,st,g,bt;Object.defineProperty(h,"__esModule",{value:!0}),h.SimpleLinkService=h.PDFLinkService=h.LinkTarget=void 0;var A=E(6);const C={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(m,{url:b,target:v,rel:T,enabled:R=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const I=(0,A.removeNullCharacters)(b);R?m.href=m.title=I:(m.href="",m.title=`Disabled: ${I}`,m.onclick=()=>!1);let U="";switch(v){case C.NONE:break;case C.SELF:U="_self";break;case C.BLANK:U="_blank";break;case C.PARENT:U="_parent";break;case C.TOP:U="_top"}m.target=U,m.rel="string"==typeof T?T:"noopener noreferrer nofollow"}h.LinkTarget=C;const i=class{constructor({eventBus:b,externalLinkTarget:v=null,externalLinkRel:T=null,ignoreDestinationZoom:R=!1}={}){we(this,P),we(this,c,new Map),this.eventBus=b,this.externalLinkTarget=v,this.externalLinkRel=T,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=R,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,v=null){this.baseUrl=v,this.pdfDocument=b,Se(this,c).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var v=this;return _(function*(){var I;if(!v.pdfDocument)return;let T,R;"string"==typeof b?(T=b,R=yield v.pdfDocument.getDestination(b)):(T=null,R=yield b),Array.isArray(R)?Pe(I=v,P,st).call(I,b,T,R):console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const v="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(v)&&v>0&&v<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(v)),this.pdfViewer.scrollPageIntoView({pageNumber:v})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,v,T=!1){o(b,{url:v,target:T?C.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const v=JSON.stringify(b);if(v.length>0)return this.getAnchorUrl("#"+escape(v))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var R;if(!this.pdfDocument)return;let v,T;if(b.includes("=")){const I=(0,A.parseQueryString)(b);if(I.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:I.get("search").replace(/"/g,""),phraseSearch:"true"===I.get("phrase")}),I.has("page")&&(v=0|I.get("page")||1),I.has("zoom")){const U=I.get("zoom").split(","),G=U[0],q=parseFloat(G);G.includes("Fit")?"Fit"===G||"FitB"===G?T=[null,{name:G}]:"FitH"===G||"FitBH"===G||"FitV"===G||"FitBV"===G?T=[null,{name:G},U.length>1?0|U[1]:null]:"FitR"===G?5!==U.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):T=[null,{name:G},0|U[1],0|U[2],0|U[3],0|U[4]]:console.error(`PDFLinkService.setHash: "${G}" is not a valid zoom value.`):T=[null,{name:"XYZ"},U.length>1?0|U[1]:null,U.length>2?0|U[2]:null,q?q/100:G]}T?this.pdfViewer.scrollPageIntoView({pageNumber:v||this.page,destArray:T,allowNegativeOffset:!0}):v&&(this.page=v),I.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:I.get("pagemode")}),I.has("nameddest")&&this.goToDestination(I.get("nameddest"))}else{T=unescape(b);try{T=JSON.parse(T),Array.isArray(T)||(T=T.toString())}catch(I){}if("string"==typeof T||Pe(R=i,g,bt).call(R,T))return void this.goToDestination(T);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){var v,T;switch(b){case"GoBack":null==(v=this.pdfHistory)||v.back();break;case"GoForward":null==(T=this.pdfHistory)||T.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,v){if(!v)return;const T=0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`;Se(this,c).set(T,b)}_cachedPageNumber(b){if(!b)return null;const v=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return Se(this,c).get(v)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let s=i;c=new WeakMap,P=new WeakSet,st=function(b,v=null,T){const R=T[0];let I;if("object"==typeof R&&null!==R){if(I=this._cachedPageNumber(R),!I)return void this.pdfDocument.getPageIndex(R).then(U=>{this.cachePageRef(U+1,R),Pe(this,P,st).call(this,b,v,T)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${b}".`);I=R+1}!I||I<1||I>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${I}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:v,explicitDest:T,pageNumber:I})),this.pdfViewer.scrollPageIntoView({pageNumber:I,destArray:T,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,bt=function(b){if(!Array.isArray(b))return!1;const v=b.length;if(v<2)return!1;const T=b[0];if(!("object"==typeof T&&Number.isInteger(T.num)&&Number.isInteger(T.gen)||Number.isInteger(T)&&T>=0))return!1;const R=b[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let I=!0;switch(R.name){case"XYZ":if(5!==v)return!1;break;case"Fit":case"FitB":return 2===v;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==v)return!1;break;case"FitR":if(6!==v)return!1;I=!1;break;default:return!1}for(let U=2;U<v;U++){const G=b[U];if(!("number"==typeof G||I&&null===G))return!1}return!0},we(s,g),h.PDFLinkService=s,h.SimpleLinkService=class n{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return _(function*(){})()}goToPage(b){}addLinkAttributes(b,v,T=!1){o(b,{url:v,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,v){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(B,h)=>{var de,At;Object.defineProperty(h,"__esModule",{value:!0}),h.animationStarted=h.VERTICAL_PADDING=h.UNKNOWN_SCALE=h.TextLayerMode=h.SpreadMode=h.SidebarView=h.ScrollMode=h.SCROLLBAR_PADDING=h.RenderingStates=h.RendererType=h.ProgressBar=h.PresentationModeState=h.OutputScale=h.MIN_SCALE=h.MAX_SCALE=h.MAX_AUTO_SCALE=h.DEFAULT_SCALE_VALUE=h.DEFAULT_SCALE_DELTA=h.DEFAULT_SCALE=h.AutoPrintRegExp=void 0,h.apiPageLayoutToViewerModes=function Q(K){let le=b.VERTICAL,ce=v.NONE;switch(K){case"SinglePage":le=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":le=b.PAGE;case"TwoColumnLeft":ce=v.ODD;break;case"TwoPageRight":le=b.PAGE;case"TwoColumnRight":ce=v.EVEN}return{scrollMode:le,spreadMode:ce}},h.apiPageModeToSidebarView=function te(K){switch(K){case"UseNone":return e.NONE;case"UseThumbs":return e.THUMBS;case"UseOutlines":return e.OUTLINE;case"UseAttachments":return e.ATTACHMENTS;case"UseOC":return e.LAYERS}return e.NONE},h.approximateFraction=function ee(K){if(Math.floor(K)===K)return[K,1];const le=1/K;if(le>8)return[1,8];if(Math.floor(le)===le)return[1,le];const w=K>1?le:K;let ge,N=0,X=1,fe=1,ue=1;for(;;){const Ae=N+fe,ye=X+ue;if(ye>8)break;w<=Ae/ye?(fe=Ae,ue=ye):(N=Ae,X=ye)}return ge=w-N/X<fe/ue-w?w===K?[N,X]:[X,N]:w===K?[fe,ue]:[ue,fe],ge},h.backtrackBeforeAllVisibleElements=M,h.binarySearchFirstItem=$,h.getActiveOrFocusedElement=function z(){let K=document,le=K.activeElement||K.querySelector(":focus");for(;null==le?void 0:le.shadowRoot;)K=le.shadowRoot,le=K.activeElement||K.querySelector(":focus");return le},h.getPageSizeInches=function he({view:K,userUnit:le,rotate:ce}){const[w,N,X,fe]=K,ue=ce%180!=0,ge=(X-w)/72*le,Ae=(fe-N)/72*le;return{width:ue?Ae:ge,height:ue?ge:Ae}},h.getVisibleElements=function a({scrollEl:K,views:le,sortByVisibility:ce=!1,horizontal:w=!1,rtl:N=!1}){const X=K.scrollTop,fe=X+K.clientHeight,ue=K.scrollLeft,ge=ue+K.clientWidth,xe=[],Ee=new Set,Le=le.length;let se=$(le,w?function ye(Y){const p=Y.div,D=p.offsetLeft+p.clientLeft;return N?D<ge:D+p.clientWidth>ue}:function Ae(Y){const p=Y.div;return p.offsetTop+p.clientTop+p.clientHeight>X});se>0&&se<Le&&!w&&(se=M(se,le,X));let k=w?ge:-1;for(let Y=se;Y<Le;Y++){const p=le[Y],D=p.div,oe=D.offsetLeft+D.clientLeft,me=D.offsetTop+D.clientTop,Ce=D.clientWidth,ve=D.clientHeight,Me=oe+Ce,Te=me+ve;if(-1===k)Te>=fe&&(k=Te);else if((w?oe:me)>k)break;if(Te<=X||me>=fe||Me<=ue||oe>=ge)continue;const Ne=Math.max(0,X-me)+Math.max(0,Te-fe),Oe=(Ce-(Math.max(0,ue-oe)+Math.max(0,Me-ge)))/Ce;xe.push({id:p.id,x:oe,y:me,view:p,percent:(ve-Ne)/ve*Oe*100|0,widthPercent:100*Oe|0}),Ee.add(p.id)}const O=xe[0],F=xe[xe.length-1];return ce&&xe.sort(function(Y,p){const D=Y.percent-p.percent;return Math.abs(D)>.001?-D:Y.id-p.id}),{first:O,last:F,views:xe,ids:Ee}},h.isPortraitOrientation=function x(K){return K.width<=K.height},h.isValidRotation=function u(K){return Number.isInteger(K)&&K%90==0},h.isValidScrollMode=function S(K){return Number.isInteger(K)&&Object.values(b).includes(K)&&K!==b.UNKNOWN},h.isValidSpreadMode=function y(K){return Number.isInteger(K)&&Object.values(v).includes(K)&&K!==v.UNKNOWN},h.noContextMenuHandler=function d(K){K.preventDefault()},h.normalizeWheelEventDelta=function l(K){let le=t(K);return 0===K.deltaMode?le/=900:1===K.deltaMode&&(le/=30),le},h.normalizeWheelEventDirection=t,h.parseQueryString=function G(K){const le=new Map;for(const[ce,w]of new URLSearchParams(K))le.set(ce.toLowerCase(),w);return le},h.removeNullCharacters=function V(K,le=!1){return"string"!=typeof K?(console.error("The argument must be a string."),K):(le&&(K=K.replace(Z," ")),K.replace(q,""))},h.roundToDivide=function ae(K,le){const ce=K%le;return 0===ce?K:Math.round(K-ce+le)},h.scrollIntoView=function I(K,le,ce=!1){let w=K.offsetParent;if(!w)return void console.error("offsetParent is not set -- cannot scroll");let N=K.offsetTop+K.clientTop,X=K.offsetLeft+K.clientLeft;for(;w.clientHeight===w.scrollHeight&&w.clientWidth===w.scrollWidth||ce&&(w.classList.contains("markedContent")||"hidden"===getComputedStyle(w).overflow);)if(N+=w.offsetTop,X+=w.offsetLeft,w=w.offsetParent,!w)return;le&&(void 0!==le.top&&(N+=le.top),void 0!==le.left&&(X+=le.left,w.scrollLeft=X)),w.scrollTop=N},h.watchScroll=function U(K,le){const ce=function(X){N||(N=window.requestAnimationFrame(function(){N=null;const ue=K.scrollLeft,ge=w.lastX;ue!==ge&&(w.right=ue>ge),w.lastX=ue;const Ae=K.scrollTop,ye=w.lastY;Ae!==ye&&(w.down=Ae>ye),w.lastY=Ae,le(w)}))},w={right:!0,down:!0,lastX:K.scrollLeft,lastY:K.scrollTop,_eventHandler:ce};let N=null;return K.addEventListener("scroll",ce,!0),w},h.DEFAULT_SCALE_VALUE="auto",h.DEFAULT_SCALE=1,h.DEFAULT_SCALE_DELTA=1.1,h.MIN_SCALE=.1,h.MAX_SCALE=10,h.UNKNOWN_SCALE=0,h.MAX_AUTO_SCALE=1.25,h.SCROLLBAR_PADDING=40,h.VERTICAL_PADDING=5,h.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},h.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const e={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};h.SidebarView=e,h.RendererType={CANVAS:"canvas",SVG:"svg"},h.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};h.ScrollMode=b;const v={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};h.SpreadMode=v,h.AutoPrintRegExp=/\bprint\s*\(/,h.OutputScale=class R{constructor(){const le=window.devicePixelRatio||1;this.sx=le,this.sy=le}get scaled(){return 1!==this.sx||1!==this.sy}};const q=/\x00/g,Z=/[\x01-\x1F]/g;function $(K,le,ce=0){let w=ce,N=K.length-1;if(N<0||!le(K[N]))return K.length;if(le(K[w]))return w;for(;w<N;){const X=w+N>>1;le(K[X])?N=X:w=X+1}return w}function M(K,le,ce){if(K<2)return K;let w=le[K].div,N=w.offsetTop+w.clientTop;N>=ce&&(w=le[K-1].div,N=w.offsetTop+w.clientTop);for(let X=K-2;X>=0&&(w=le[X].div,!(w.offsetTop+w.clientTop+w.clientHeight<=N));--X)K=X;return K}function t(K){let le=Math.hypot(K.deltaX,K.deltaY);const ce=Math.atan2(K.deltaY,K.deltaX);return-.25*Math.PI<ce&&ce<.75*Math.PI&&(le=-le),le}const j=new Promise(function(K){window.requestAnimationFrame(K)});h.animationStarted=j,de=new WeakSet,At=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},h.ProgressBar=class W{constructor(le){if(we(this,de),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(le+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(le){this._indeterminate=isNaN(le),this._percent=function H(K,le,ce){return Math.min(Math.max(K,le),ce)}(le,0,100),Pe(this,de,At).call(this)}setWidth(le){if(!le)return;const w=le.parentNode.offsetWidth-le.offsetWidth;w>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${w}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(B,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeLayerBuilder=void 0;const E={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},A=/^H(\d+)$/;h.StructTreeLayerBuilder=class r{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,s){void 0!==o.alt&&s.setAttribute("aria-label",o.alt),void 0!==o.id&&s.setAttribute("aria-owns",o.id),void 0!==o.lang&&s.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;const s=document.createElement("span");if("role"in o){const{role:n}=o,c=n.match(A);c?(s.setAttribute("role","heading"),s.setAttribute("aria-level",c[1])):E[n]&&s.setAttribute("role",E[n])}if(this._setAttributes(o,s),o.children)if(1===o.children.length&&"id"in o.children[0])this._setAttributes(o.children[0],s);else for(const n of o.children)s.appendChild(this._walk(n));return s}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextLayerBuilder=void 0;var A=E(3);h.TextLayerBuilder=class C{constructor({textLayerDiv:s,eventBus:n,pageIndex:c,viewport:P,highlighter:f=null,enhanceTextSelection:g=!1}){this.textLayerDiv=s,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=c+1,this.viewport=P,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=f,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const s=document.createElement("div");s.className="endOfContent",this.textLayerDiv.appendChild(s)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(s=0){var c;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(c=this.highlighter)||c.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,A.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:s,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var P;this.textLayerDiv.appendChild(n),this._finishRendering(),null==(P=this.highlighter)||P.enable()},function(P){})}cancel(){var s;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(s=this.highlighter)||s.disable()}setTextContentStream(s){this.cancel(),this.textContentStream=s}setTextContent(s){this.cancel(),this.textContent=s}_bindMouse(){const s=this.textLayerDiv;let n=null;s.addEventListener("mousedown",c=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const P=s.querySelector(".endOfContent");if(!P)return;let f=c.target!==s;if(f=f&&"none"!==window.getComputedStyle(P).getPropertyValue("-moz-user-select"),f){const g=s.getBoundingClientRect(),e=Math.max(0,(c.pageY-g.top)/g.height);P.style.top=(100*e).toFixed(2)+"%"}P.classList.add("active")}),s.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const c=s.querySelector(".endOfContent");!c||(c.style.top="",c.classList.remove("active"))})}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XfaLayerBuilder=void 0;var A=E(3);h.XfaLayerBuilder=class r{constructor({pageDiv:o,pdfPage:s,annotationStorage:n=null,linkService:c,xfaHtml:P=null}){this.pageDiv=o,this.pdfPage=s,this.annotationStorage=n,this.linkService=c,this.xfaHtml=P,this.div=null,this._cancelled=!1}render(o,s="display"){if("print"===s){const n={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s},c=document.createElement("div");this.pageDiv.appendChild(c),n.div=c;const P=A.XfaLayer.render(n);return Promise.resolve(P)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const c={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s};return this.div?A.XfaLayer.update(c):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),c.div=this.div,A.XfaLayer.render(c))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFViewer=h.PDFSinglePageViewer=void 0;var A=E(6),r=E(11);h.PDFViewer=class C extends r.BaseViewer{},h.PDFSinglePageViewer=class o extends r.BaseViewer{_resetView(){super._resetView(),this._scrollMode=A.ScrollMode.PAGE,this._spreadMode=A.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(B,h,E)=>{var R,I,U,rt,q,Z,V,$,ee,ae,he,M,yt,d,vt,l,He,S,Ke,x,St,H,at,z,Ct,te,Pt,be,wt;Object.defineProperty(h,"__esModule",{value:!0}),h.PagesCountLimit=h.PDFPageViewBuffer=h.BaseViewer=void 0;var A=E(3),r=E(6),C=E(2),o=E(4),s=E(12),n=E(14),c=E(5),P=E(7),f=E(15),g=E(8),e=E(9);const m="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};h.PagesCountLimit=b;class v{constructor(w){we(this,U),we(this,R,new Set),we(this,I,0),Re(this,I,w)}push(w){const N=Se(this,R);N.has(w)&&N.delete(w),N.add(w),N.size>Se(this,I)&&Pe(this,U,rt).call(this)}resize(w,N=null){Re(this,I,w);const X=Se(this,R);if(N){const fe=X.size;let ue=1;for(const ge of X)if(N.has(ge.id)&&(X.delete(ge),X.add(ge)),++ue>fe)break}for(;X.size>Se(this,I);)Pe(this,U,rt).call(this)}has(w){return Se(this,R).has(w)}[Symbol.iterator](){return Se(this,R).keys()}}R=new WeakMap,I=new WeakMap,U=new WeakSet,rt=function(){const w=Se(this,R).keys().next().value;null==w||w.destroy(),Se(this,R).delete(w)},h.PDFPageViewBuffer=v;const le=class{constructor(w){var X,fe,ue,ge;if(we(this,M),we(this,d),we(this,l),we(this,S),we(this,x),we(this,H),we(this,z),we(this,te),we(this,be),we(this,q,null),we(this,Z,A.AnnotationMode.ENABLE_FORMS),we(this,V,null),we(this,$,!1),we(this,ee,0),we(this,ae,null),we(this,he,null),this.constructor===le)throw new Error("Cannot initialize BaseViewer.");const N="2.14.305";if(A.version!==N)throw new Error(`The API version "${A.version}" does not match the Viewer version "${N}".`);if(this.container=w.container,this.viewer=w.viewer||w.container.firstElementChild,"DIV"!==(null==(X=this.container)?void 0:X.tagName.toUpperCase())||"DIV"!==(null==(fe=this.viewer)?void 0:fe.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=w.eventBus,this.linkService=w.linkService||new c.SimpleLinkService,this.downloadManager=w.downloadManager||null,this.findController=w.findController||null,this._scriptingManager=w.scriptingManager||null,this.removePageBorders=w.removePageBorders||!1,this.textLayerMode=null!=(ue=w.textLayerMode)?ue:r.TextLayerMode.ENABLE,Re(this,Z,null!=(ge=w.annotationMode)?ge:A.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=w.imageResourcesPath||"",this.enablePrintAutoRotate=w.enablePrintAutoRotate||!1,this.renderer=w.renderer||r.RendererType.CANVAS,this.useOnlyCssZoom=w.useOnlyCssZoom||!1,this.maxCanvasPixels=w.maxCanvasPixels,this.l10n=w.l10n||o.NullL10n,Re(this,$,w.enablePermissions||!1),this.pageColors=w.pageColors||null,w.pageColors&&(!CSS.supports("color",w.pageColors.background)||!CSS.supports("color",w.pageColors.foreground))&&((w.pageColors.background||w.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!w.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new n.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=w.renderingQueue,this._doc=document.documentElement,this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=r.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(w){return this._pages[w]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(w){return null==w?void 0:w.pdfPage})}get renderForms(){return Se(this,Z)===A.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(w){if(!Number.isInteger(w))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(w,!0)||console.error(`currentPageNumber: "${w}" is not a valid page.`)}_setCurrentPageNumber(w,N=!1){var fe,ue;if(this._currentPageNumber===w)return N&&Pe(this,H,at).call(this),!0;if(!(0<w&&w<=this.pagesCount))return!1;const X=this._currentPageNumber;return this._currentPageNumber=w,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:w,pageLabel:null!=(ue=null==(fe=this._pageLabels)?void 0:fe[w-1])?ue:null,previous:X}),N&&Pe(this,H,at).call(this),!0}get currentPageLabel(){var w,N;return null!=(N=null==(w=this._pageLabels)?void 0:w[this._currentPageNumber-1])?N:null}set currentPageLabel(w){if(!this.pdfDocument)return;let N=0|w;if(this._pageLabels){const X=this._pageLabels.indexOf(w);X>=0&&(N=X+1)}this._setCurrentPageNumber(N,!0)||console.error(`currentPageLabel: "${w}" is not a valid page.`)}get currentScale(){return this._currentScale!==r.UNKNOWN_SCALE?this._currentScale:r.DEFAULT_SCALE}set currentScale(w){if(isNaN(w))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(w,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(w){!this.pdfDocument||this._setScale(w,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(w){if(!(0,r.isValidRotation)(w))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((w%=360)<0&&(w+=360),this._pagesRotation===w))return;this._pagesRotation=w;const N=this._currentPageNumber,X={rotation:w};for(const fe of this._pages)fe.update(X);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:w,pageNumber:N}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(w){var N=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=w,!w)return;const X=w.isPureXfa,fe=w.numPages,ue=w.getPage(1),ge=w.getOptionalContentConfig(),Ae=Se(this,$)?w.getPermissions():Promise.resolve();if(fe>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ye=this._scrollMode=r.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ye})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:fe})},()=>{}),this._onBeforeDraw=ye=>{const xe=this._pages[ye.pageNumber-1];!xe||Se(this,q).push(xe)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ye=>{ye.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ye.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Se(this,he)&&(document.removeEventListener("visibilitychange",Se(this,he)),Re(this,he,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ue,Ae]).then(([ye,xe])=>{if(w!==this.pdfDocument)return;this._firstPageCapability.resolve(ye),this._optionalContentConfigPromise=ge,Pe(this,M,yt).call(this,xe);const Ee=this._scrollMode===r.ScrollMode.PAGE?null:this.viewer,Le=this.currentScale,se=ye.getViewport({scale:Le*A.PixelsPerInch.PDF_TO_CSS_UNITS}),k=this.textLayerMode===r.TextLayerMode.DISABLE||X?null:this,O=Se(this,Z)!==A.AnnotationMode.DISABLE?this:null,F=X?this:null;for(let p=1;p<=fe;++p){const D=new s.PDFPageView({container:Ee,eventBus:this.eventBus,id:p,scale:Le,defaultViewport:se.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerFactory:k,textLayerMode:this.textLayerMode,annotationLayerFactory:O,annotationMode:Se(this,Z),xfaLayerFactory:F,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(D)}const Y=this._pages[0];Y&&(Y.setPdfPage(ye),this.linkService.cachePageRef(1,ye.ref)),this._scrollMode===r.ScrollMode.PAGE?Pe(this,l,He).call(this):this._spreadMode!==r.SpreadMode.NONE&&this._updateSpreadMode(),Pe(this,d,vt).call(this).then(_(function*(){if(N.findController&&N.findController.setDocument(w),N._scriptingManager&&N._scriptingManager.setDocument(w),w.loadingParams.disableAutoFetch||fe>b.FORCE_LAZY_PAGE_INIT)return void N._pagesCapability.resolve();let p=fe-1;if(p<=0)N._pagesCapability.resolve();else for(let D=2;D<=fe;++D){const oe=w.getPage(D).then(me=>{const Ce=N._pages[D-1];Ce.pdfPage||Ce.setPdfPage(me),N.linkService.cachePageRef(D,me.ref),0==--p&&N._pagesCapability.resolve()},me=>{console.error(`Unable to get page ${D} to initialize viewer`,me),0==--p&&N._pagesCapability.resolve()});D%b.PAUSE_EAGER_PAGE_INIT==0&&(yield oe)}})),this.eventBus.dispatch("pagesinit",{source:this}),w.getMetadata().then(({info:p})=>{w===this.pdfDocument&&p.Language&&(this.viewer.lang=p.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ye=>{console.error("Unable to initialize viewer",ye),this._pagesCapability.reject(ye)})}setPageLabels(w){var N,X;if(this.pdfDocument){w?Array.isArray(w)&&this.pdfDocument.numPages===w.length?this._pageLabels=w:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let fe=0,ue=this._pages.length;fe<ue;fe++)this._pages[fe].setPageLabel(null!=(X=null==(N=this._pageLabels)?void 0:N[fe])?X:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=r.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Re(this,q,new v(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,A.createPromiseCapability)(),this._onePageRenderedCapability=(0,A.createPromiseCapability)(),this._pagesCapability=(0,A.createPromiseCapability)(),this._scrollMode=r.ScrollMode.VERTICAL,this._previousScrollMode=r.ScrollMode.UNKNOWN,this._spreadMode=r.SpreadMode.NONE,Re(this,ae,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Se(this,he)&&(document.removeEventListener("visibilitychange",Se(this,he)),Re(this,he,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(m),null!==Se(this,V)&&(Re(this,Z,Se(this,V)),Re(this,V,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(w,N,X=!1,fe=!1){if(this._currentScaleValue=N.toString(),Pe(this,x,St).call(this,w))return void(fe&&this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:N}));this._doc.style.setProperty("--zoom-factor",w);const ue={scale:w};for(const ge of this._pages)ge.update(ue);if(this._currentScale=w,!X){let Ae,ge=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ge=this._location.pageNumber,Ae=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ge,destArray:Ae,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:fe?N:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==r.SpreadMode.NONE&&this._scrollMode!==r.ScrollMode.HORIZONTAL?2:1}_setScale(w,N=!1){let X=parseFloat(w);if(X>0)this._setScaleUpdatePages(X,w,N,!1);else{const fe=this._pages[this._currentPageNumber-1];if(!fe)return;let ue=r.SCROLLBAR_PADDING,ge=r.VERTICAL_PADDING;this.isInPresentationMode?ue=ge=4:this.removePageBorders?ue=ge=0:this._scrollMode===r.ScrollMode.HORIZONTAL&&([ue,ge]=[ge,ue]);const Ae=(this.container.clientWidth-ue)/fe.width*fe.scale/this._pageWidthScaleFactor,ye=(this.container.clientHeight-ge)/fe.height*fe.scale;switch(w){case"page-actual":X=1;break;case"page-width":X=Ae;break;case"page-height":X=ye;break;case"page-fit":X=Math.min(Ae,ye);break;case"auto":const xe=(0,r.isPortraitOrientation)(fe)?Ae:Math.min(ye,Ae);X=Math.min(r.MAX_AUTO_SCALE,xe);break;default:return void console.error(`_setScale: "${w}" is an unknown zoom value.`)}this._setScaleUpdatePages(X,w,N,!0)}}pageLabelToPageNumber(w){if(!this._pageLabels)return null;const N=this._pageLabels.indexOf(w);return N<0?null:N+1}scrollPageIntoView({pageNumber:w,destArray:N=null,allowNegativeOffset:X=!1,ignoreDestinationZoom:fe=!1}){if(!this.pdfDocument)return;const ue=Number.isInteger(w)&&this._pages[w-1];if(!ue)return void console.error(`scrollPageIntoView: "${w}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!N)return void this._setCurrentPageNumber(w,!0);let Ee,Le,ge=0,Ae=0,ye=0,xe=0;const se=ue.rotation%180!=0,k=(se?ue.height:ue.width)/ue.scale/A.PixelsPerInch.PDF_TO_CSS_UNITS,O=(se?ue.width:ue.height)/ue.scale/A.PixelsPerInch.PDF_TO_CSS_UNITS;let F=0;switch(N[1].name){case"XYZ":ge=N[2],Ae=N[3],F=N[4],ge=null!==ge?ge:0,Ae=null!==Ae?Ae:O;break;case"Fit":case"FitB":F="page-fit";break;case"FitH":case"FitBH":Ae=N[2],F="page-width",null===Ae&&this._location?(ge=this._location.left,Ae=this._location.top):("number"!=typeof Ae||Ae<0)&&(Ae=O);break;case"FitV":case"FitBV":ge=N[2],ye=k,xe=O,F="page-height";break;case"FitR":ge=N[2],Ae=N[3],ye=N[4]-ge,xe=N[5]-Ae,Ee=(this.container.clientWidth-(this.removePageBorders?0:r.SCROLLBAR_PADDING))/ye/A.PixelsPerInch.PDF_TO_CSS_UNITS,Le=(this.container.clientHeight-(this.removePageBorders?0:r.VERTICAL_PADDING))/xe/A.PixelsPerInch.PDF_TO_CSS_UNITS,F=Math.min(Math.abs(Ee),Math.abs(Le));break;default:return void console.error(`scrollPageIntoView: "${N[1].name}" is not a valid destination type.`)}if(fe||(F&&F!==this._currentScale?this.currentScaleValue=F:this._currentScale===r.UNKNOWN_SCALE&&(this.currentScaleValue=r.DEFAULT_SCALE_VALUE)),"page-fit"===F&&!N[4])return void Pe(this,S,Ke).call(this,ue);const Y=[ue.viewport.convertToViewportPoint(ge,Ae),ue.viewport.convertToViewportPoint(ge+ye,Ae+xe)];let p=Math.min(Y[0][0],Y[1][0]),D=Math.min(Y[0][1],Y[1][1]);X||(p=Math.max(p,0),D=Math.max(D,0)),Pe(this,S,Ke).call(this,ue,{left:p,top:D})}_updateLocation(w){const N=this._currentScale,X=this._currentScaleValue,fe=parseFloat(X)===N?Math.round(1e4*N)/100:X,ue=w.id,Ae=this.container,ye=this._pages[ue-1].getPagePoint(Ae.scrollLeft-w.x,Ae.scrollTop-w.y),xe=Math.round(ye[0]),Ee=Math.round(ye[1]);let Le=`#page=${ue}`;this.isInPresentationMode||(Le+=`&zoom=${fe},${xe},${Ee}`),this._location={pageNumber:ue,scale:fe,top:Ee,left:xe,rotation:this._pagesRotation,pdfOpenParams:Le}}update(){const w=this._getVisiblePages(),N=w.views,X=N.length;if(0===X)return;const fe=Math.max(10,2*X+1);Se(this,q).resize(fe,w.ids),this.renderingQueue.renderHighestPriority(w);const ue=this._spreadMode===r.SpreadMode.NONE&&(this._scrollMode===r.ScrollMode.PAGE||this._scrollMode===r.ScrollMode.VERTICAL),ge=this._currentPageNumber;let Ae=!1;for(const ye of N){if(ye.percent<100)break;if(ye.id===ge&&ue){Ae=!0;break}}this._setCurrentPageNumber(Ae?ge:N[0].id),this._updateLocation(w.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(w){return this.container.contains(w)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===r.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===r.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const w=this._scrollMode===r.ScrollMode.PAGE?Se(this,ae).pages:this._pages,N=this._scrollMode===r.ScrollMode.HORIZONTAL;return(0,r.getVisibleElements)({scrollEl:this.container,views:w,sortByVisibility:!0,horizontal:N,rtl:N&&this._isContainerRtl})}isPageVisible(w){return!!this.pdfDocument&&(Number.isInteger(w)&&w>0&&w<=this.pagesCount?this._getVisiblePages().ids.has(w):(console.error(`isPageVisible: "${w}" is not a valid page.`),!1))}isPageCached(w){if(!this.pdfDocument)return!1;if(!(Number.isInteger(w)&&w>0&&w<=this.pagesCount))return console.error(`isPageCached: "${w}" is not a valid page.`),!1;const N=this._pages[w-1];return Se(this,q).has(N)}cleanup(){for(const w of this._pages)w.renderingState!==r.RenderingStates.FINISHED&&w.reset()}_cancelRendering(){for(const w of this._pages)w.cancelRendering()}forceRendering(w){const N=w||this._getVisiblePages(),X=Pe(this,te,Pt).call(this,N),ue=this.renderingQueue.getHighestPriority(N,this._pages,X,this._spreadMode!==r.SpreadMode.NONE&&this._scrollMode!==r.ScrollMode.HORIZONTAL);return Pe(this,be,wt).call(this,N.ids),!!ue&&(Pe(this,z,Ct).call(this,ue).then(()=>{this.renderingQueue.renderView(ue)}),!0)}createTextLayerBuilder(w,N,X,fe=!1,ue,ge){return new g.TextLayerBuilder({textLayerDiv:w,eventBus:ue,pageIndex:N,viewport:X,enhanceTextSelection:!this.isInPresentationMode&&fe,highlighter:ge})}createTextHighlighter(w,N){return new f.TextHighlighter({eventBus:N,pageIndex:w,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(w,N,X=null,fe="",ue=!0,ge=o.NullL10n,Ae=null,ye=null,xe=null,Ee=null,Le=null){var se,k,O,F;return new C.AnnotationLayerBuilder({pageDiv:w,pdfPage:N,annotationStorage:X||(null==(se=this.pdfDocument)?void 0:se.annotationStorage),imageResourcesPath:fe,renderForms:ue,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ge,enableScripting:null!=Ae?Ae:this.enableScripting,hasJSActionsPromise:ye||(null==(k=this.pdfDocument)?void 0:k.hasJSActions()),fieldObjectsPromise:Ee||(null==(O=this.pdfDocument)?void 0:O.getFieldObjects()),mouseState:xe||(null==(F=this._scriptingManager)?void 0:F.mouseState),annotationCanvasMap:Le})}createXfaLayerBuilder(w,N,X=null){var fe;return new e.XfaLayerBuilder({pageDiv:w,pdfPage:N,annotationStorage:X||(null==(fe=this.pdfDocument)?void 0:fe.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(w){return new P.StructTreeLayerBuilder({pdfPage:w})}get hasEqualPageSizes(){const w=this._pages[0];for(let N=1,X=this._pages.length;N<X;++N){const fe=this._pages[N];if(fe.width!==w.width||fe.height!==w.height)return!1}return!0}getPagesOverview(){return this._pages.map(w=>{const N=w.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,r.isPortraitOrientation)(N)?{width:N.width,height:N.height,rotation:N.rotation}:{width:N.height,height:N.width,rotation:(N.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(w){if(!(w instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${w}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=w;const N={optionalContentConfigPromise:w};for(const X of this._pages)X.update(N);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:w})}get scrollMode(){return this._scrollMode}set scrollMode(w){if(this._scrollMode!==w){if(!(0,r.isValidScrollMode)(w))throw new Error(`Invalid scroll mode: ${w}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=w,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(w=null){const N=this._scrollMode,X=this.viewer;X.classList.toggle("scrollHorizontal",N===r.ScrollMode.HORIZONTAL),X.classList.toggle("scrollWrapped",N===r.ScrollMode.WRAPPED),this.pdfDocument&&w&&(N===r.ScrollMode.PAGE?Pe(this,l,He).call(this):this._previousScrollMode===r.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(w){if(this._spreadMode!==w){if(!(0,r.isValidSpreadMode)(w))throw new Error(`Invalid spread mode: ${w}`);this._spreadMode=w,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:w}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(w=null){if(!this.pdfDocument)return;const N=this.viewer,X=this._pages;if(this._scrollMode===r.ScrollMode.PAGE)Pe(this,l,He).call(this);else if(N.textContent="",this._spreadMode===r.SpreadMode.NONE)for(const fe of this._pages)N.appendChild(fe.div);else{const fe=this._spreadMode-1;let ue=null;for(let ge=0,Ae=X.length;ge<Ae;++ge)null===ue?(ue=document.createElement("div"),ue.className="spread",N.appendChild(ue)):ge%2===fe&&(ue=ue.cloneNode(!1),N.appendChild(ue)),ue.appendChild(X[ge].div)}!w||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}_getPageAdvance(w,N=!1){switch(this._scrollMode){case r.ScrollMode.WRAPPED:{const{views:X}=this._getVisiblePages(),fe=new Map;for(const{id:ue,y:ge,percent:Ae,widthPercent:ye}of X){if(0===Ae||ye<100)continue;let xe=fe.get(ge);xe||fe.set(ge,xe||(xe=[])),xe.push(ue)}for(const ue of fe.values()){const ge=ue.indexOf(w);if(-1===ge)continue;const Ae=ue.length;if(1===Ae)break;if(N)for(let ye=ge-1,xe=0;ye>=xe;ye--){const Le=ue[ye+1]-1;if(ue[ye]<Le)return w-Le}else for(let ye=ge+1,xe=Ae;ye<xe;ye++){const Le=ue[ye-1]+1;if(ue[ye]>Le)return Le-w}if(N){const ye=ue[0];if(ye<w)return w-ye+1}else{const ye=ue[Ae-1];if(ye>w)return ye-w+1}break}break}case r.ScrollMode.HORIZONTAL:break;case r.ScrollMode.PAGE:case r.ScrollMode.VERTICAL:{if(this._spreadMode===r.SpreadMode.NONE)break;const X=this._spreadMode-1;if(N&&w%2!==X)break;if(!N&&w%2===X)break;const{views:fe}=this._getVisiblePages(),ue=N?w-1:w+1;for(const{id:ge,percent:Ae,widthPercent:ye}of fe)if(ge===ue){if(Ae>0&&100===ye)return 2;break}break}}return 1}nextPage(){const w=this._currentPageNumber,N=this.pagesCount;if(w>=N)return!1;const X=this._getPageAdvance(w,!1)||1;return this.currentPageNumber=Math.min(w+X,N),!0}previousPage(){const w=this._currentPageNumber;if(w<=1)return!1;const N=this._getPageAdvance(w,!0)||1;return this.currentPageNumber=Math.max(w-N,1),!0}increaseScale(w=1){let N=this._currentScale;do{N=(N*r.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.ceil(10*N)/10,N=Math.min(r.MAX_SCALE,N)}while(--w>0&&N<r.MAX_SCALE);this.currentScaleValue=N}decreaseScale(w=1){let N=this._currentScale;do{N=(N/r.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.floor(10*N)/10,N=Math.max(r.MIN_SCALE,N)}while(--w>0&&N>r.MIN_SCALE);this.currentScaleValue=N}updateContainerHeightCss(){const w=this.container.clientHeight;w!==Se(this,ee)&&(Re(this,ee,w),this._doc.style.setProperty("--viewer-container-height",`${w}px`))}};let T=le;q=new WeakMap,Z=new WeakMap,V=new WeakMap,$=new WeakMap,ee=new WeakMap,ae=new WeakMap,he=new WeakMap,M=new WeakSet,yt=function(w){!w||(w.includes(A.PermissionFlag.COPY)||this.viewer.classList.add(m),!w.includes(A.PermissionFlag.MODIFY_ANNOTATIONS)&&!w.includes(A.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Se(this,Z)===A.AnnotationMode.ENABLE_FORMS&&(Re(this,V,Se(this,Z)),Re(this,Z,A.AnnotationMode.ENABLE)))},d=new WeakSet,vt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const w=new Promise(N=>{Re(this,he,()=>{"hidden"===document.visibilityState&&(N(),document.removeEventListener("visibilitychange",Se(this,he)),Re(this,he,null))}),document.addEventListener("visibilitychange",Se(this,he))});return Promise.race([this._onePageRenderedCapability.promise,w])},l=new WeakSet,He=function(){if(this._scrollMode!==r.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const w=this._currentPageNumber,N=Se(this,ae),X=this.viewer;if(X.textContent="",N.pages.length=0,this._spreadMode!==r.SpreadMode.NONE||this.isInPresentationMode){const fe=new Set,ue=this._spreadMode-1;-1===ue?fe.add(w-1):w%2!==ue?(fe.add(w-1),fe.add(w)):(fe.add(w-2),fe.add(w-1));const ge=document.createElement("div");if(ge.className="spread",this.isInPresentationMode){const Ae=document.createElement("div");Ae.className="dummyPage",ge.appendChild(Ae)}for(const Ae of fe){const ye=this._pages[Ae];!ye||(ge.appendChild(ye.div),N.pages.push(ye))}X.appendChild(ge)}else{const fe=this._pages[w-1];X.appendChild(fe.div),N.pages.push(fe)}N.scrollDown=w>=N.previousPageNumber,N.previousPageNumber=w},S=new WeakSet,Ke=function(w,N=null){const{div:X,id:fe}=w;if(this._scrollMode===r.ScrollMode.PAGE&&(this._setCurrentPageNumber(fe),Pe(this,l,He).call(this),this.update()),!N&&!this.isInPresentationMode){const ue=X.offsetLeft+X.clientLeft,ge=ue+X.clientWidth,{scrollLeft:Ae,clientWidth:ye}=this.container;(this._scrollMode===r.ScrollMode.HORIZONTAL||ue<Ae||ge>Ae+ye)&&(N={left:0,top:0})}(0,r.scrollIntoView)(X,N)},x=new WeakSet,St=function(w){return w===this._currentScale||Math.abs(w-this._currentScale)<1e-15},H=new WeakSet,at=function(){const w=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Pe(this,S,Ke).call(this,w)},z=new WeakSet,Ct=function(w){var N=this;return _(function*(){var X,fe;if(w.pdfPage)return w.pdfPage;try{const ue=yield N.pdfDocument.getPage(w.id);return w.pdfPage||w.setPdfPage(ue),(null==(fe=(X=N.linkService)._cachedPageNumber)?void 0:fe.call(X,ue.ref))||N.linkService.cachePageRef(w.id,ue.ref),ue}catch(ue){return console.error("Unable to get page for page view",ue),null}})()},te=new WeakSet,Pt=function(w){var N,X;if(1===(null==(N=w.first)?void 0:N.id))return!0;if((null==(X=w.last)?void 0:X.id)===this.pagesCount)return!1;switch(this._scrollMode){case r.ScrollMode.PAGE:return Se(this,ae).scrollDown;case r.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},be=new WeakSet,wt=function(w){for(const N of w){const X=this._pages[N-1];null==X||X.toggleLoadingIconSpinner(!0)}for(const N of Se(this,q))w.has(N.id)||N.toggleLoadingIconSpinner(!1)},h.BaseViewer=T},(B,h,E)=>{var c;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFPageView=void 0;var A=E(3),r=E(6),C=E(13),o=E(4);const s=C.compatibilityParams.maxCanvasPixels||16777216;c=new WeakMap,h.PDFPageView=class n{constructor(f){var m,b,v,T;we(this,c,A.AnnotationMode.ENABLE_FORMS);const g=f.container,e=f.defaultViewport;this.id=f.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=f.scale||r.DEFAULT_SCALE,this.viewport=e,this.pdfPageRotate=e.rotation,this._optionalContentConfigPromise=f.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(m=f.textLayerMode)?m:r.TextLayerMode.ENABLE,Re(this,c,null!=(b=f.annotationMode)?b:A.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=f.imageResourcesPath||"",this.useOnlyCssZoom=f.useOnlyCssZoom||!1,this.maxCanvasPixels=f.maxCanvasPixels||s,this.pageColors=f.pageColors||null,this.eventBus=f.eventBus,this.renderingQueue=f.renderingQueue,this.textLayerFactory=f.textLayerFactory,this.annotationLayerFactory=f.annotationLayerFactory,this.xfaLayerFactory=f.xfaLayerFactory,this.textHighlighter=null==(v=f.textHighlighterFactory)?void 0:v.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=f.structTreeLayerFactory,this.renderer=f.renderer||r.RendererType.CANVAS,this.l10n=f.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=r.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(T=this.renderingQueue)?void 0:T.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(R=>{i.setAttribute("aria-label",R)}),this.div=i,null==g||g.appendChild(i)}setPdfPage(f){this.pdfPage=f,this.pdfPageRotate=f.rotate,this.viewport=f.getViewport({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var f=this;return _(function*(){let g=null;try{yield f.annotationLayer.render(f.viewport,"display")}catch(e){g=e}finally{f.eventBus.dispatch("annotationlayerrendered",{source:f,pageNumber:f.id,error:g})}})()}_renderXfaLayer(){var f=this;return _(function*(){let g=null;try{const e=yield f.xfaLayer.render(f.viewport,"display");f.textHighlighter&&f._buildXfaTextContentItems(e.textDivs)}catch(e){g=e}finally{f.eventBus.dispatch("xfalayerrendered",{source:f,pageNumber:f.id,error:g})}})()}_buildXfaTextContentItems(f){var g=this;return _(function*(){const e=yield g.pdfPage.getTextContent(),i=[];for(const m of e.items)i.push(m.str);g.textHighlighter.setTextMapping(f,i),g.textHighlighter.enable()})()}_resetZoomLayer(f=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,f&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:f=!1,keepAnnotationLayer:g=!1,keepXfaLayer:e=!1}={}){var R,I;this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:e}),this.renderingState=r.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const m=i.childNodes,b=f&&this.zoomLayer||null,v=g&&(null==(R=this.annotationLayer)?void 0:R.div)||null,T=e&&(null==(I=this.xfaLayer)?void 0:I.div)||null;for(let U=m.length-1;U>=0;U--){const G=m[U];switch(G){case b:case v:case T:continue}G.remove()}i.removeAttribute("data-loaded"),v&&this.annotationLayer.hide(),T&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(U=>{var G;null==(G=this.loadingIconDiv)||G.setAttribute("aria-label",U)}),i.appendChild(this.loadingIconDiv)}update({scale:f=0,rotation:g=null,optionalContentConfigPromise:e=null}){if(this.scale=f||this.scale,"number"==typeof g&&(this.rotation=g),e instanceof Promise&&(this._optionalContentConfigPromise=e),this.viewport=this.viewport.clone({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:b}=document.documentElement;b.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let m=!1;if(this.canvas&&this.maxCanvasPixels>0){const b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(m=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&m)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:f=!1,keepXfaLayer:g=!1}={}){var e;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!f||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(e=this.textHighlighter)||e.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:f,redrawAnnotationLayer:g=!1,redrawXfaLayer:e=!1}){const i=this.viewport.width,m=this.viewport.height,b=this.div;f.style.width=f.parentNode.style.width=b.style.width=Math.floor(i)+"px",f.style.height=f.parentNode.style.height=b.style.height=Math.floor(m)+"px";const v=this.viewport.rotation-this.paintedViewportMap.get(f).rotation,T=Math.abs(v);let R=1,I=1;if((90===T||270===T)&&(R=m/i,I=i/m),f.style.transform=`rotate(${v}deg) scale(${R}, ${I})`,this.textLayer){const U=this.textLayer.viewport,q=Math.abs(this.viewport.rotation-U.rotation);let Z=i/U.width;(90===q||270===q)&&(Z=i/U.height);const V=this.textLayer.textLayerDiv;let $,ee;switch(q){case 0:$=ee=0;break;case 90:$=0,ee="-"+V.style.height;break;case 180:$="-"+V.style.width,ee="-"+V.style.height;break;case 270:$="-"+V.style.width,ee=0;break;default:console.error("Bad rotation value.")}V.style.transform=`rotate(${q}deg) scale(${Z}) translate(${$}, ${ee})`,V.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),e&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(f,g){return this.viewport.convertToPdfPoint(f,g)}toggleLoadingIconSpinner(f=!1){var g;null==(g=this.loadingIconDiv)||g.classList.toggle("notVisible",!f)}draw(){var I,U,G,f=this;this.renderingState!==r.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:e}=this;if(!e)return this.renderingState=r.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=r.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=g.style.width,i.style.height=g.style.height,i.classList.add("canvasWrapper"),(null==(I=this.annotationLayer)?void 0:I.div)?g.insertBefore(i,this.annotationLayer.div):g.appendChild(i);let m=null;if(this.textLayerMode!==r.TextLayerMode.DISABLE&&this.textLayerFactory){const q=document.createElement("div");q.className="textLayer",q.style.width=i.style.width,q.style.height=i.style.height,(null==(U=this.annotationLayer)?void 0:U.div)?g.insertBefore(q,this.annotationLayer.div):g.appendChild(q),m=this.textLayerFactory.createTextLayerBuilder(q,this.id-1,this.viewport,this.textLayerMode===r.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=m,Se(this,c)!==A.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,e,null,this.imageResourcesPath,Se(this,c)===A.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(G=this.xfaLayer)?void 0:G.div)&&g.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=q=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=r.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=r.RenderingStates.RUNNING,q()});q()});const v=function(){var q=_(function*(Z=null){if(T===f.paintTask&&(f.paintTask=null),Z instanceof A.RenderingCancelledException)f._renderError=null;else if(f._renderError=Z,f.renderingState=r.RenderingStates.FINISHED,f.loadingIconDiv&&(f.loadingIconDiv.remove(),delete f.loadingIconDiv),f._resetZoomLayer(!0),f.eventBus.dispatch("pagerendered",{source:f,pageNumber:f.id,cssTransform:!1,timestamp:performance.now(),error:f._renderError}),Z)throw Z});return function(){return q.apply(this,arguments)}}(),T=this.renderer===r.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);T.onRenderContinue=b,this.paintTask=T;const R=T.promise.then(()=>v(null).then(()=>{if(m){const q=e.streamTextContent({includeMarkedContent:!0});m.setTextContentStream(q),m.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(q){return v(q)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,e,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=q=>{q.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Z=>{if(!Z||!this.canvas)return;const V=this.structTreeLayer.render(Z);V.classList.add("structTree"),this.canvas.appendChild(V)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(e)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}paintOnCanvas(f){const g=(0,A.createPromiseCapability)(),e={promise:g.promise,onRenderContinue(V){V()},cancel(){Z.cancel()}},i=this.viewport,m=document.createElement("canvas");m.hidden=!0;let b=!0;const v=function(){b&&(m.hidden=!1,b=!1)};f.appendChild(m),this.canvas=m;const T=m.getContext("2d",{alpha:!1}),R=this.outputScale=new r.OutputScale;if(this.useOnlyCssZoom){const V=i.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});R.sx*=V.width/i.width,R.sy*=V.height/i.height}if(this.maxCanvasPixels>0){const $=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));R.sx>$||R.sy>$?(R.sx=$,R.sy=$,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const I=(0,r.approximateFraction)(R.sx),U=(0,r.approximateFraction)(R.sy);m.width=(0,r.roundToDivide)(i.width*R.sx,I[0]),m.height=(0,r.roundToDivide)(i.height*R.sy,U[0]),m.style.width=(0,r.roundToDivide)(i.width,I[1])+"px",m.style.height=(0,r.roundToDivide)(i.height,U[1])+"px",this.paintedViewportMap.set(m,i);const q={canvasContext:T,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,annotationMode:Se(this,c),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Z=this.pdfPage.render(q);return Z.onContinue=function(V){v(),e.onRenderContinue?e.onRenderContinue(V):V()},Z.promise.then(function(){v(),g.resolve()},function(V){v(),g.reject(V)}),e}paintOnSvg(f){let g=!1;const e=()=>{if(g)throw new A.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,m=this.viewport.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:Se(this,c)}).then(v=>(e(),new A.SVGGraphics(i.commonObjs,i.objs).getSVG(v,m).then(R=>{e(),this.svg=R,this.paintedViewportMap.set(R,m),R.style.width=f.style.width,R.style.height=f.style.height,this.renderingState=r.RenderingStates.FINISHED,f.appendChild(R)}))),onRenderContinue(v){v()},cancel(){g=!0}}}setPageLabel(f){this.pageLabel="string"==typeof f?f:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(B,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.compatibilityParams=h.OptionKind=h.AppOptions=void 0;const E=Object.create(null);h.compatibilityParams=E;{const s=navigator.userAgent||"",n=navigator.platform||"",c=navigator.maxTouchPoints||1,P=/Android/.test(s);(/\b(iPad|iPhone|iPod)(?=;)/.test(s)||"MacIntel"===n&&c>1||P)&&(E.maxCanvasPixels=5242880)}const A={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};h.OptionKind=A;const r={annotationMode:{value:2,kind:A.VIEWER+A.PREFERENCE},cursorToolOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:A.VIEWER},defaultZoomValue:{value:"",kind:A.VIEWER+A.PREFERENCE},disableHistory:{value:!1,kind:A.VIEWER},disablePageLabels:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePermissions:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:A.VIEWER+A.PREFERENCE},enableScripting:{value:!0,kind:A.VIEWER+A.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:A.VIEWER},externalLinkTarget:{value:0,kind:A.VIEWER+A.PREFERENCE},historyUpdateUrl:{value:!1,kind:A.VIEWER+A.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},imageResourcesPath:{value:"./images/",kind:A.VIEWER},maxCanvasPixels:{value:16777216,compatibility:E.maxCanvasPixels,kind:A.VIEWER},pageColorsBackground:{value:"Canvas",kind:A.VIEWER+A.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:A.VIEWER+A.PREFERENCE},pdfBugEnabled:{value:!1,kind:A.VIEWER+A.PREFERENCE},printResolution:{value:150,kind:A.VIEWER},renderer:{value:"canvas",kind:A.VIEWER},sidebarViewOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},scrollModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},spreadModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},textLayerMode:{value:1,kind:A.VIEWER+A.PREFERENCE},useOnlyCssZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},viewerCssTheme:{value:0,kind:A.VIEWER+A.PREFERENCE},viewOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},cMapPacked:{value:!0,kind:A.API},cMapUrl:{value:"../web/cmaps/",kind:A.API},disableAutoFetch:{value:!1,kind:A.API+A.PREFERENCE},disableFontFace:{value:!1,kind:A.API+A.PREFERENCE},disableRange:{value:!1,kind:A.API+A.PREFERENCE},disableStream:{value:!1,kind:A.API+A.PREFERENCE},docBaseUrl:{value:"",kind:A.API},enableXfa:{value:!0,kind:A.API+A.PREFERENCE},fontExtraProperties:{value:!1,kind:A.API},isEvalSupported:{value:!0,kind:A.API},maxImageSize:{value:-1,kind:A.API},pdfBug:{value:!1,kind:A.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:A.API},verbosity:{value:1,kind:A.API},workerPort:{value:null,kind:A.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:A.WORKER}};r.disablePreferences={value:!1,kind:A.VIEWER},r.locale={value:navigator.language||"en-US",kind:A.VIEWER},r.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:A.VIEWER},r.renderer.kind+=A.PREFERENCE;const C=Object.create(null);h.AppOptions=class o{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){var f;const c=C[n];if(void 0!==c)return c;const P=r[n];return void 0!==P?null!=(f=P.compatibility)?f:P.value:void 0}static getAll(n=null){var P;const c=Object.create(null);for(const f in r){const g=r[f];if(n){if(0==(n&g.kind))continue;if(n===A.PREFERENCE){const i=g.value,m=typeof i;if("boolean"===m||"string"===m||"number"===m&&Number.isInteger(i)){c[f]=i;continue}throw new Error(`Invalid type for preference: ${f}`)}}const e=C[f];c[f]=void 0!==e?e:null!=(P=g.compatibility)?P:g.value}return c}static set(n,c){C[n]=c}static setAll(n){for(const c in n)C[c]=n[c]}static remove(n){delete C[n]}static _hasUserOptions(){return Object.keys(C).length>0}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFRenderingQueue=void 0;var A=E(3),r=E(6);h.PDFRenderingQueue=class o{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){var c;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&(null==(c=this.pdfThumbnailViewer)?void 0:c.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,c,P,f=!1){const g=n.views,e=g.length;if(0===e)return null;for(let T=0;T<e;T++){const R=g[T].view;if(!this.isViewFinished(R))return R}const i=n.first.id,m=n.last.id;if(m-i+1>e){const T=n.ids;for(let R=1,I=m-i;R<I;R++){const U=P?i+R:m-R;if(T.has(U))continue;const G=c[U-1];if(!this.isViewFinished(G))return G}}let b=P?m:i-2,v=c[b];return v&&!this.isViewFinished(v)||f&&(b+=P?1:-1,v=c[b],v&&!this.isViewFinished(v))?v:null}isViewFinished(n){return n.renderingState===r.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case r.RenderingStates.FINISHED:return!1;case r.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case r.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case r.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(c=>{c instanceof A.RenderingCancelledException||console.error(`renderView: "${c}"`)})}return!0}}},(B,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextHighlighter=void 0,h.TextHighlighter=class E{constructor({findController:r,eventBus:C,pageIndex:o}){this.findController=r,this.matches=[],this.eventBus=C,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(r,C){this.textDivs=r,this.textContentItemsStr=C}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=r=>{(r.pageIndex===this.pageIdx||-1===r.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(r,C){if(!r)return[];const{textContentItemsStr:o}=this;let s=0,n=0;const c=o.length-1,P=[];for(let f=0,g=r.length;f<g;f++){let e=r[f];for(;s!==c&&e>=n+o[s].length;)n+=o[s].length,s++;s===o.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:s,offset:e-n}};for(e+=C[f];s!==c&&e>n+o[s].length;)n+=o[s].length,s++;i.end={divIdx:s,offset:e-n},P.push(i)}return P}_renderMatches(r){if(0===r.length)return;const{findController:C,pageIdx:o}=this,{textContentItemsStr:s,textDivs:n}=this,c=o===C.selected.pageIdx,P=C.selected.matchIdx;let g=null;function i(T,R){const I=T.divIdx;return n[I].textContent="",m(I,0,T.offset,R)}function m(T,R,I,U){let G=n[T];if(G.nodeType===Node.TEXT_NODE){const V=document.createElement("span");G.parentNode.insertBefore(V,G),V.appendChild(G),n[T]=V,G=V}const q=s[T].substring(R,I),Z=document.createTextNode(q);if(U){const V=document.createElement("span");return V.className=`${U} appended`,V.appendChild(Z),G.appendChild(V),U.includes("selected")?V.offsetLeft:0}return G.appendChild(Z),0}let b=P,v=b+1;if(C.state.highlightAll)b=0,v=r.length;else if(!c)return;for(let T=b;T<v;T++){const R=r[T],I=R.begin,U=R.end,G=c&&T===P,q=G?" selected":"";let Z=0;if(g&&I.divIdx===g.divIdx?m(g.divIdx,g.offset,I.offset):(null!==g&&m(g.divIdx,g.offset,undefined),i(I)),I.divIdx===U.divIdx)Z=m(I.divIdx,I.offset,U.offset,"highlight"+q);else{Z=m(I.divIdx,I.offset,undefined,"highlight begin"+q);for(let V=I.divIdx+1,$=U.divIdx;V<$;V++)n[V].className="highlight middle"+q;i(U,"highlight end"+q)}g=U,G&&C.scrollMatchIntoView({element:n[I.divIdx],selectedLeft:Z,pageIndex:o,matchIndex:P})}g&&m(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:r,matches:C,pageIdx:o}=this,{textContentItemsStr:s,textDivs:n}=this;let c=-1;for(let g=0,e=C.length;g<e;g++){const i=C[g];for(let b=Math.max(c,i.begin.divIdx),v=i.end.divIdx;b<=v;b++){const T=n[b];T.textContent=s[b],T.className=""}c=i.end.divIdx+1}(null==r?void 0:r.highlightMatches)&&(this.matches=this._convertMatches(r.pageMatches[o]||null,r.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DownloadManager=void 0;var A=E(3);function r(o,s){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=o,n.target="_parent","download"in n&&(n.download=s),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}h.DownloadManager=class C{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(s,n){(0,A.createValidAbsoluteUrl)(s,"http://example.com")?r(s+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${s}`)}downloadData(s,n,c){r(URL.createObjectURL(new Blob([s],{type:c})),n)}openOrDownloadData(s,n,c){const P=(0,A.isPdfFile)(c),f=P?"application/pdf":"";if(P){let e,g=this._openBlobUrls.get(s);g||(g=URL.createObjectURL(new Blob([n],{type:f})),this._openBlobUrls.set(s,g)),e="?file="+encodeURIComponent(g+"#"+c);try{return window.open(e),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(s)}}return this.downloadData(n,c,f),!1}download(s,n,c,P="download"){r(URL.createObjectURL(s),c)}}},(B,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WaitOnType=h.EventBus=h.AutomationEventBus=void 0,h.waitOnEventOrTimeout=function A({target:o,name:s,delay:n=0}){return new Promise(function(c,P){if("object"!=typeof o||!s||"string"!=typeof s||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function f(m){o instanceof r?o._off(s,g):o.removeEventListener(s,g),i&&clearTimeout(i),c(m)}const g=f.bind(null,E.EVENT);o instanceof r?o._on(s,g):o.addEventListener(s,g);const e=f.bind(null,E.TIMEOUT),i=setTimeout(e,n)})};const E={EVENT:"event",TIMEOUT:"timeout"};h.WaitOnType=E;class r{constructor(){this._listeners=Object.create(null)}on(s,n,c=null){this._on(s,n,{external:!0,once:null==c?void 0:c.once})}off(s,n,c=null){this._off(s,n,{external:!0,once:null==c?void 0:c.once})}dispatch(s,n){const c=this._listeners[s];if(!c||0===c.length)return;let P;for(const{listener:f,external:g,once:e}of c.slice(0))e&&this._off(s,f),g?(P||(P=[])).push(f):f(n);if(P){for(const f of P)f(n);P=null}}_on(s,n,c=null){var f;((f=this._listeners)[s]||(f[s]=[])).push({listener:n,external:!0===(null==c?void 0:c.external),once:!0===(null==c?void 0:c.once)})}_off(s,n,c=null){const P=this._listeners[s];if(P)for(let f=0,g=P.length;f<g;f++)if(P[f].listener===n)return void P.splice(f,1)}}h.EventBus=r,h.AutomationEventBus=class C extends r{dispatch(s,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericL10n=void 0,E(19);var A=E(4);const r=document.webL10n;h.GenericL10n=class C{constructor(s){this._lang=s,this._ready=new Promise((n,c)=>{r.setLanguage((0,A.fixupLangCode)(s),()=>{n(r)})})}getLanguage(){var s=this;return _(function*(){return(yield s._ready).getLanguage()})()}getDirection(){var s=this;return _(function*(){return(yield s._ready).getDirection()})()}get(s,n=null,c=(0,A.getL10nFallback)(s,n)){var P=this;return _(function*(){return(yield P._ready).get(s,n,c)})()}translate(s){var n=this;return _(function*(){return(yield n._ready).translate(s)})()}}},()=>{document.webL10n=function(B,h,E){var A={},r="",C="textContent",o="",s={},n="loading";function i(V,$,ee){$=$||function(M){},ee=ee||function(){};var ae=new XMLHttpRequest;ae.open("GET",V,!0),ae.overrideMimeType&&ae.overrideMimeType("text/plain; charset=utf-8"),ae.onreadystatechange=function(){4==ae.readyState&&(200==ae.status||0===ae.status?$(ae.responseText):ee())},ae.onerror=ee,ae.ontimeout=ee;try{ae.send(null)}catch(he){ee()}}function b(V,$){V&&(V=V.toLowerCase()),$=$||function(){},function v(){A={},r="",o=""}(),o=V;var ee=function P(){return h.querySelectorAll('link[type="application/l10n"]')}(),ae=ee.length;if(0!==ae){var d,t=0;d=function(){++t>=ae&&($(),n="complete")};for(var u=0;u<ae;u++)new l(ee[u]).load(V,d)}else{var he=function f(){var V=h.querySelector('script[type="application/l10n"]');return V?JSON.parse(V.innerHTML):null}();if(he&&he.locales&&he.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(A=he.locales[V])){var M=he.default_locale.toLowerCase();for(var a in he.locales){if((a=a.toLowerCase())===V){A=he.locales[V];break}a===M&&(A=he.locales[M])}}$()}else console.log("no resource to load, early way out");n="complete"}function l(y){var x=y.href;this.load=function(j,H){!function m(V,$,ee,ae){var he=V.replace(/[^\/]*$/,"")||"./";function M(d){return d.lastIndexOf("\\")<0?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(V,function(d){r+=d,function a(d,t){var l={},u=/^\s*|\s*$/,S=/^\s*#|^\s*$/,y=/^\s*\[(.*)\]\s*$/,x=/^\s*@import\s+url\((.*)\)\s*$/i,j=/^([^=\s]*)\s*=\s*(.+)$/;function H(z,Q,te){var de=z.replace(u,"").split(/[\r\n]+/),be="*",K=$.split("-",1)[0],le=!1,ce="";!function w(){for(;;){if(!de.length)return void te();var N=de.shift();if(!S.test(N)){if(Q){if(ce=y.exec(N)){be=ce[1].toLowerCase(),le="*"!==be&&be!==$&&be!==K;continue}if(le)continue;if(ce=x.exec(N))return void W(he+ce[1],w)}var X=N.match(j);X&&3==X.length&&(l[X[1]]=M(X[2]))}}}()}function W(z,Q){i(z,function(te){H(te,!1,Q)},function(){console.warn(z+" not found."),Q()})}H(d,!0,function(){t(l)})}(d,function(t){for(var l in t){var u,S,y=l.lastIndexOf(".");y>0?(u=l.substring(0,y),S=l.substring(y+1)):(u=l,S=C),A[u]||(A[u]={}),A[u][S]=t[l]}ee&&ee()})},ae)}(x,j,H,function(){console.warn(x+" not found."),console.warn('"'+j+'" resource not found'),o="",H()})}}}function R(V,$,ee){var ae=A[V];if(!ae){if(console.warn("#"+V+" is undefined."),!ee)return null;ae=ee}var he={};for(var M in ae){var a=ae[M];a=U(a=I(a,$,V,M),$,V),he[M]=a}return he}function I(V,$,ee,ae){var M=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(V);if(!M||!M.length)return V;var t,a=M[1],d=M[2];return $&&d in $?t=$[d]:d in A&&(t=A[d]),a in s&&(V=(0,s[a])(V,t,ee,ae)),V}function U(V,$,ee){return V.replace(/\{\{\s*(.+?)\s*\}\}/g,function(he,M){return $&&M in $?$[M]:M in A?A[M]:(console.log("argument {{"+M+"}} for #"+ee+" is undefined."),he)})}function G(V){var $=function e(V){if(!V)return{};var $=V.getAttribute("data-l10n-id"),ee=V.getAttribute("data-l10n-args"),ae={};if(ee)try{ae=JSON.parse(ee)}catch(he){console.warn("could not parse arguments for #"+$)}return{id:$,args:ae}}(V);if($.id){var ee=R($.id,$.args);if(!ee)return void console.warn("#"+$.id+" is undefined.");if(ee[C]){if(0===function q(V){if(V.children)return V.children.length;if(void 0!==V.childElementCount)return V.childElementCount;for(var $=0,ee=0;ee<V.childNodes.length;ee++)$+=1===V.nodeType?1:0;return $}(V))V[C]=ee[C];else{for(var ae=V.childNodes,he=!1,M=0,a=ae.length;M<a;M++)3===ae[M].nodeType&&/\S/.test(ae[M].nodeValue)&&(he?ae[M].nodeValue="":(ae[M].nodeValue=ee[C],he=!0));if(!he){var d=h.createTextNode(ee[C]);V.insertBefore(d,V.firstChild)}}delete ee[C]}for(var t in ee)V[t]=ee[t]}}return s.plural=function(V,$,ee,ae){var he=parseFloat($);if(isNaN(he)||ae!=C)return V;s._pluralRules||(s._pluralRules=function T(V){function ee(a,d){return-1!==d.indexOf(a)}function ae(a,d,t){return d<=a&&a<=t}var he={0:function(a){return"other"},1:function(a){return ae(a%100,3,10)?"few":0===a?"zero":ae(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return ae(a,0,1)?"one":"other"},5:function(a){return ae(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return ae(a,3,6)?"few":ae(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&ae(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return ae(a%10,2,9)&&!ae(a%100,11,19)?"few":a%10!=1||ae(a%100,11,19)?"other":"one"},11:function(a){return ae(a%10,2,4)&&!ae(a%100,12,14)?"few":a%10==0||ae(a%10,5,9)||ae(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return ae(a,2,4)?"few":1==a?"one":"other"},13:function(a){return ae(a%10,2,4)&&!ae(a%100,12,14)?"few":1!=a&&ae(a%10,0,1)||ae(a%10,5,9)||ae(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return ae(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||ae(a%100,2,10)?"few":ae(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":ae(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return ae(a,2,10)?"few":ae(a,0,1)?"one":"other"},20:function(a){return!ae(a%10,3,4)&&a%10!=9||ae(a%100,10,19)||ae(a%100,70,79)||ae(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||ee(a%100,[12,72,92])?a%10!=1||ee(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return ae(a,0,1)||ae(a,11,99)?"one":"other"},23:function(a){return ae(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return ae(a,3,10)||ae(a,13,19)?"few":ee(a,[2,12])?"two":ee(a,[1,11])?"one":"other"}},M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[V.replace(/-.*$/,"")];return M in he?he[M]:(console.warn("plural form unknown for ["+V+"]"),function(){return"other"})}(o));var M="["+s._pluralRules(he)+"]";return 0===he&&ee+"[zero]"in A?V=A[ee+"[zero]"][ae]:1==he&&ee+"[one]"in A?V=A[ee+"[one]"][ae]:2==he&&ee+"[two]"in A?V=A[ee+"[two]"][ae]:ee+M in A?V=A[ee+M][ae]:ee+"[other]"in A&&(V=A[ee+"[other]"][ae]),V},{get:function(V,$,ee){var M,ae=V.lastIndexOf("."),he=C;ae>0&&(he=V.substring(ae+1),V=V.substring(0,ae)),ee&&((M={})[he]=ee);var a=R(V,$,M);return a&&he in a?a[he]:"{{"+V+"}}"},getData:function(){return A},getText:function(){return r},getLanguage:function(){return o},setLanguage:function(V,$){b(V,function(){$&&$()})},getDirection:function(){var $=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf($)>=0?"rtl":"ltr"},translate:function Z(V){for(var $=function g(V){return V?V.querySelectorAll("*[data-l10n-id]"):[]}(V=V||h.documentElement),ee=$.length,ae=0;ae<ee;ae++)G($[ae]);G(V)},getReadyState:function(){return n},ready:function(V){V&&("complete"==n||"interactive"==n?B.setTimeout(function(){V()}):h.addEventListener&&h.addEventListener("localized",function $(){h.removeEventListener("localized",$),V()}))}}}(window,document)},(B,h,E)=>{var U,xt,q,ot,V,lt,ee,Et,he,Tt,a,Mt,t,ct,u,Lt,y,kt,j,Je,W,Ge,Q,je,de,Rt,K,ht,ce,dt,N,Ze,fe,Ft,ge,ut,ye,Ot,Ee,ze;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFFindController=h.FindState=void 0;var A=E(6),r=E(3),C=E(21);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};h.FindState=o;const P={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},f=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[...f.values()].map(se=>String.fromCharCode(se)).join(""),e=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,m=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let v=null;function T(se){if(!v){const ve=Object.keys(P).join("");v=new RegExp(`([${ve}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const k=[];let O;for(;null!==(O=e.exec(se));)k.push([O[0].length,O.index]);let F=se.normalize("NFD");const Y=[[0,0]];let p=0,D=0,oe=0,me=0,Ce=!1;return F=F.replace(v,(ve,Me,Te,Ne,ke,Fe)=>{var Oe;if(Fe-=oe,Me){const Be=P[ve],Ve=Be.length;for(let Ie=1;Ie<Ve;Ie++)Y.push([Fe-D+Ie,D-Ie]);return D-=Ve-1,Be}if(Te){const Be=Te.endsWith("\n"),Ve=Be?Te.length-2:Te.length;Ce=!0;let Ie=Ve;Fe+me===(null==(Oe=k[p])?void 0:Oe[1])&&(Ie-=k[p][0],++p);for(let De=1;De<Ie+1;De++)Y.push([Fe-1-D+De,D-De]);return D-=Ie,oe+=Ie,Be?(Y.push([(Fe+=Ve-1)-D+1,1+D]),D+=1,oe+=1,me+=1,Te.slice(0,Ve)):Te}return Ne?(Y.push([Fe-D+1,1+D]),D+=1,oe+=1,me+=1,Ne.charAt(0)):(Y.push([Fe-D+1,D-1]),D-=1,oe+=1,me+=1," ")}),Y.push([F.length,D]),[F,Y,Ce]}function R(se,k,O){if(!se)return[k,O];const F=k,Y=k+O;let p=(0,A.binarySearchFirstItem)(se,oe=>oe[0]>=F);se[p][0]>F&&--p;let D=(0,A.binarySearchFirstItem)(se,oe=>oe[0]>=Y,p);return se[D][0]>Y&&--D,[F+se[p][1],O+se[D][1]-se[p][1]]}U=new WeakSet,xt=function(k){if(!k)return;const O=this._pdfDocument,{type:F}=k;(null===this._state||Pe(this,ee,Et).call(this,k))&&(this._dirtyMatch=!0),this._state=k,"highlightallchange"!==F&&Pe(this,Ee,ze).call(this,o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;Pe(this,y,kt).call(this);const Y=!this._highlightMatches,p=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),F?this._dirtyMatch?Pe(this,Q,je).call(this):"again"===F?(Pe(this,Q,je).call(this),Y&&this._state.highlightAll&&Pe(this,W,Ge).call(this)):"highlightallchange"===F?(p?Pe(this,Q,je).call(this):this._highlightMatches=!0,Pe(this,W,Ge).call(this)):Pe(this,Q,je).call(this):this._findTimeout=setTimeout(()=>{Pe(this,Q,je).call(this),this._findTimeout=null},250)})},q=new WeakSet,ot=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()},V=new WeakSet,lt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=T(this._state.query)),this._normalizedQuery},ee=new WeakSet,Et=function(k){if(k.query!==this._state.query)return!0;switch(k.type){case"again":const O=this._selected.pageIdx+1,F=this._linkService;return O>=1&&O<=F.pagesCount&&O!==F.page&&!F.isPageVisible(O);case"highlightallchange":return!1}return!0},he=new WeakSet,Tt=function(k,O,F){let Y=k.slice(0,O).match(m);if(Y){const p=k.charCodeAt(O),D=Y[1].charCodeAt(0);if((0,C.getCharacterType)(p)===(0,C.getCharacterType)(D))return!1}if(Y=k.slice(O+F).match(b),Y){const p=k.charCodeAt(O+F-1),D=Y[1].charCodeAt(0);if((0,C.getCharacterType)(p)===(0,C.getCharacterType)(D))return!1}return!0},a=new WeakSet,Mt=function(k,O,F,Y){const p=[],D=[],oe=this._pageDiffs[F];let me;for(;null!==(me=k.exec(Y));){if(O&&!Pe(this,he,Tt).call(this,Y,me.index,me[0].length))continue;const[Ce,ve]=R(oe,me.index,me[0].length);ve&&(p.push(Ce),D.push(ve))}this._pageMatches[F]=p,this._pageMatchesLength[F]=D},t=new WeakSet,ct=function(k,O){const{matchDiacritics:F}=this._state;let Y=!1;const p="[ ]*";return(k=k.replace(i,(D,oe,me,Ce,ve,Me)=>oe?`[ ]*\\${oe}[ ]*`:me?`[ ]*${me}[ ]*`:Ce?"[ ]+":F?ve||Me:ve?f.has(ve.charCodeAt(0))?ve:"":O?(Y=!0,`${Me}\\p{M}*`):Me)).endsWith(p)&&(k=k.slice(0,k.length-p.length)),F&&O&&(Y=!0,k=`${k}(?=[${g}]|[^\\p{M}]|$)`),[Y,k]},u=new WeakSet,Lt=function(k){let O=Se(this,V,lt);if(0===O.length)return;const{caseSensitive:F,entireWord:Y,phraseSearch:p}=this._state,D=this._pageContents[k],oe=this._hasDiacritics[k];let me=!1;if(p)[me,O]=Pe(this,t,ct).call(this,O,oe);else{const Me=O.match(/\S+/g);Me&&(O=Me.sort().reverse().map(Te=>{const[Ne,ke]=Pe(this,t,ct).call(this,Te,oe);return me||(me=Ne),`(${ke})`}).join("|"))}O=new RegExp(O,`g${me?"u":""}${F?"":"i"}`),Pe(this,a,Mt).call(this,O,Y,k,D),this._state.highlightAll&&Pe(this,j,Je).call(this,k),this._resumePageIdx===k&&(this._resumePageIdx=null,Pe(this,K,ht).call(this));const ve=this._pageMatches[k].length;ve>0&&(this._matchesCountTotal+=ve,Pe(this,ye,Ot).call(this))},y=new WeakSet,kt=function(){if(this._extractTextPromises.length>0)return;let k=Promise.resolve();for(let O=0,F=this._linkService.pagesCount;O<F;O++){const Y=(0,r.createPromiseCapability)();this._extractTextPromises[O]=Y.promise,k=k.then(()=>this._pdfDocument.getPage(O+1).then(p=>p.getTextContent()).then(p=>{const D=[];for(const oe of p.items)D.push(oe.str),oe.hasEOL&&D.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=T(D.join("")),Y.resolve()},p=>{console.error(`Unable to get text content for page ${O+1}`,p),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,Y.resolve()}))}},j=new WeakSet,Je=function(k){this._scrollMatches&&this._selected.pageIdx===k&&(this._linkService.page=k+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:k})},W=new WeakSet,Ge=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,je=function(){const k=this._state.findPrevious,O=this._linkService.page-1,F=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Pe(this,W,Ge).call(this);for(let p=0;p<F;p++)this._pendingFindMatches.has(p)||(this._pendingFindMatches.add(p),this._extractTextPromises[p].then(()=>{this._pendingFindMatches.delete(p),Pe(this,u,Lt).call(this,p)}))}if(""===Se(this,V,lt))return void Pe(this,Ee,ze).call(this,o.FOUND);if(this._resumePageIdx)return;const Y=this._offset;if(this._pagesToSearch=F,null!==Y.matchIdx){const p=this._pageMatches[Y.pageIdx].length;if(!k&&Y.matchIdx+1<p||k&&Y.matchIdx>0)return Y.matchIdx=k?Y.matchIdx-1:Y.matchIdx+1,void Pe(this,N,Ze).call(this,!0);Pe(this,ce,dt).call(this,k)}Pe(this,K,ht).call(this)},de=new WeakSet,Rt=function(k){const O=this._offset,F=k.length,Y=this._state.findPrevious;return F?(O.matchIdx=Y?F-1:0,Pe(this,N,Ze).call(this,!0),!0):(Pe(this,ce,dt).call(this,Y),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(Pe(this,N,Ze).call(this,!1),!0))},K=new WeakSet,ht=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let k=null;do{const O=this._offset.pageIdx;if(k=this._pageMatches[O],!k){this._resumePageIdx=O;break}}while(!Pe(this,de,Rt).call(this,k))},ce=new WeakSet,dt=function(k){const O=this._offset,F=this._linkService.pagesCount;O.pageIdx=k?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=F||O.pageIdx<0)&&(O.pageIdx=k?F-1:0,O.wrapped=!0)},N=new WeakSet,Ze=function(k=!1){let O=o.NOT_FOUND;const F=this._offset.wrapped;if(this._offset.wrapped=!1,k){const Y=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=F?o.WRAPPED:o.FOUND,-1!==Y&&Y!==this._selected.pageIdx&&Pe(this,j,Je).call(this,Y)}Pe(this,Ee,ze).call(this,O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Pe(this,j,Je).call(this,this._selected.pageIdx))},fe=new WeakSet,Ft=function(k){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Pe(this,Ee,ze).call(this,o.FOUND),this._highlightMatches=!1,Pe(this,W,Ge).call(this))})},ge=new WeakSet,ut=function(){var p;const{pageIdx:k,matchIdx:O}=this._selected;let F=0,Y=this._matchesCountTotal;if(-1!==O){for(let D=0;D<k;D++)F+=(null==(p=this._pageMatches[D])?void 0:p.length)||0;F+=O+1}return(F<1||F>Y)&&(F=Y=0),{current:F,total:Y}},ye=new WeakSet,Ot=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Pe(this,ge,ut).call(this)})},Ee=new WeakSet,ze=function(k,O=!1){var F,Y;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:k,previous:O,matchesCount:Pe(this,ge,ut).call(this),rawQuery:null!=(Y=null==(F=this._state)?void 0:F.query)?Y:null})},h.PDFFindController=class I{constructor({linkService:k,eventBus:O}){we(this,U),we(this,q),we(this,V),we(this,ee),we(this,he),we(this,a),we(this,t),we(this,u),we(this,y),we(this,j),we(this,W),we(this,Q),we(this,de),we(this,K),we(this,ce),we(this,N),we(this,fe),we(this,ge),we(this,ye),we(this,Ee),this._linkService=k,this._eventBus=O,Pe(this,q,ot).call(this),O._on("find",Pe(this,U,xt).bind(this)),O._on("findbarclose",Pe(this,fe,Ft).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(k){this._pdfDocument&&Pe(this,q,ot).call(this),k&&(this._pdfDocument=k,this._firstPageCapability.resolve())}scrollMatchIntoView({element:k=null,selectedLeft:O=0,pageIndex:F=-1,matchIndex:Y=-1}){this._scrollMatches&&k&&-1!==Y&&Y===this._selected.matchIdx&&-1!==F&&F===this._selected.pageIdx&&(this._scrollMatches=!1,(0,A.scrollIntoView)(k,{top:-50,left:O+-400},!0))}}},(B,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterType=void 0,h.getCharacterType=function e(i){return function A(i){return i<11904}(i)?function r(i){return 0==(65408&i)}(i)?function s(i){return 32===i||9===i||13===i||10===i}(i)?E.SPACE:function C(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function o(i){return i>=48&&i<=57}(i)||95===i?E.ALPHA_LETTER:E.PUNCT:function g(i){return 3584==(65408&i)}(i)?E.THAI_LETTER:160===i?E.SPACE:E.ALPHA_LETTER:function n(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?E.HAN_LETTER:function c(i){return i>=12448&&i<=12543}(i)?E.KATAKANA_LETTER:function P(i){return i>=12352&&i<=12447}(i)?E.HIRAGANA_LETTER:function f(i){return i>=65376&&i<=65439}(i)?E.HALFWIDTH_KATAKANA_LETTER:E.ALPHA_LETTER};const E={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};h.CharacterType=E},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFHistory=void 0,h.isDestArraysEqual=f,h.isDestHashesEqual=P;var A=E(6),r=E(17);function n(){return document.location.hash}function P(g,e){return"string"==typeof g&&"string"==typeof e&&(g===e||(0,A.parseQueryString)(g).get("nameddest")===e)}function f(g,e){function i(m,b){if(typeof m!=typeof b||Array.isArray(m)||Array.isArray(b))return!1;if(null!==m&&"object"==typeof m&&null!==b){if(Object.keys(m).length!==Object.keys(b).length)return!1;for(const v in m)if(!i(m[v],b[v]))return!1;return!0}return m===b||Number.isNaN(m)&&Number.isNaN(b)}if(!Array.isArray(g)||!Array.isArray(e)||g.length!==e.length)return!1;for(let m=0,b=g.length;m<b;m++)if(!i(g[m],e[m]))return!1;return!0}h.PDFHistory=class c{constructor({linkService:e,eventBus:i}){this.linkService=e,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",m=>{this._isPagesLoaded=!!m.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:i=!1,updateUrl:m=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===m,this._initialized=!0,this._bindEvents();const v=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(v,!0)||i){const{hash:R,page:I,rotation:U}=this._parseCurrentHash(!0);return!R||b||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:R,page:I,rotation:U},!0)}const T=v.destination;this._updateInternalState(T,v.uid,!0),void 0!==T.rotation&&(this._initialRotation=T.rotation),T.dest?(this._initialBookmark=JSON.stringify(T.dest),this._destination.page=null):T.hash?this._initialBookmark=T.hash:T.page&&(this._initialBookmark=`page=${T.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:i,pageNumber:m}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(m)&&(null!==m||this._destination))return void console.error(`PDFHistory.push: "${m}" is not a valid pageNumber parameter.`);const b=e||JSON.stringify(i);if(!b)return;let v=!1;if(this._destination&&(P(this._destination.hash,b)||f(this._destination.dest,i))){if(this._destination.page)return;v=!0}this._popStateInProgress&&!v||(this._pushOrReplaceState({dest:i,hash:b,page:m,rotation:this.linkService.rotation},v),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var i;if(this._initialized){if(!this._isValidPage(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,i=!1){const m=i||!this._destination,b={fingerprint:this._fingerprint,uid:m?this._uid:this._uid+1,destination:e};let v;if(this._updateInternalState(e,b.uid),this._updateUrl&&(null==e?void 0:e.hash)){const T=document.location.href.split("#")[0];T.startsWith("file://")||(v=`${T}#${e.hash}`)}m?window.history.replaceState(b,"",v):window.history.pushState(b,"",v)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let i=this._position;if(e&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let m=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;m=!0}this._pushOrReplaceState(i,m)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,i=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[m]=performance.getEntriesByType("navigation");if("reload"!==(null==m?void 0:m.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}_updateInternalState(e,i,m=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),m&&(null==e?void 0:e.temporary)&&delete e.temporary,this._destination=e,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const i=unescape(n()).substring(1),m=(0,A.parseQueryString)(i),b=m.get("nameddest")||"";let v=0|m.get("page");return(!this._isValidPage(v)||e&&b.length>0)&&(v=null),{hash:i,page:v,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const i=n(),m=this._currentHash!==i;if(this._currentHash=i,!e){this._uid++;const{hash:v,page:T,rotation:R}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:v,page:T,rotation:R},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,m&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=e.destination;this._updateInternalState(b,e.uid,!0),(0,A.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFScriptingManager=void 0;var A=E(6),r=E(3);h.PDFScriptingManager=class C{constructor({eventBus:s,sandboxBundleSrc:n=null,scriptingFactory:c=null,docPropertiesLookup:P=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=s,this._sandboxBundleSrc=n,this._scriptingFactory=c,this._docPropertiesLookup=P,this._scriptingFactory||window.addEventListener("updatefromsandbox",f=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:f.detail})})}setViewer(s){this._pdfViewer=s}setDocument(s){var n=this;return _(function*(){var g;if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=s,!s)return;const[c,P,f]=yield Promise.all([s.getFieldObjects(),s.getCalculationOrderIds(),s.getJSActions()]);if(c||f){if(s===n._pdfDocument){try{n._scripting=n._createScripting()}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",e=>{(null==e?void 0:e.source)===window&&n._updateFromSandbox(e.detail)}),n._internalEvents.set("dispatcheventinsandbox",e=>{var i;null==(i=n._scripting)||i.dispatchEventInSandbox(e.detail)}),n._internalEvents.set("pagechanging",({pageNumber:e,previous:i})=>{e!==i&&(n._dispatchPageClose(i),n._dispatchPageOpen(e))}),n._internalEvents.set("pagerendered",({pageNumber:e})=>{!n._pageOpenPending.has(e)||e===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(e)}),n._internalEvents.set("pagesdestroy",function(){var e=_(function*(i){var m,b;yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield null==(m=n._scripting)?void 0:m.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(b=n._closeCapability)||b.resolve()});return function(i){return e.apply(this,arguments)}}()),n._domEvents.set("mousedown",e=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",e=>{n._mouseState.isDown=!1});for(const[e,i]of n._internalEvents)n._eventBus._on(e,i);for(const[e,i]of n._domEvents)window.addEventListener(e,i,!0);try{const e=yield n._getDocProperties();if(s!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:c,calculationOrder:P,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ye($e({},e),{actions:f})}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}yield null==(g=n._scripting)?void 0:g.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{s===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(s){var n=this;return _(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var s;return(null==(s=this._destroyCapability)?void 0:s.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,r.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,r.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,r.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,r.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(s){var n=this;return _(function*(){var m;const c=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:P,siblings:f,command:g,value:e}=s;if(!P){switch(g){case"clear":console.clear();break;case"error":console.error(e);break;case"layout":if(c)return;const b=(0,A.apiPageLayoutToViewerModes)(e);n._pdfViewer.spreadMode=b.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=e+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(e);break;case"zoom":if(c)return;n._pdfViewer.currentScaleValue=e;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(c)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(c)return;n._pdfViewer.decreaseScale()}return}if(c&&s.focus)return;delete s.id,delete s.siblings;const i=f?[P,...f]:[P];for(const b of i){const v=document.getElementById(b);v?v.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:s})):null==(m=n._pdfDocument)||m.annotationStorage.setValue(b,s)}})()}_dispatchPageOpen(s,n=!1){var c=this;return _(function*(){const P=c._pdfDocument,f=c._visitedPages;if(n&&(c._closeCapability=(0,r.createPromiseCapability)()),!c._closeCapability)return;const g=c._pdfViewer.getPageView(s-1);if((null==g?void 0:g.renderingState)!==A.RenderingStates.FINISHED)return void c._pageOpenPending.add(s);c._pageOpenPending.delete(s);const e=_(function*(){var m,b;const i=yield f.has(s)?null:null==(m=g.pdfPage)?void 0:m.getJSActions();P===c._pdfDocument&&(yield null==(b=c._scripting)?void 0:b.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:s,actions:i}))})();f.set(s,e)})()}_dispatchPageClose(s){var n=this;return _(function*(){var g;const c=n._pdfDocument,P=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(s))return;const f=P.get(s);!f||(P.set(s,null),yield f,c===n._pdfDocument&&(yield null==(g=n._scripting)?void 0:g.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:s})))})()}_getDocProperties(){var s=this;return _(function*(){if(s._docPropertiesLookup)return s._docPropertiesLookup(s._pdfDocument);const{docPropertiesLookup:n}=E(24);return n(s._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,r.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:s}=E(24);return new s(this._sandboxBundleSrc)}_destroyScripting(){var s=this;return _(function*(){var n,c;if(!s._scripting)return s._pdfDocument=null,void(null==(n=s._destroyCapability)||n.resolve());s._closeCapability&&(yield Promise.race([s._closeCapability.promise,new Promise(P=>{setTimeout(P,1e3)})]).catch(P=>{}),s._closeCapability=null),s._pdfDocument=null;try{yield s._scripting.destroySandbox()}catch(P){}for(const[P,f]of s._internalEvents)s._eventBus._off(P,f);s._internalEvents.clear();for(const[P,f]of s._domEvents)window.removeEventListener(P,f,!0);s._domEvents.clear(),s._pageOpenPending.clear(),s._visitedPages.clear(),s._scripting=null,delete s._mouseState.isDown,s._ready=!1,null==(c=s._destroyCapability)||c.resolve()})()}}},(B,h,E)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericScripting=void 0,h.docPropertiesLookup=function r(s){return C.apply(this,arguments)};var A=E(3);function C(){return(C=_(function*(s){const c="".split("#")[0];let{info:P,metadata:f,contentDispositionFilename:g,contentLength:e}=yield s.getMetadata();if(!e){const{length:i}=yield s.getDownloadInfo();e=i}return Ye($e({},P),{baseURL:c,filesize:e,filename:g||(0,A.getPdfFilenameFromUrl)(""),metadata:null==f?void 0:f.getRaw(),authors:null==f?void 0:f.get("dc:creator"),numPages:s.numPages,URL:""})})).apply(this,arguments)}h.GenericScripting=class o{constructor(n){this._ready=(0,A.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var c=this;return _(function*(){(yield c._ready).create(n)})()}dispatchEventInSandbox(n){var c=this;return _(function*(){const P=yield c._ready;setTimeout(()=>P.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return _(function*(){(yield n._ready).nukeSandbox()})()}}}],re={};function ie(B){var h=re[B];if(void 0!==h)return h.exports;var E=re[B]={exports:{}};return pe[B](E,E.exports,ie),E.exports}var ne={};return(()=>{var B=ne;Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return C.AnnotationLayerBuilder}}),Object.defineProperty(B,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return h.DefaultAnnotationLayerFactory}}),Object.defineProperty(B,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return h.DefaultStructTreeLayerFactory}}),Object.defineProperty(B,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return h.DefaultTextLayerFactory}}),Object.defineProperty(B,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return h.DefaultXfaLayerFactory}}),Object.defineProperty(B,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(B,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(B,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(B,"LinkTarget",{enumerable:!0,get:function(){return E.LinkTarget}}),Object.defineProperty(B,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(B,"PDFFindController",{enumerable:!0,get:function(){return P.PDFFindController}}),Object.defineProperty(B,"PDFHistory",{enumerable:!0,get:function(){return f.PDFHistory}}),Object.defineProperty(B,"PDFLinkService",{enumerable:!0,get:function(){return E.PDFLinkService}}),Object.defineProperty(B,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(B,"PDFScriptingManager",{enumerable:!0,get:function(){return e.PDFScriptingManager}}),Object.defineProperty(B,"PDFSinglePageViewer",{enumerable:!0,get:function(){return r.PDFSinglePageViewer}}),Object.defineProperty(B,"PDFViewer",{enumerable:!0,get:function(){return r.PDFViewer}}),Object.defineProperty(B,"ProgressBar",{enumerable:!0,get:function(){return A.ProgressBar}}),Object.defineProperty(B,"SimpleLinkService",{enumerable:!0,get:function(){return E.SimpleLinkService}}),Object.defineProperty(B,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(B,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(B,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(B,"parseQueryString",{enumerable:!0,get:function(){return A.parseQueryString}});var h=ie(1),E=ie(5),A=ie(6),r=ie(10),C=ie(2),o=ie(16),s=ie(17),n=ie(18),c=ie(4),P=ie(20),f=ie(22),g=ie(12),e=ie(23),i=ie(7),m=ie(8),b=ie(9)})(),ne})(),_e.exports=ie()},8926:_e=>{function L(_,pe,re,ie,ne,B,h){try{var E=_[B](h),A=E.value}catch(r){return void re(r)}E.done?pe(A):Promise.resolve(A).then(ie,ne)}_e.exports=function J(_){return function(){var pe=this,re=arguments;return new Promise(function(ie,ne){var B=_.apply(pe,re);function h(A){L(B,ie,ne,h,E,"next",A)}function E(A){L(B,ie,ne,h,E,"throw",A)}h(void 0)})}},_e.exports.__esModule=!0,_e.exports.default=_e.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);