var pt=Object.defineProperty,gt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,qe=(be,L,J)=>L in be?pt(be,L,{enumerable:!0,configurable:!0,writable:!0,value:J}):be[L]=J,$e=(be,L)=>{for(var J in L||(L={}))mt.call(L,J)&&qe(be,J,L[J]);if(et)for(var J of et(L))bt.call(L,J)&&qe(be,J,L[J]);return be},Ye=(be,L)=>gt(be,_t(L)),He=(be,L,J)=>(qe(be,"symbol"!=typeof L?L+"":L,J),J),Qe=(be,L,J)=>{if(!L.has(be))throw TypeError("Cannot "+J)},we=(be,L,J)=>(Qe(be,L,"read from private field"),J?J.call(be):L.get(be)),Me=(be,L,J)=>{if(L.has(be))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(be):L.set(be,J)},Ie=(be,L,J,g)=>(Qe(be,L,"write to private field"),g?g.call(be,J):L.set(be,J),J),tt=(be,L,J,g)=>({set _(pe){Ie(be,L,pe,J)},get _(){return we(be,L,g)}}),Ee=(be,L,J)=>(Qe(be,L,"access private method"),J);(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[293],{2293:(be,L,J)=>{"use strict";J.r(L),J.d(L,{CmsModule:()=>ye});var g=J(9808),pe=J(3050),re=J(9841),Z=J(4004),ne=J(9646),I=J(8056);const d=[{title:"Support",url:"/content/support"},{title:"Mayor's Corner",url:"/content/mayors-corner/gallery"},{title:"Makati News",url:"/content/news"},{title:"Makati News",url:"/content/events"},{title:"Makati News",url:"/content/makati-videos"},{title:"Are you satisfied?",url:"/content/content/customer-satisfaction-survey-form"},{title:"I Want To",url:"/content/i-want-to"},{title:"Downloads",url:"/content/downloads"}];var x=J(7854),s=J(4893),v=J(817),S=J(7787),o=J(7045);function r(q,_e){1&q&&(s.TgZ(0,"span"),s._UZ(1,"i",6),s.qZA())}function n(q,_e){if(1&q){const w=s.EpF();s.TgZ(0,"cms-sidebar-item",7),s.NdJ("on_is_active",function(le){const Te=s.CHM(w).index;return s.oxw().set_up_parent(le,Te)})("on_select",function(le){return s.CHM(w),s.oxw().on_select.emit(le)}),s.qZA()}if(2&q){const w=_e.$implicit;s.Q6J("is_child_menu",!0)("item",w)}}const c=function(q,_e){return{"ps-3 pt-3":q,"p-3":_e}},C=function(q){return{"text-primary tx-active":q}};let f=(()=>{class q{constructor(w,j){this.route=w,this.router=j,this.is_child_menu=!1,this.on_select=new s.vpe,this.on_is_active=new s.vpe(!1),this._is_active=!1,this.is_collapsed=!0,this._subscriptions=[],this.child_statuses=[]}ngOnInit(){this.set_up_is_active()}on_click(){this.item.children.length>0?this.is_collapsed=!this.is_collapsed:this.on_select.emit(this.item)}ngOnDestroy(){this._subscriptions.forEach(w=>w.unsubscribe())}ngAfterViewInit(){if(0!=this.item.menuId&&0==this.item.children.length==1){const j=this.router.events.subscribe(le=>{le instanceof pe.m2&&this.set_up_is_active()});this._subscriptions.push(j)}}set_up_is_active(){var w,j;const le=null!==(w=this.route.snapshot.queryParamMap.get("content"))&&void 0!==w?w:0,ve=null!==(j=this.route.snapshot.paramMap.get("pageId"))&&void 0!==j?j:0;this.is_active=+this.item.menuId==+(0!=+le?+le:+ve)}set is_active(w){setTimeout(()=>{this._is_active=w,this.on_is_active.emit(w),this.is_collapsed=!w,this.child_statuses=[]},20)}get is_active(){return this._is_active}set_up_parent(w,j){if(this.child_statuses.push(w),j+1==this.item.children.length){const le=this.child_statuses.reduce((ve,Te)=>1==ve||Te,!1);this.is_active=le}}}return q.\u0275fac=function(w){return new(w||q)(s.Y36(pe.gz),s.Y36(pe.F0))},q.\u0275cmp=s.Xpm({type:q,selectors:[["cms-sidebar-item"]],inputs:{item:"item",is_child_menu:"is_child_menu"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:7,vars:12,consts:[[1,"d-flex","flex-column",3,"ngClass"],[1,"d-flex","justify-content-between","c-pointer",3,"click"],[1,"pb-3","tx",3,"ngClass"],[4,"ngIf"],[1,"ms-1",3,"collapse","isAnimated"],[3,"is_child_menu","item","on_is_active","on_select",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-down"],[3,"is_child_menu","item","on_is_active","on_select"]],template:function(w,j){1&w&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return j.on_click()}),s.TgZ(2,"span",2),s._uU(3),s.qZA(),s.YNc(4,r,2,0,"span",3),s.qZA(),s.TgZ(5,"div",4),s.YNc(6,n,1,2,"cms-sidebar-item",5),s.qZA()()),2&w&&(s.Q6J("ngClass",s.WLB(7,c,1==j.is_child_menu,0==j.is_child_menu)),s.xp6(2),s.Q6J("ngClass",s.VKq(10,C,1==j.is_active)),s.xp6(1),s.hij(" ",j.item.menuLabel," "),s.xp6(1),s.Q6J("ngIf",j.item.children.length>0),s.xp6(1),s.Q6J("collapse",j.is_collapsed)("isAnimated",!0),s.xp6(1),s.Q6J("ngForOf",j.item.children))},directives:[g.mk,g.O5,o.Y,g.sg,q],styles:[".tx[_ngcontent-%COMP%]{font-size:16px}.tx-active[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline}"]}),q})();function p(q,_e){if(1&q){const w=s.EpF();s.TgZ(0,"cms-sidebar-item",2),s.NdJ("on_select",function(le){return s.CHM(w),s.oxw().on_select.emit(le)}),s.qZA()}2&q&&s.Q6J("item",_e.$implicit)}let e=(()=>{class q{constructor(){this.items=[],this.on_select=new s.vpe,this.on_is_active=new s.vpe}ngOnInit(){}}return q.\u0275fac=function(w){return new(w||q)},q.\u0275cmp=s.Xpm({type:q,selectors:[["cms-sidebar"]],inputs:{items:"items"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:2,vars:1,consts:[[1,"sidebar-bg"],[3,"item","on_select",4,"ngFor","ngForOf"],[3,"item","on_select"]],template:function(w,j){1&w&&(s.TgZ(0,"div",0),s.YNc(1,p,1,1,"cms-sidebar-item",1),s.qZA()),2&w&&(s.xp6(1),s.Q6J("ngForOf",j.items))},directives:[g.sg,f],styles:[".sidebar-bg[_ngcontent-%COMP%]{background-color:#f9f9f9}"]}),q})();var i=J(1135),_=J(4408);const A=new(J(640).v)(_.o);var k=J(4482),F=J(5403);function B(q,_e=A){return(0,k.e)((w,j)=>{let le=null,ve=null,Te=null;const xe=()=>{if(le){le.unsubscribe(),le=null;const Re=ve;ve=null,j.next(Re)}};function Oe(){const Re=Te+q,Ne=_e.now();if(Ne<Re)return le=this.schedule(void 0,Re-Ne),void j.add(le);xe()}w.subscribe((0,F.x)(j,Re=>{ve=Re,Te=_e.now(),le||(le=_e.schedule(Oe,q),j.add(le))},()=>{xe(),j.complete()},void 0,()=>{ve=le=null}))})}var H=J(4671);function K(q,_e){return q===_e}var N=J(9300),$=J(8505),ee=J(3900),se=J(2340),he=J(2313);const M=["contentRef"],a=["*"];let h=(()=>{class q{constructor(w){this.display="inline-block",this._dragDisabled=!1,this._elementRef=w}get dragDisabled(){return this._dragDisabled}set dragDisabled(w){this._dragDisabled=w}}return q.\u0275fac=function(w){return new(w||q)(s.Y36(s.SBq))},q.\u0275dir=s.lG2({type:q,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(w,j){2&w&&s.Udp("display",j.display)},inputs:{dragDisabled:["drag-disabled","dragDisabled"]}}),q})(),t=(()=>{class q{constructor(w,j,le){this._elementRef=w,this._renderer=j,this._document=le,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new s.vpe,this.indexChanged=new s.vpe,this.reachesLeftBound=new s.vpe,this.reachesRightBound=new s.vpe,this.snapAnimationFinished=new s.vpe,this.dragStart=new s.vpe,this.dragEnd=new s.vpe,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(w){w!==this._index&&(this._index=w,this.indexChanged.emit(w))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(w){this._scrollbarHidden=w}get disabled(){return this._disabled}set disabled(w){this._disabled=w}get xDisabled(){return this._xDisabled}set xDisabled(w){this._xDisabled=w}get yDisabled(){return this._yDisabled}set yDisabled(w){this._yDisabled=w}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(w){this._xWheelEnabled=w}get dragDisabled(){return this._dragDisabled}set dragDisabled(w){this._dragDisabled=w}get snapDisabled(){return this._snapDisabled}set snapDisabled(w){this._snapDisabled=w}get snapOffset(){return this._snapOffset}set snapOffset(w){this._snapOffset=w}get snapDuration(){return this._snapDuration}set snapDuration(w){this._snapDuration=w}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType="undefined"!=typeof window?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",w=>{w.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl="rtl"===getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(w){this.onMouseMove(w)}onMouseMove(w){if((w.clientX!==this.downX||w.clientY!==this.downY)&&this.isPressed&&!this.disabled){if(!w.buttons&&!w.which)return this.onMouseUpHandler(w);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){const j=w.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-j+this.downX,this.downX=j}if(!this.yDisabled&&!this.dragDisabled){const j=w.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-j+this.downY,this.downY=j}}}onMouseDownHandler(w){const j=this.locateDragScrollItem(w.target);if(j&&j.dragDisabled)return;this._startGlobalListening("touchstart"===w.type),this.isPressed=!0;const ve=w;this.downX=ve.clientX,this.downY=ve.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),this.isPressed||this.isAnimating||this.snapDisabled?this.locateCurrentIndex():(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500))}onMouseUpHandler(w){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(0!==this.currIndex||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){const w=this.wrapper||this.parentNode,j=w?w.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(j,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(w){const j=this.wrapper||this.parentNode,le=j?j.clientWidth:0;w>=0&&w!==this.currIndex&&this.currIndex<=this.maximumIndex(le,this._children.toArray())&&(this.currIndex=Math.min(w,this.maximumIndex(le,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{const w=Boolean(this._children.length<=1),j=Boolean(this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth);w||j?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):0===this._contentRef.nativeElement.scrollLeft&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(w){this._xWheelEnabled&&(w.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(w.deltaY,0):w.deltaY<0?this.moveLeft():w.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(w){this._isDragging!==w&&(this._isDragging=w,w?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(w){this._onMouseMoveListener||(this._onMouseMoveListener=this._renderer.listen("document",w?"touchmove":"mousemove",this.onMouseMoveHandler.bind(this))),this._onMouseUpListener||(this._onMouseUpListener=this._renderer.listen("document",w?"touchend":"mouseup",this.onMouseUpHandler.bind(this)))}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(w){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${w}`,"hidden")}enableScroll(w){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${w}`,"auto")}hideScrollbar(){"none"!==this._contentRef.nativeElement.style.display&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),null!==this.parentNode&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._renderer.setStyle(this._contentRef.nativeElement,"height",this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?"100%":`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"width",this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?"100%":`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){const w=this._renderer.createElement("div");this._renderer.setStyle(w,"visibility","hidden"),this._renderer.setStyle(w,"width","100px"),this._renderer.setStyle(w,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,w);const j=w.offsetWidth;this._renderer.setStyle(w,"overflow","scroll");const le=this._renderer.createElement("div");this._renderer.setStyle(le,"width","100%"),this._renderer.appendChild(w,le);const ve=le.offsetWidth;return this._renderer.removeChild(this._document.body,w),j-ve||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px":"100%"))}scrollTo(w,j,le){const ve=this;ve.isAnimating=!0;const xe=w.scrollLeft,Oe=(this.rtl?-1:1)*j-xe-this.snapOffset;let Ne=0;const Be=function(){var De,Ue,je;Ne+=20,w.scrollLeft=(De=Ne,Ue=xe,je=Oe,(De/=le/2)<1?je/2*De*De+Ue:-je/2*(--De*(De-2)-1)+Ue),Ne<le?ve.scrollToTimer=setTimeout(Be,20):setTimeout(()=>{ve.isAnimating=!1,ve.snapAnimationFinished.emit(ve.currIndex)},20)};Be()}locateCurrentIndex(w){const j=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((le,ve,Te,xe,Oe)=>{j>=Te&&j<=ve?(ve-j>le/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=xe),w&&this.scrollTo(this._contentRef.nativeElement,Te,this.snapDuration)):0!==j&&(this.isAnimating||(this.currIndex=xe+1),w&&this.scrollTo(this._contentRef.nativeElement,Te+le,this.snapDuration)),Oe()):xe+1===this._children.length-1&&(this.isAnimating||(this.currIndex=xe+1),Oe())})}currentChildWidth(w){let j=0,le=!1;const ve=function(){le=!0},Te=this._children.toArray();for(let xe=0;xe<Te.length&&xe!==Te.length-1&&!le;xe++){const Re=Te[xe]._elementRef.nativeElement.clientWidth;w(Re,j+Te[xe+1]._elementRef.nativeElement.clientWidth,j,xe,ve),j+=Re}}toChildrenLocation(){let w=0;const j=this._children.toArray();for(let le=0;le<this.currIndex;le++)w+=j[le]._elementRef.nativeElement.clientWidth;return w}locateDragScrollItem(w){let j=null;const le=this._children.toArray();for(let ve=0;ve<le.length;ve++)w===le[ve]._elementRef.nativeElement&&(j=le[ve]);return j}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");const w=this.wrapper||this.parentNode;this._children.length>1&&(this.indexBound=this.maximumIndex(w?w.clientWidth:0,this._children.toArray()))}maximumIndex(w,j){let le=0,ve=0;for(let Te=0;Te<=j.length;Te++){const xe=j[j.length-1-Te];if(!xe)break;{const Oe=xe._elementRef.nativeElement;let Re=Oe.clientWidth;if(0===Re&&Oe.firstElementChild&&(Re=xe._elementRef.nativeElement.firstElementChild.clientWidth),ve+=Re,!(ve<w))break;le++}}return j.length-le}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){const w=this._children.toArray();this._renderer.setStyle(w[w.length-1]._elementRef.nativeElement,"margin-right",this.wrapper&&w.length>1?this.scrollbarWidth:0)}}}return q.\u0275fac=function(w){return new(w||q)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(g.K0))},q.\u0275cmp=s.Xpm({type:q,selectors:[["drag-scroll"]],contentQueries:function(w,j,le){if(1&w&&s.Suo(le,h,5),2&w){let ve;s.iGM(ve=s.CRH())&&(j._children=ve)}},viewQuery:function(w,j){if(1&w&&s.Gf(M,7),2&w){let le;s.iGM(le=s.CRH())&&(j._contentRef=le.first)}},hostVars:2,hostBindings:function(w,j){1&w&&s.NdJ("wheel",function(ve){return j.onWheel(ve)})("resize",function(){return j.onWindowResize()},!1,s.Jf7),2&w&&s.Udp("pointer-events",j._pointerEvents)},inputs:{scrollbarHidden:["scrollbar-hidden","scrollbarHidden"],disabled:["drag-scroll-disabled","disabled"],xDisabled:["drag-scroll-x-disabled","xDisabled"],yDisabled:["drag-scroll-y-disabled","yDisabled"],xWheelEnabled:["scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:["drag-disabled","dragDisabled"],snapDisabled:["snap-disabled","snapDisabled"],snapOffset:["snap-offset","snapOffset"],snapDuration:["snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},features:[s.TTD],ngContentSelectors:a,decls:3,vars:0,consts:[[1,"drag-scroll-content"],["contentRef",""]],template:function(w,j){1&w&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"]}),q})(),l=(()=>{class q{}return q.\u0275fac=function(w){return new(w||q)},q.\u0275mod=s.oAB({type:q}),q.\u0275inj=s.cJS({}),q})();function u(q,_e){if(1&q&&(s.TgZ(0,"drag-scroll"),s._UZ(1,"div",1),s.qZA()),2&q){const w=s.oxw();s.xp6(1),s.Q6J("innerHTML",w.ct,s.oJD)}}let y=(()=>{class q{constructor(w){this.sanitizer=w}ngOnInit(){this.ct=this.sanitizer.bypassSecurityTrustHtml(this.item.contentDetail)}}return q.\u0275fac=function(w){return new(w||q)(s.Y36(he.H7))},q.\u0275cmp=s.Xpm({type:q,selectors:[["cms-html-content-viewer"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"draggable-cont",3,"innerHTML"]],template:function(w,j){1&w&&s.YNc(0,u,2,1,"drag-scroll",0),2&w&&s.Q6J("ngIf",j.item.contentDetail)},directives:[g.O5,t],styles:[""]}),q})();var b=J(4968),E=J(7579),V=J(2076),G=J(8421),W=J(5032);function U(q){return(0,k.e)((_e,w)=>{(0,G.Xf)(q).subscribe((0,F.x)(w,()=>w.complete(),W.Z)),!w.closed&&_e.subscribe(w)})}var Y=J(6036),Q=J.t(Y,2),de=J(2813),Ce=J.t(de,2);const te=["pdfViewerContainer"];function P(q,_e,w){q[_e]=w}function D(){return"undefined"==typeof window}D()||P(Q,"verbosity",Y.VerbosityLevel.INFOS);var z=(()=>{return(q=z||(z={}))[q.DISABLED=0]="DISABLED",q[q.ENABLED=1]="ENABLED",q[q.ENHANCED=2]="ENHANCED",z;var q})();let ge=(()=>{class q{constructor(w,j){if(this.element=w,this.ngZone=j,this.isVisible=!1,this._cMapsUrl=void 0!==Q?`https://unpkg.com/pdfjs-dist@${Y.version}/cmaps/`:null,this._imageResourcesPath=void 0!==Q?`https://unpkg.com/pdfjs-dist@${Y.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=z.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new E.x,this.afterLoadComplete=new s.vpe,this.pageRendered=new s.vpe,this.pageInitialized=new s.vpe,this.textLayerRendered=new s.vpe,this.onError=new s.vpe,this.onProgress=new s.vpe,this.pageChange=new s.vpe(!0),D())return;let le;le=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Y.version}/legacy/build/pdf.worker.min.js`,P(Y.GlobalWorkerOptions,"workerSrc",le)}set cMapsUrl(w){this._cMapsUrl=w}set page(w){const j=w=parseInt(w,10)||1;this._pdf&&(w=this.getValidPageNumber(w)),this._page=w,j!==w&&this.pageChange.emit(w)}set renderText(w){this._renderText=w}set renderTextMode(w){this._renderTextMode=w}set originalSize(w){this._originalSize=w}set showAll(w){this._showAll=w}set stickToPage(w){this._stickToPage=w}set zoom(w){w<=0||(this._zoom=w)}get zoom(){return this._zoom}set zoomScale(w){this._zoomScale=w}get zoomScale(){return this._zoomScale}set rotation(w){"number"==typeof w&&w%90==0?this._rotation=w:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(w){this._externalLinkTarget=w}set autoresize(w){this._canAutoResize=Boolean(w)}set fitToPage(w){this._fitToPage=Boolean(w)}set showBorders(w){this._showBorders=Boolean(w)}static getLinkTarget(w){switch(w){case"blank":return de.LinkTarget.BLANK;case"none":return de.LinkTarget.NONE;case"self":return de.LinkTarget.SELF;case"parent":return de.LinkTarget.PARENT;case"top":return de.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const w=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=w?!1===this.isVisible&&null!=w&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(w){if(!D()&&this.isVisible)if("src"in w)this.loadPDF();else if(this._pdf){if("renderText"in w?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:z.DISABLED,this.resetPdfDocument()):"showAll"in w&&(this.setupViewer(),this.resetPdfDocument()),"page"in w){const{page:j}=w;if(j.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,V.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(U(this.destroy$)).subscribe({next:w=>{const j=this._rotation||w.rotate,le=w.getViewport({scale:this._zoom,rotation:j}).width*q.CSS_UNITS;let ve=this._zoom,Te=!0;if(!this._originalSize||this._fitToPage&&le>this.pdfViewerContainer.nativeElement.clientWidth){const xe=w.getViewport({scale:1,rotation:j});ve=this.getScale(xe.width,xe.height),Te=!this._stickToPage}this.pdfViewer._setScale(ve,Te)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const w=q.getLinkTarget(this._externalLinkTarget);return w?{externalLinkTarget:w}:{}}initEventBus(){this.eventBus=function oe(q,_e){const w=new q.EventBus;return function ae(q,_e){(0,b.R)(q,"documentload").pipe(U(_e)).subscribe(()=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(w)}),(0,b.R)(q,"pagerendered").pipe(U(_e)).subscribe(({pageNumber:w,cssTransform:j,source:le})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("pagerendered",!0,!0,{pageNumber:w,cssTransform:j}),le.div.dispatchEvent(ve)}),(0,b.R)(q,"textlayerrendered").pipe(U(_e)).subscribe(({pageNumber:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:w}),j.textLayerDiv.dispatchEvent(le)}),(0,b.R)(q,"pagechanging").pipe(U(_e)).subscribe(({pageNumber:w,source:j})=>{const le=document.createEvent("UIEvents");le.initEvent("pagechanging",!0,!0),le.pageNumber=w,j.container.dispatchEvent(le)}),(0,b.R)(q,"pagesinit").pipe(U(_e)).subscribe(({source:w})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("pagesinit",!0,!0,null),w.container.dispatchEvent(j)}),(0,b.R)(q,"pagesloaded").pipe(U(_e)).subscribe(({pagesCount:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("pagesloaded",!0,!0,{pagesCount:w}),j.container.dispatchEvent(le)}),(0,b.R)(q,"scalechange").pipe(U(_e)).subscribe(({scale:w,presetValue:j,source:le})=>{const ve=document.createEvent("UIEvents");ve.initEvent("scalechange",!0,!0),ve.scale=w,ve.presetValue=j,le.container.dispatchEvent(ve)}),(0,b.R)(q,"updateviewarea").pipe(U(_e)).subscribe(({location:w,source:j})=>{const le=document.createEvent("UIEvents");le.initEvent("updateviewarea",!0,!0),le.location=w,j.container.dispatchEvent(le)}),(0,b.R)(q,"find").pipe(U(_e)).subscribe(({source:w,type:j,query:le,phraseSearch:ve,caseSensitive:Te,highlightAll:xe,findPrevious:Oe})=>{if(w===window)return;const Re=document.createEvent("CustomEvent");Re.initCustomEvent("find"+j,!0,!0,{query:le,phraseSearch:ve,caseSensitive:Te,highlightAll:xe,findPrevious:Oe}),window.dispatchEvent(Re)}),(0,b.R)(q,"attachmentsloaded").pipe(U(_e)).subscribe(({attachmentsCount:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:w}),j.container.dispatchEvent(le)}),(0,b.R)(q,"sidebarviewchanged").pipe(U(_e)).subscribe(({view:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("sidebarviewchanged",!0,!0,{view:w}),j.outerContainer.dispatchEvent(le)}),(0,b.R)(q,"pagemode").pipe(U(_e)).subscribe(({mode:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("pagemode",!0,!0,{mode:w}),j.pdfViewer.container.dispatchEvent(le)}),(0,b.R)(q,"namedaction").pipe(U(_e)).subscribe(({action:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("namedaction",!0,!0,{action:w}),j.pdfViewer.container.dispatchEvent(le)}),(0,b.R)(q,"presentationmodechanged").pipe(U(_e)).subscribe(({active:w,switchInProgress:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("presentationmodechanged",!0,!0,{active:w,switchInProgress:j}),window.dispatchEvent(le)}),(0,b.R)(q,"outlineloaded").pipe(U(_e)).subscribe(({outlineCount:w,source:j})=>{const le=document.createEvent("CustomEvent");le.initCustomEvent("outlineloaded",!0,!0,{outlineCount:w}),j.container.dispatchEvent(le)})}(w,_e),w}(Ce,this.destroy$),(0,b.R)(this.eventBus,"pagerendered").pipe(U(this.destroy$)).subscribe(w=>{this.pageRendered.emit(w)}),(0,b.R)(this.eventBus,"pagesinit").pipe(U(this.destroy$)).subscribe(w=>{this.pageInitialized.emit(w)}),(0,b.R)(this.eventBus,"pagechanging").pipe(U(this.destroy$)).subscribe(({pageNumber:w})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=w,this.pageChange.emit(w)},100)}),(0,b.R)(this.eventBus,"textlayerrendered").pipe(U(this.destroy$)).subscribe(w=>{this.textLayerRendered.emit(w)})}initPDFServices(){this.pdfLinkService=new de.PDFLinkService(Object.assign({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new de.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:z.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){P(Q,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new de.PDFViewer(this.getPDFOptions()):new de.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(w){return w<1?1:w>this._pdf.numPages?this._pdf.numPages:w}getDocumentParams(){const w=typeof this.src;if(!this._cMapsUrl)return this.src;const j={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===w?j.url=this.src:"object"===w&&(void 0!==this.src.byteLength?j.data=this.src:Object.assign(j,this.src)),j}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=Y.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=j=>{this.onProgress.emit(j)};const w=this.src;(0,V.D)(this.loadingTask.promise).pipe(U(this.destroy$)).subscribe({next:j=>{this._pdf=j,this.lastLoaded=w,this.afterLoadComplete.emit(j),this.resetPdfDocument(),this.update()},error:j=>{this.lastLoaded=null,this.onError.emit(j)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(w,j){const le=this._showBorders?2*q.BORDER_WIDTH:0,ve=this.pdfViewerContainer.nativeElement.clientWidth-le,Te=this.pdfViewerContainer.nativeElement.clientHeight-le;if(0===Te||0===j||0===ve||0===w)return 1;let xe=1;switch(this._zoomScale){case"page-fit":xe=Math.min(Te/j,ve/w);break;case"page-height":xe=Te/j;break;default:xe=ve/w}return this._zoom*xe/q.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){D()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){D()||this.ngZone.runOutsideAngular(()=>{(0,b.R)(window,"resize").pipe(B(100),(0,N.h)(()=>this._canAutoResize&&!!this._pdf),U(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return q.CSS_UNITS=96/72,q.BORDER_WIDTH=9,q.\u0275fac=function(w){return new(w||q)(s.Y36(s.SBq),s.Y36(s.R0b))},q.\u0275cmp=s.Xpm({type:q,selectors:[["pdf-viewer"]],viewQuery:function(w,j){if(1&w&&s.Gf(te,5),2&w){let le;s.iGM(le=s.CRH())&&(j.pdfViewerContainer=le.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[s.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(w,j){1&w&&(s.TgZ(0,"div",0,1),s._UZ(2,"div",2),s.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),q})(),ue=(()=>{class q{}return q.\u0275fac=function(w){return new(w||q)},q.\u0275mod=s.oAB({type:q}),q.\u0275inj=s.cJS({}),q})();var me=J(2492),Se=J(3075);function Pe(q,_e){if(1&q&&s._UZ(0,"cms-html-content-viewer",5),2&q){const w=s.oxw(2);s.Q6J("item",w.content)}}function Le(q,_e){if(1&q){const w=s.EpF();s.TgZ(0,"div")(1,"pagination",9),s.NdJ("ngModelChange",function(le){return s.CHM(w),s.oxw(3).pdf_page=le}),s.qZA()()}if(2&q){const w=s.oxw(3);s.xp6(1),s.Q6J("itemsPerPage",1)("totalItems",w.pdf_total_pages)("ngModel",w.pdf_page)("maxSize",5)}}function ke(q,_e){if(1&q){const w=s.EpF();s.TgZ(0,"div",6)(1,"pdf-viewer",7),s.NdJ("after-load-complete",function(le){return s.CHM(w),s.oxw(2).callBackFn(le)})("pageChange",function(le){return s.CHM(w),s.oxw(2).pdf_page=le}),s.qZA(),s.YNc(2,Le,2,4,"div",8),s.qZA()}if(2&q){const w=s.oxw(2);s.xp6(1),s.Q6J("src",w.content.contentDetail)("render-text",!1)("fit-to-page",!0)("show-all",!1)("zoom-scale","page-fit")("original-size",!1)("autoresize",!0)("page",w.pdf_page),s.xp6(1),s.Q6J("ngIf",w.pdf_total_pages>1)}}function Fe(q,_e){1&q&&(s.TgZ(0,"div"),s._uU(1,"Unsupported content"),s.qZA())}function ie(q,_e){if(1&q&&(s.TgZ(0,"div",1),s.YNc(1,Pe,1,1,"cms-html-content-viewer",2),s.YNc(2,ke,3,9,"div",3),s.YNc(3,Fe,2,0,"div",4),s.qZA()),2&q){const w=s.oxw();s.Q6J("ngSwitch",w.content.contentType),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2)}}let R=(()=>{class q{constructor(w,j){this.menu_service=w,this.app_loader_service=j,this._cms_content_id=new i.X(0),this._subscriptions=[],this.pdf_page=1,this.pdf_total_pages=0}set cms_content_id(w){this._cms_content_id.next(w)}get cms_content_id(){return this._cms_content_id.getValue()}ngOnDestroy(){this._subscriptions.forEach(w=>w.unsubscribe())}ngOnInit(){const w=this._cms_content_id.pipe(B(200),function X(q,_e=H.y){return q=null!=q?q:K,(0,k.e)((w,j)=>{let le,ve=!0;w.subscribe((0,F.x)(j,Te=>{const xe=_e(Te);(ve||!q(le,xe))&&(ve=!1,le=xe,j.next(Te))}))})}(),(0,N.h)(j=>0!=j),(0,$.b)(j=>this.content=void 0),(0,ee.w)(j=>(this.app_loader_service.loading_start(),this.menu_service.get_menu_content(+j)))).subscribe(j=>{this.app_loader_service.loading_end(),2==j.contentType&&(this.pdf_page=1,this.pdf_total_pages=0,this.app_loader_service.loading_start(),j.contentDetail=`${se.N.api}/assets/uploads${j.contentDetail}`),this.content=j});this._subscriptions.push(w)}callBackFn(w){this.pdf_total_pages=w.numPages,console.log(w.numPages),this.app_loader_service.loading_end()}}return q.\u0275fac=function(w){return new(w||q)(s.Y36(I.h),s.Y36(v.P))},q.\u0275cmp=s.Xpm({type:q,selectors:[["cms-content-viewer"]],inputs:{cms_content_id:"cms_content_id"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"item",4,"ngSwitchCase"],["class","pdf-viewer",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"item"],[1,"pdf-viewer"],[3,"src","render-text","fit-to-page","show-all","zoom-scale","original-size","autoresize","page","after-load-complete","pageChange"],[4,"ngIf"],[3,"itemsPerPage","totalItems","ngModel","maxSize","ngModelChange"]],template:function(w,j){1&w&&s.YNc(0,ie,4,3,"div",0),2&w&&s.Q6J("ngIf",j.content)},directives:[g.O5,g.RF,g.n9,y,ge,me.Qt,Se.JJ,Se.On,g.ED],styles:[".html-cont[_ngcontent-%COMP%]{overflow:auto;cursor:grab}.pdf-viewer[_ngcontent-%COMP%]{height:1100px}pdf-viewer[_ngcontent-%COMP%]{height:100%;max-width:1000px}"]}),q})();const ce=[{path:":grandParentTitle/:pageTitle/:pageId",component:(()=>{class q{constructor(w,j,le,ve){this.route=w,this.router=j,this.app_loader=le,this.menu_service=ve,this.sidebar_content=[],this.title="",this._subscriptions=[],this.content_id$=(0,re.a)([this.route.paramMap.pipe((0,Z.U)(Te=>Te.get("pageId"))),this.route.queryParamMap.pipe((0,Z.U)(Te=>Te.get("content")))]).pipe((0,Z.U)(Te=>{var xe;return Te[1]?+Te[1]:+(null!==(xe=Te[0])&&void 0!==xe?xe:0)}))}ngOnInit(){this.set_up_page();const w=this.route.paramMap.pipe((0,Z.U)(j=>j.get("pageId"))).subscribe(j=>{this.set_up_page()});this._subscriptions.push(w)}ngOnDestroy(){this._subscriptions.forEach(w=>w.unsubscribe())}set_up_page(){var w;const j=this.route.snapshot.queryParamMap.get("content"),le=+(null!==(w=this.route.snapshot.paramMap.get("pageId"))&&void 0!==w?w:0);j||(this.sidebar_content=this.default_sidebar()),(j?this.menu_service.get_top_menu_tree(+le):(0,ne.of)(this.default_sidebar())).subscribe(Te=>{if(j){const xe=I.h.get_first_grandchild(Te[0]);this.title=xe.menuLabel}else this.title="";this.sidebar_content=Te,this.app_loader.loading_end()})}default_sidebar(){return(0,x.JG)(d).map((j,le)=>({children:[],isPublished:!0,menuId:0,menuLabel:j.title,menuOrder:le,menuParent:0}))}navigate(w){const j={content:w.menuId};this.title=w.menuLabel,this.router.navigate([],{relativeTo:this.route,queryParams:j,queryParamsHandling:"merge"})}}return q.\u0275fac=function(w){return new(w||q)(s.Y36(pe.gz),s.Y36(pe.F0),s.Y36(v.P),s.Y36(I.h))},q.\u0275cmp=s.Xpm({type:q,selectors:[["app-default-cms"]],decls:15,vars:6,consts:[["cms",""],[1,"bg-white","py-5"],[1,"container"],[1,"row"],[1,"col-md-4"],[3,"items","on_select"],[1,"col-md-8"],[1,"cms-cont","ms-3"],[1,"cms-title","mb-3","p-relative",3,"hidden"],[1,"priority"],[3,"cms_content_id"]],template:function(w,j){1&w&&(s.TgZ(0,"div",null,0),s._UZ(2,"util-page-title"),s.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"cms-sidebar",5),s.NdJ("on_select",function(ve){return j.navigate(ve)}),s.qZA()(),s.TgZ(8,"div",6)(9,"div",7)(10,"h2",8),s._UZ(11,"div",9),s._uU(12),s.qZA(),s._UZ(13,"cms-content-viewer",10),s.ALo(14,"async"),s.qZA()()()()()()),2&w&&(s.xp6(7),s.Q6J("items",j.sidebar_content),s.xp6(3),s.Q6J("hidden",!j.title),s.xp6(2),s.hij(" ",j.title," "),s.xp6(1),s.Q6J("cms_content_id",s.lcZ(14,4,j.content_id$)))},directives:[S.T,e,R],pipes:[g.Ov],styles:[".cms-title[_ngcontent-%COMP%]{font-weight:700;font-size:40px}"]}),q})()}];let fe=(()=>{class q{}return q.\u0275fac=function(w){return new(w||q)},q.\u0275mod=s.oAB({type:q}),q.\u0275inj=s.cJS({imports:[[pe.Bz.forChild(ce)],pe.Bz]}),q})();var Ae=J(8231);let ye=(()=>{class q{}return q.\u0275fac=function(w){return new(w||q)},q.\u0275mod=s.oAB({type:q}),q.\u0275inj=s.cJS({imports:[[g.ez,fe,Ae.A,o.f,l,ue,me.u3,Se.u5]]}),q})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,J;J=()=>(()=>{"use strict";var __webpack_modules__=[,(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FeatureTest=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=G,L.arraysToBytes=function W(ie){const R=ie.length;if(1===R&&ie[0]instanceof Uint8Array)return ie[0];let O=0;for(let Ae=0;Ae<R;Ae++)O+=G(ie[Ae]);let ce=0;const fe=new Uint8Array(O);for(let Ae=0;Ae<R;Ae++){let ye=ie[Ae];ye instanceof Uint8Array||(ye="string"==typeof ye?V(ye):new Uint8Array(ye));const q=ye.byteLength;fe.set(ye,ce),ce+=q}return fe},L.assert=function $(ie,R){ie||N(R)},L.bytesToString=function E(ie){("object"!=typeof ie||null===ie||void 0===ie.length)&&N("Invalid argument for bytesToString");const R=ie.length,O=8192;if(R<O)return String.fromCharCode.apply(null,ie);const ce=[];for(let fe=0;fe<R;fe+=O){const Ae=Math.min(fe+O,R),ye=ie.subarray(fe,Ae);ce.push(String.fromCharCode.apply(null,ye))}return ce.join("")},L.createPromiseCapability=function Fe(){const ie=Object.create(null);let R=!1;return Object.defineProperty(ie,"settled",{get:()=>R}),ie.promise=new Promise(function(O,ce){ie.resolve=function(fe){R=!0,O(fe)},ie.reject=function(fe){R=!0,ce(fe)}}),ie},L.createValidAbsoluteUrl=function se(ie,R=null,O=null){if(!ie)return null;try{if(O&&"string"==typeof ie){if(O.addDefaultProtocol&&ie.startsWith("www.")){const fe=ie.match(/\./g);fe&&fe.length>=2&&(ie=`http://${ie}`)}if(O.tryConvertEncoding)try{ie=me(ie)}catch(fe){}}const ce=R?new URL(ie,R):new URL(ie);if(function ee(ie){if(!ie)return!1;switch(ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ce))return ce}catch(ce){}return null},L.escapeString=function z(ie){return ie.replace(/([()\\\n\r])/g,R=>"\n"===R?"\\n":"\r"===R?"\\r":`\\${R}`)},L.getModificationDate=function ke(ie=new Date){return[ie.getUTCFullYear().toString(),(ie.getUTCMonth()+1).toString().padStart(2,"0"),ie.getUTCDate().toString().padStart(2,"0"),ie.getUTCHours().toString().padStart(2,"0"),ie.getUTCMinutes().toString().padStart(2,"0"),ie.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function H(){return F},L.info=function X(ie){F>=_.INFOS&&console.log(`Info: ${ie}`)},L.isArrayBuffer=function Pe(ie){return"object"==typeof ie&&null!==ie&&void 0!==ie.byteLength},L.isArrayEqual=function Le(ie,R){if(ie.length!==R.length)return!1;for(let O=0,ce=ie.length;O<ce;O++)if(ie[O]!==R[O])return!1;return!0},L.isAscii=function ge(ie){return/^[\x00-\x7F]*$/.test(ie)},L.objectFromMap=function Q(ie){const R=Object.create(null);for(const[O,ce]of ie)R[O]=ce;return R},L.objectSize=function Y(ie){return Object.keys(ie).length},L.setVerbosityLevel=function B(ie){Number.isInteger(ie)&&(F=ie)},L.shadow=he,L.string32=function U(ie){return String.fromCharCode(ie>>24&255,ie>>16&255,ie>>8&255,255&ie)},L.stringToBytes=V,L.stringToPDFString=function D(ie){if(ie[0]>="\xef"){let O;if("\xfe"===ie[0]&&"\xff"===ie[1]?O="utf-16be":"\xff"===ie[0]&&"\xfe"===ie[1]?O="utf-16le":"\xef"===ie[0]&&"\xbb"===ie[1]&&"\xbf"===ie[2]&&(O="utf-8"),O)try{const ce=new TextDecoder(O,{fatal:!0}),fe=V(ie);return ce.decode(fe)}catch(ce){K(`stringToPDFString: "${ce}".`)}}const R=[];for(let O=0,ce=ie.length;O<ce;O++){const fe=P[ie.charCodeAt(O)];R.push(fe?String.fromCharCode(fe):ie.charAt(O))}return R.join("")},L.stringToUTF16BEString=function ue(ie){const R=["\xfe\xff"];for(let O=0,ce=ie.length;O<ce;O++){const fe=ie.charCodeAt(O);R.push(String.fromCharCode(fe>>8&255),String.fromCharCode(255&fe))}return R.join("")},L.stringToUTF8String=me,L.unreachable=N,L.utf8StringToString=function Se(ie){return unescape(encodeURIComponent(ie))},L.warn=K,J(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const _={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=_,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=_.WARNINGS;function K(ie){F>=_.WARNINGS&&console.log(`Warning: ${ie}`)}function N(ie){throw new Error(ie)}function he(ie,R,O){return Object.defineProperty(ie,R,{value:O,enumerable:!0,configurable:!0,writable:!1}),O}const M=function(){function R(O,ce){this.constructor===R&&N("Cannot initialize BaseException."),this.message=O,this.name=ce}return R.prototype=new Error,R.constructor=R,R}();function V(ie){"string"!=typeof ie&&N("Invalid argument for stringToBytes");const R=ie.length,O=new Uint8Array(R);for(let ce=0;ce<R;++ce)O[ce]=255&ie.charCodeAt(ce);return O}function G(ie){return void 0!==ie.length?ie.length:void 0!==ie.byteLength?ie.byteLength:void N("Invalid argument for arrayByteLength")}L.BaseException=M,L.PasswordException=class a extends M{constructor(R,O){super(R,"PasswordException"),this.code=O}},L.UnknownErrorException=class h extends M{constructor(R,O){super(R,"UnknownErrorException"),this.details=O}},L.InvalidPDFException=class t extends M{constructor(R){super(R,"InvalidPDFException")}},L.MissingPDFException=class l extends M{constructor(R){super(R,"MissingPDFException")}},L.UnexpectedResponseException=class u extends M{constructor(R,O){super(R,"UnexpectedResponseException"),this.status=O}},L.FormatError=class y extends M{constructor(R){super(R,"FormatError")}},L.AbortException=class b extends M{constructor(R){super(R,"AbortException")}},L.FeatureTest=class te{static get isLittleEndian(){return he(this,"isLittleEndian",function de(){const ie=new Uint8Array(4);return ie[0]=1,1===new Uint32Array(ie.buffer,0,1)[0]}())}static get isEvalSupported(){return he(this,"isEvalSupported",function Ce(){try{return new Function(""),!0}catch(ie){return!1}}())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const oe=[...Array(256).keys()].map(ie=>ie.toString(16).padStart(2,"0"));class ae{static makeHexColor(R,O,ce){return`#${oe[R]}${oe[O]}${oe[ce]}`}static scaleMinMax(R,O){let ce;R[0]?(R[0]<0&&(ce=O[0],O[0]=O[1],O[1]=ce),O[0]*=R[0],O[1]*=R[0],R[3]<0&&(ce=O[2],O[2]=O[3],O[3]=ce),O[2]*=R[3],O[3]*=R[3]):(ce=O[0],O[0]=O[2],O[2]=ce,ce=O[1],O[1]=O[3],O[3]=ce,R[1]<0&&(ce=O[2],O[2]=O[3],O[3]=ce),O[2]*=R[1],O[3]*=R[1],R[2]<0&&(ce=O[0],O[0]=O[1],O[1]=ce),O[0]*=R[2],O[1]*=R[2]),O[0]+=R[4],O[1]+=R[4],O[2]+=R[5],O[3]+=R[5]}static transform(R,O){return[R[0]*O[0]+R[2]*O[1],R[1]*O[0]+R[3]*O[1],R[0]*O[2]+R[2]*O[3],R[1]*O[2]+R[3]*O[3],R[0]*O[4]+R[2]*O[5]+R[4],R[1]*O[4]+R[3]*O[5]+R[5]]}static applyTransform(R,O){return[R[0]*O[0]+R[1]*O[2]+O[4],R[0]*O[1]+R[1]*O[3]+O[5]]}static applyInverseTransform(R,O){const ce=O[0]*O[3]-O[1]*O[2];return[(R[0]*O[3]-R[1]*O[2]+O[2]*O[5]-O[4]*O[3])/ce,(-R[0]*O[1]+R[1]*O[0]+O[4]*O[1]-O[5]*O[0])/ce]}static getAxialAlignedBoundingBox(R,O){const ce=ae.applyTransform(R,O),fe=ae.applyTransform(R.slice(2,4),O),Ae=ae.applyTransform([R[0],R[3]],O),ye=ae.applyTransform([R[2],R[1]],O);return[Math.min(ce[0],fe[0],Ae[0],ye[0]),Math.min(ce[1],fe[1],Ae[1],ye[1]),Math.max(ce[0],fe[0],Ae[0],ye[0]),Math.max(ce[1],fe[1],Ae[1],ye[1])]}static inverseTransform(R){const O=R[0]*R[3]-R[1]*R[2];return[R[3]/O,-R[1]/O,-R[2]/O,R[0]/O,(R[2]*R[5]-R[4]*R[3])/O,(R[4]*R[1]-R[5]*R[0])/O]}static apply3dTransform(R,O){return[R[0]*O[0]+R[1]*O[1]+R[2]*O[2],R[3]*O[0]+R[4]*O[1]+R[5]*O[2],R[6]*O[0]+R[7]*O[1]+R[8]*O[2]]}static singularValueDecompose2dScale(R){const O=[R[0],R[2],R[1],R[3]],ce=R[0]*O[0]+R[1]*O[2],ye=R[2]*O[1]+R[3]*O[3],q=(ce+ye)/2,_e=Math.sqrt((ce+ye)**2-4*(ce*ye-(R[2]*O[0]+R[3]*O[2])*(R[0]*O[1]+R[1]*O[3])))/2,j=q-_e||1;return[Math.sqrt(q+_e||1),Math.sqrt(j)]}static normalizeRect(R){const O=R.slice(0);return R[0]>R[2]&&(O[0]=R[2],O[2]=R[0]),R[1]>R[3]&&(O[1]=R[3],O[3]=R[1]),O}static intersect(R,O){const ce=Math.max(Math.min(R[0],R[2]),Math.min(O[0],O[2])),fe=Math.min(Math.max(R[0],R[2]),Math.max(O[0],O[2]));if(ce>fe)return null;const Ae=Math.max(Math.min(R[1],R[3]),Math.min(O[1],O[3])),ye=Math.min(Math.max(R[1],R[3]),Math.max(O[1],O[3]));return Ae>ye?null:[ce,Ae,fe,ye]}static bezierBoundingBox(R,O,ce,fe,Ae,ye,q,_e){const w=[],j=[[],[]];let le,ve,Te,xe,Oe,Re,Ne,Ve;for(let je=0;je<2;++je)if(0===je?(ve=6*R-12*ce+6*Ae,le=-3*R+9*ce-9*Ae+3*q,Te=3*ce-3*R):(ve=6*O-12*fe+6*ye,le=-3*O+9*fe-9*ye+3*_e,Te=3*fe-3*O),Math.abs(le)<1e-12){if(Math.abs(ve)<1e-12)continue;xe=-Te/ve,0<xe&&xe<1&&w.push(xe)}else Ne=ve*ve-4*Te*le,Ve=Math.sqrt(Ne),!(Ne<0)&&(Oe=(-ve+Ve)/(2*le),0<Oe&&Oe<1&&w.push(Oe),Re=(-ve-Ve)/(2*le),0<Re&&Re<1&&w.push(Re));let De,Be=w.length;const Ue=Be;for(;Be--;)xe=w[Be],De=1-xe,j[0][Be]=De*De*De*R+3*De*De*xe*ce+3*De*xe*xe*Ae+xe*xe*xe*q,j[1][Be]=De*De*De*O+3*De*De*xe*fe+3*De*xe*xe*ye+xe*xe*xe*_e;return j[0][Ue]=R,j[1][Ue]=O,j[0][Ue+1]=q,j[1][Ue+1]=_e,j[0].length=j[1].length=Ue+2,[Math.min(...j[0]),Math.min(...j[1]),Math.max(...j[0]),Math.max(...j[1])]}}L.Util=ae;const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function me(ie){return decodeURIComponent(escape(ie))}},(be,L,J)=>{J(3)},(be,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const J=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=J},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var be,J,g,pe,re,Z,ne,I,d,nt,s;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:S,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=S,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}function setPDFNetworkStreamFactory(S){createPDFNetworkStream=S}function getDocument(S){const o=new PDFDocumentLoadingTask;let r;if("string"==typeof S||S instanceof URL)r={url:S};else if((0,_util.isArrayBuffer)(S))r={data:S};else if(S instanceof PDFDataRangeTransport)r={range:S};else{if("object"!=typeof S)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!S.url&&!S.data&&!S.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=S}const n=Object.create(null);let c=null,C=null;for(const p in r){const e=r[p];switch(p){case"url":if("undefined"!=typeof window)try{n[p]=new URL(e,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof e||e instanceof URL){n[p]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=e;continue;case"worker":C=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)n[p]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)n[p]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[p]=new Uint8Array(e)}else n[p]=new Uint8Array(e)}continue}n[p]=e}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!C){const p={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};C=p.port?PDFWorker.fromPort(p):new PDFWorker(p),o._worker=C}const f=o.docId;return C.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const p=_fetchDocument(C,n,c,f),e=new Promise(function(i){let _;c?_=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},c):n.data||(_=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),i(_)});return Promise.all([p,e]).then(function([i,_]){if(o.destroyed)throw new Error("Loading aborted");const m=new _message_handler.MessageHandler(f,i,C.port),A=new WorkerTransport(m,o,_,n);o._transport=A,m.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(S,o,r,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(S,o,r,n){if(S.destroyed)throw new Error("Worker was destroyed");r&&(o.length=r.length,o.initialData=r.initialData,o.progressiveDone=r.progressiveDone,o.contentDispositionFilename=r.contentDispositionFilename);const c=yield S.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(S.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}const L=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+tt(L,be)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){var r;o.destroyed=!0,yield null==(r=o._transport)?void 0:r.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}};let PDFDocumentLoadingTask=L;be=new WeakMap,Me(PDFDocumentLoadingTask,be,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,r,n=!1,c=null){this.length=o,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,r){for(const n of this._rangeListeners)n(o,r)}onDataProgress(o,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(o,r)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,r){var c,n=this;this._pdfInfo=o,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,r,n,c,C=!1){this._pageIndex=o,this._pageInfo=r,this._ownerDocument=c,this._transport=n,this._stats=C?new _display_utils.StatTimer:null,this._pdfBug=C,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:r=this.rotate,offsetX:n=0,offsetY:c=0,dontFlip:C=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:r,offsetX:n,offsetY:c,dontFlip:C})}getAnnotations({intent:o="display"}={}){const r=this._transport.getRenderingIntent(o);let n=this._annotationPromises.get(r.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,n),n=n.then(c=>{for(const C of c)void 0!==C.titleObj&&Object.defineProperty(C,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),C.titleObj.str)}),void 0!==C.contentsObj&&Object.defineProperty(C,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),C.contentsObj.str)});return c})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){var r;return(null==(r=o._transport._htmlForXfa)?void 0:r.children[o._pageIndex])||null})()}render({canvasContext:o,viewport:r,intent:n="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:C=null,imageLayer:f=null,canvasFactory:p=null,background:e=null,optionalContentConfigPromise:i=null,annotationCanvasMap:_=null,pageColors:m=null}){var K,N;void 0!==(null==(K=arguments[0])?void 0:K.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(N=arguments[0])?void 0:N.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const A=this._transport.getRenderingIntent(n,c);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let T=this._intentStates.get(A.cacheKey);T||(T=Object.create(null),this._intentStates.set(A.cacheKey,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const k=p||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),F=!!(A.renderingIntent&_util.RenderingIntentFlag.PRINT);T.displayReadyCapability||(T.displayReadyCapability=(0,_util.createPromiseCapability)(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(A));const B=$=>{T.renderTasks.delete(H),(this.cleanupAfterRender||F)&&(this.pendingCleanup=!0),this._tryCleanup(),$?(H.capability.reject($),this._abortOperatorList({intentState:T,reason:$ instanceof Error?$:new Error($)})):H.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},H=new InternalRenderTask({callback:B,params:{canvasContext:o,viewport:r,transform:C,imageLayer:f,background:e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:_,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:k,useRequestAnimationFrame:!F,pdfBug:this._pdfBug,pageColors:m});(T.renderTasks||(T.renderTasks=new Set)).add(H);const X=H.task;return Promise.all([T.displayReadyCapability.promise,i]).then(([$,ee])=>{this.pendingCleanup?B():(this._stats&&this._stats.time("Rendering"),H.initializeGraphics({transparency:$,optionalContentConfig:ee}),H.operatorListChanged())}).catch(B),X}getOperatorList({intent:o="display",annotationMode:r=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(o,r,!0);let f,C=this._intentStates.get(c.cacheKey);return C||(C=Object.create(null),this._intentStates.set(c.cacheKey,C)),C.opListReadCapability||(f=Object.create(null),f.operatorListChanged=function n(){C.operatorList.lastChunk&&(C.opListReadCapability.resolve(C.operatorList),C.renderTasks.delete(f))},C.opListReadCapability=(0,_util.createPromiseCapability)(),(C.renderTasks||(C.renderTasks=new Set)).add(f),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),C.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===r},{highWaterMark:100,size:c=>c.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const r=this.streamTextContent(o);return new Promise(function(n,c){const f=r.getReader(),p={items:[],styles:Object.create(null)};!function C(){f.read().then(function({value:e,done:i}){i?n(p):(Object.assign(p.styles,e.styles),p.items.push(...e.items),C())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)o.push(n.completed),n.cancel();this.objs.clear();for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,r){const n=this._intentStates.get(r);!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(o))}_renderPageChunk(o,r){for(let n=0,c=o.length;n<c;n++)r.operatorList.fnArray.push(o.fnArray[n]),r.operatorList.argsArray.push(o.argsArray[n]);r.operatorList.lastChunk=o.lastChunk;for(const n of r.renderTasks)n.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:r}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:r,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),C=this._intentStates.get(r);C.streamReader=c;const f=()=>{c.read().then(({value:p,done:e})=>{e?C.streamReader=null:this._transport.destroyed||(this._renderPageChunk(p,C),f())},p=>{if(C.streamReader=null,!this._transport.destroyed){if(C.operatorList){C.operatorList.lastChunk=!0;for(const e of C.renderTasks)e.operatorListChanged();this._tryCleanup()}if(C.displayReadyCapability)C.displayReadyCapability.reject(p);else{if(!C.opListReadCapability)throw p;C.opListReadCapability.reject(p)}}})};f()}_abortOperatorList({intentState:o,reason:r,force:n=!1}){if(o.streamReader){if(!n){if(o.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:r,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[c,C]of this._intentStates)if(C===o){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,r){const n={data:structuredClone(o,r)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,n)})}addEventListener(o,r){this._listeners.push(r)}removeEventListener(o,r){const n=this._listeners.indexOf(r);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const S=null==(J=null==document?void 0:document.currentScript)?void 0:J.src;S&&(PDFWorkerUtil.fallbackWorkerSrc=S.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(S,o){let r;try{if(r=new URL(S),!r.origin||"null"===r.origin)return!1}catch(c){return!1}const n=new URL(o,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(S){return URL.createObjectURL(new Blob([`importScripts("${S}");`]))};const _PDFWorker=class{constructor({name:S=null,port:o=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(o&&we(_PDFWorker,g).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=S,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return we(_PDFWorker,g).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(S){this._port=S,this._messageHandler=new _message_handler.MessageHandler("main","worker",S),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let S=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,S)||(S=PDFWorkerUtil.createCDNWrapper(new URL(S,window.location).href));const o=new Worker(S),r=new _message_handler.MessageHandler("main","worker",o),n=()=>{o.removeEventListener("error",c),r.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||n()};o.addEventListener("error",c),r.on("test",f=>{o.removeEventListener("error",c),this.destroyed?n():f?(this._messageHandler=r,this._port=o,this._webWorker=o,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),o.terminate())}),r.on("ready",f=>{if(o.removeEventListener("error",c),this.destroyed)n();else try{C()}catch(p){this._setupFakeWorker()}});const C=()=>{const f=new Uint8Array;r.send("test",f,[f.buffer])};return void C()}catch(o){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(S=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const r="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,o);S.setup(n,o);const c=new _message_handler.MessageHandler(r,r+"_worker",o);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(S=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${S.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),we(_PDFWorker,g).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(S){if(!(null==S?void 0:S.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return we(this,g).has(S.port)?we(this,g).get(S.port):new _PDFWorker(S)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var S;try{return(null==(S=globalThis.pdfjsWorker)?void 0:S.WorkerMessageHandler)||null}catch(o){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function S(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;g=new WeakMap,Me(PDFWorker,g,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(o,r,n,c){Me(this,pe,null),Me(this,re,new Map),Me(this,Z,new Map),Me(this,ne,null),this.messageHandler=o,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return we(this,pe)}getRenderingIntent(o,r=_util.AnnotationMode.ENABLE,n=!1){let c=_util.RenderingIntentFlag.DISPLAY,C="";switch(o){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(r){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,C=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return n&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${C}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const n of we(this,re).values())o.push(n._destroy());we(this,re).clear(),we(this,Z).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return o.push(r),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ie(this,ne,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:r}=this;o.on("GetReader",(n,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=C=>{this._lastProgress={loaded:C.loaded,total:C.total}},c.onPull=()=>{this._fullReader.read().then(function({value:C,done:f}){f?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(C),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(C),1,[C]))}).catch(C=>{c.error(C)})},c.onCancel=C=>{this._fullReader.cancel(C),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),o.on("ReaderHeadersReady",n=>{const c=(0,_util.createPromiseCapability)(),C=this._fullReader;return C.headersReady.then(()=>{var f;(!C.isStreamingSupported||!C.isRangeSupported)&&(this._lastProgress&&(null==(f=r.onProgress)||f.call(r,this._lastProgress)),C.onProgress=p=>{var e;null==(e=r.onProgress)||e.call(r,{loaded:p.loaded,total:p.total})}),c.resolve({isStreamingSupported:C.isStreamingSupported,isRangeSupported:C.isRangeSupported,contentLength:C.contentLength})},c.reject),c.promise}),o.on("GetRangeReader",(n,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const C=this._networkStream.getRangeReader(n.begin,n.end);C?(c.onPull=()=>{C.read().then(function({value:f,done:p}){p?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{c.error(f)})},c.onCancel=f=>{C.cancel(f),c.ready.catch(p=>{if(!this.destroyed)throw p})}):c.close()}),o.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,this))}),o.on("DocException",function(n){let c;switch(n.name){case"PasswordException":c=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":c=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(c)}),o.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){const c=C=>{C instanceof Error?this._passwordCapability.reject(C):this._passwordCapability.resolve({password:C})};try{r.onPassword(c,n.code)}catch(C){this._passwordCapability.reject(C)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),o.on("DataLoaded",n=>{var c;null==(c=r.onProgress)||c.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),o.on("StartRenderPage",n=>{this.destroyed||we(this,re).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),o.on("commonobj",([n,c,C])=>{var f;if(!this.destroyed&&!this.commonObjs.has(n))switch(c){case"Font":const p=this._params;if("error"in C){const _=C.error;(0,_util.warn)(`Error during font loading: ${_}`),this.commonObjs.resolve(n,_);break}let e=null;p.pdfBug&&(null==(f=globalThis.FontInspector)?void 0:f.enabled)&&(e={registerFont(_,m){globalThis.FontInspector.fontAdded(_,m)}});const i=new _font_loader.FontFaceObject(C,{isEvalSupported:p.isEvalSupported,disableFontFace:p.disableFontFace,ignoreErrors:p.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(i).catch(_=>o.sendWithPromise("FontFallback",{id:n})).finally(()=>{!p.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(n,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,C);break;default:throw new Error(`Got unknown common object type ${c}`)}}),o.on("obj",([n,c,C,f])=>{var e;if(this.destroyed)return;const p=we(this,re).get(c);if(!p.objs.has(n))switch(C){case"Image":p.objs.resolve(n,f);const i=8e6;if(f){let _;if(f.bitmap){const{bitmap:m,width:A,height:T}=f;_=A*T*4,p._bitmaps.add(m)}else _=(null==(e=f.data)?void 0:e.length)||0;_>i&&(p.cleanupAfterRender=!0)}break;case"Pattern":p.objs.resolve(n,f);break;default:throw new Error(`Got unknown object type ${C}`)}}),o.on("DocProgress",n=>{var c;this.destroyed||null==(c=r.onProgress)||c.call(r,{loaded:n.loaded,total:n.total})}),o.on("DocStats",n=>{this.destroyed||Ie(this,pe,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){var r,n;this.destroyed||null==(n=(r=this.loadingTask).onUnsupportedFeature)||n.call(r,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=o-1,n=we(this,Z).get(r);if(n)return n;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(C=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(r,C,this,this._params.ownerDocument,this._params.pdfBug);return we(this,re).set(r,f),f});return we(this,Z).set(r,c),c}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:r})}saveDocument(){var o,r;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(r=null==(o=this._fullReader)?void 0:o.filename)?r:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return we(this,ne)||Ie(this,ne,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>{var r,n,c,C;return{info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:null!=(n=null==(r=this._fullReader)?void 0:r.filename)?n:null,contentLength:null!=(C=null==(c=this._fullReader)?void 0:c.contentLength)?C:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var r=this;return _asyncToGenerator(function*(){if(yield r.messageHandler.sendWithPromise("Cleanup",null),!r.destroyed){for(const n of we(r,re).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);r.commonObjs.clear(),o||r.fontLoader.clear(),Ie(r,ne,null),r._getFieldObjectsPromise=null,r._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}pe=new WeakMap,re=new WeakMap,Z=new WeakMap,ne=new WeakMap;class PDFObjects{constructor(){Me(this,d),Me(this,I,Object.create(null))}get(o,r=null){if(r){const c=Ee(this,d,nt).call(this,o);return c.capability.promise.then(()=>r(c.data)),null}const n=we(this,I)[o];if(!(null==n?void 0:n.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${o}.`);return n.data}has(o){const r=we(this,I)[o];return(null==r?void 0:r.capability.settled)||!1}resolve(o,r=null){const n=Ee(this,d,nt).call(this,o);n.data=r,n.capability.resolve()}clear(){Ie(this,I,Object.create(null))}}I=new WeakMap,d=new WeakSet,nt=function(o){return we(this,I)[o]||(we(this,I)[o]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const v=class{constructor({callback:o,params:r,objs:n,commonObjs:c,annotationCanvasMap:C,operatorList:f,pageIndex:p,canvasFactory:e,useRequestAnimationFrame:i=!1,pdfBug:_=!1,pageColors:m=null}){this.callback=o,this.params=r,this.objs=n,this.commonObjs=c,this.annotationCanvasMap=C,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=p,this.canvasFactory=e,this._pdfBug=_,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:r}){var e;if(this.cancelled)return;if(this._canvas){if(we(v,s).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");we(v,s).add(this._canvas)}this._pdfBug&&(null==(e=globalThis.StepperManager)?void 0:e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:c,transform:C,imageLayer:f,background:p}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,f,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:C,viewport:c,transparency:o,background:p}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&we(v,s).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&we(v,s).delete(o._canvas),o.callback())))})()}};let InternalRenderTask=v;s=new WeakMap,Me(InternalRenderTask,s,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function i(k){console.log("Deprecated API usage: "+k)},L.getFilenameFromUrl=function c(k){const F=k.indexOf("#"),B=k.indexOf("?"),H=Math.min(F>0?F:k.length,B>0?B:k.length);return k.substring(k.lastIndexOf("/",H)+1,H)},L.getPdfFilenameFromUrl=function C(k,F="document.pdf"){if("string"!=typeof k)return F;if(r(k))return(0,pe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const H=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,X=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(k);let K=H.exec(X[1])||H.exec(X[2])||H.exec(X[3]);if(K&&(K=K[0],K.includes("%")))try{K=H.exec(decodeURIComponent(K))[0]}catch(N){}return K||F},L.getXfaPageViewport=function A(k,{scale:F=1,rotation:B=0}){const{width:H,height:X}=k.attributes.style,K=[0,0,parseInt(H),parseInt(X)];return new S({viewBox:K,scale:F,rotation:B})},L.isDataScheme=r,L.isPdfFile=function n(k){return"string"==typeof k&&/\.pdf$/i.test(k)},L.isValidFetchUrl=p,L.loadScript=function e(k,F=!1){return new Promise((B,H)=>{const X=document.createElement("script");X.src=k,X.onload=function(K){F&&X.remove(),B(K)},X.onerror=function(){H(new Error(`Cannot load script at: ${X.src}`))},(document.head||document.documentElement).appendChild(X)})};var g=J(6),pe=J(1);const T=class{};let _,Z=T;function I(k){return d.apply(this,arguments)}function d(){return(d=_asyncToGenerator(function*(k,F=!1){if(p(k,document.baseURI)){const B=yield fetch(k);if(!B.ok)throw new Error(B.statusText);return F?new Uint8Array(yield B.arrayBuffer()):(0,pe.stringToBytes)(yield B.text())}return new Promise((B,H)=>{const X=new XMLHttpRequest;X.open("GET",k,!0),F&&(X.responseType="arraybuffer"),X.onreadystatechange=()=>{if(X.readyState===XMLHttpRequest.DONE){if(200===X.status||0===X.status){let K;if(F&&X.response?K=new Uint8Array(X.response):!F&&X.responseText&&(K=(0,pe.stringToBytes)(X.responseText)),K)return void B(K)}H(new Error(X.statusText))}},X.send(null)})})).apply(this,arguments)}He(Z,"CSS",96),He(Z,"PDF",72),He(Z,"PDF_TO_CSS_UNITS",T.CSS/T.PDF),L.PixelsPerInch=Z,L.DOMCanvasFactory=class ne extends g.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,B){const H=this._document.createElement("canvas");return H.width=F,H.height=B,H}},L.DOMCMapReaderFactory=class x extends g.BaseCMapReaderFactory{_fetchData(F,B){return I(F,this.isCompressed).then(H=>({cMapData:H,compressionType:B}))}},L.DOMStandardFontDataFactory=class s extends g.BaseStandardFontDataFactory{_fetchData(F){return I(F,!0)}},L.DOMSVGFactory=class v extends g.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class S{constructor({viewBox:F,scale:B,rotation:H,offsetX:X=0,offsetY:K=0,dontFlip:N=!1}){this.viewBox=F,this.scale=B,this.rotation=H,this.offsetX=X,this.offsetY=K;const $=(F[2]+F[0])/2,ee=(F[3]+F[1])/2;let se,he,M,a,h,t,l,u;switch((H%=360)<0&&(H+=360),H){case 180:se=-1,he=0,M=0,a=1;break;case 90:se=0,he=1,M=1,a=0;break;case 270:se=0,he=-1,M=-1,a=0;break;case 0:se=1,he=0,M=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}N&&(M=-M,a=-a),0===se?(h=Math.abs(ee-F[1])*B+X,t=Math.abs($-F[0])*B+K,l=Math.abs(F[3]-F[1])*B,u=Math.abs(F[2]-F[0])*B):(h=Math.abs($-F[0])*B+X,t=Math.abs(ee-F[1])*B+K,l=Math.abs(F[2]-F[0])*B,u=Math.abs(F[3]-F[1])*B),this.transform=[se*B,he*B,M*B,a*B,h-se*B*$-M*B*ee,t-he*B*$-a*B*ee],this.width=l,this.height=u}clone({scale:F=this.scale,rotation:B=this.rotation,offsetX:H=this.offsetX,offsetY:X=this.offsetY,dontFlip:K=!1}={}){return new S({viewBox:this.viewBox.slice(),scale:F,rotation:B,offsetX:H,offsetY:X,dontFlip:K})}convertToViewportPoint(F,B){return pe.Util.applyTransform([F,B],this.transform)}convertToViewportRectangle(F){const B=pe.Util.applyTransform([F[0],F[1]],this.transform),H=pe.Util.applyTransform([F[2],F[3]],this.transform);return[B[0],B[1],H[0],H[1]]}convertToPdfPoint(F,B){return pe.Util.applyInverseTransform([F,B],this.transform)}}function r(k){const F=k.length;let B=0;for(;B<F&&""===k[B].trim();)B++;return"data:"===k.substring(B,B+5).toLowerCase()}function p(k,F){try{const{protocol:B}=F?new URL(k,F):new URL(k);return"http:"===B||"https:"===B}catch(B){return!1}}L.PageViewport=S,L.RenderingCancelledException=class o extends pe.BaseException{constructor(F,B){super(F,"RenderingCancelledException"),this.type=B}},L.StatTimer=class f{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,pe.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,pe.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let B=0;for(const H of this.times){const X=H.name;X.length>B&&(B=X.length)}for(const H of this.times){const X=H.end-H.start;F.push(`${H.name.padEnd(B)} ${X}ms\n`)}return F.join("")}},L.PDFDateString=class m{static toDateObject(F){if(!F||"string"!=typeof F)return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const B=_.exec(F);if(!B)return null;const H=parseInt(B[1],10);let X=parseInt(B[2],10);X=X>=1&&X<=12?X-1:0;let K=parseInt(B[3],10);K=K>=1&&K<=31?K:1;let N=parseInt(B[4],10);N=N>=0&&N<=23?N:0;let $=parseInt(B[5],10);$=$>=0&&$<=59?$:0;let ee=parseInt(B[6],10);ee=ee>=0&&ee<=59?ee:0;const se=B[7]||"Z";let he=parseInt(B[8],10);he=he>=0&&he<=23?he:0;let M=parseInt(B[9],10)||0;return M=M>=0&&M<=59?M:0,"-"===se?(N+=he,$+=M):"+"===se&&(N-=he,$-=M),new Date(Date.UTC(H,X,K,N,$,ee))}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var g=J(1);class pe{constructor(){this.constructor===pe&&(0,g.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,x){if(d<=0||x<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(d,x);return{canvas:s,context:s.getContext("2d")}}reset(d,x,s){if(!d.canvas)throw new Error("Canvas is not specified");if(x<=0||s<=0)throw new Error("Invalid canvas size");d.canvas.width=x,d.canvas.height=s}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,x){(0,g.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=pe;class re{constructor({baseUrl:d=null,isCompressed:x=!1}){this.constructor===re&&(0,g.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=x}fetch({name:d}){var x=this;return _asyncToGenerator(function*(){if(!x.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const s=x.baseUrl+d+(x.isCompressed?".bcmap":"");return x._fetchData(s,x.isCompressed?g.CMapCompressionType.BINARY:g.CMapCompressionType.NONE).catch(S=>{throw new Error(`Unable to load ${x.isCompressed?"binary ":""}CMap at: ${s}`)})})()}_fetchData(d,x){(0,g.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=re;class Z{constructor({baseUrl:d=null}){this.constructor===Z&&(0,g.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}fetch({filename:d}){var x=this;return _asyncToGenerator(function*(){if(!x.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const s=`${x.baseUrl}${d}`;return x._fetchData(s).catch(v=>{throw new Error(`Unable to load font data at: ${s}`)})})()}_fetchData(d){(0,g.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=Z;class ne{constructor(){this.constructor===ne&&(0,g.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,x){if(d<=0||x<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),s.setAttribute("width",`${d}px`),s.setAttribute("height",`${x}px`),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${d} ${x}`),s}createElement(d){if("string"!=typeof d)throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,g.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=ne},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var g=J(1);class pe{constructor({docId:I,onUnsupportedFeature:d,ownerDocument:x=globalThis.document,styleElement:s=null}){this.constructor===pe&&(0,g.unreachable)("Cannot initialize BaseFontLoader."),this.docId=I,this._onUnsupportedFeature=d,this._document=x,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(I){this.nativeFontFaces.push(I),this._document.fonts.add(I)}insertRule(I){let d=this.styleElement;d||(d=this.styleElement=this._document.createElement("style"),d.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(d));const x=d.sheet;x.insertRule(I,x.cssRules.length)}clear(){for(const I of this.nativeFontFaces)this._document.fonts.delete(I);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(I){var d=this;return _asyncToGenerator(function*(){if(I.attached||I.missingFile)return;if(I.attached=!0,d.isFontLoadingAPISupported){const s=I.createNativeFontFace();if(s){d.addNativeFontFace(s);try{yield s.loaded}catch(v){throw d._onUnsupportedFeature({featureId:g.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,g.warn)(`Failed to load font '${s.family}': '${v}'.`),I.disableFontFace=!0,v}}return}const x=I.createFontFaceRule();if(x){if(d.insertRule(x),d.isSyncFontLoadingSupported)return;yield new Promise(s=>{const v=d._queueLoadingCallback(s);d._prepareFontLoadEvent([x],[I],v)})}})()}_queueLoadingCallback(I){(0,g.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var d;const I=!!(null==(d=this._document)?void 0:d.fonts);return(0,g.shadow)(this,"isFontLoadingAPISupported",I)}get isSyncFontLoadingSupported(){(0,g.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,g.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(I,d,x){(0,g.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let re;L.FontLoader=re,L.FontLoader=re=class extends pe{constructor(I){super(I),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let I=!1;if("undefined"==typeof navigator)I=!0;else{const d=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==d?void 0:d[1])>=14&&(I=!0)}return(0,g.shadow)(this,"isSyncFontLoadingSupported",I)}_queueLoadingCallback(I){const x=this.loadingContext,s={id:"pdfjs-font-loading-"+x.nextRequestId++,done:!1,complete:function d(){for((0,g.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;x.requests.length>0&&x.requests[0].done;){const v=x.requests.shift();setTimeout(v.callback,0)}},callback:I};return x.requests.push(s),s}get _loadTestFont(){return(0,g.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(I,d,x){function s(B,H){return B.charCodeAt(H)<<24|B.charCodeAt(H+1)<<16|B.charCodeAt(H+2)<<8|255&B.charCodeAt(H+3)}function v(B,H,X,K){return B.substring(0,H)+K+B.substring(H+X)}let S,o;const r=this._document.createElement("canvas");r.width=1,r.height=1;const n=r.getContext("2d");let c=0;const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=v(p,976,f.length,f);const _=1482184792;let m=s(p,16);for(S=0,o=f.length-3;S<o;S+=4)m=m-_+s(f,S)|0;S<f.length&&(m=m-_+s(f+"XXX",S)|0),p=v(p,16,4,(0,g.string32)(m));const A=`url(data:font/opentype;base64,${btoa(p)});`;this.insertRule(`@font-face {font-family:"${f}";src:${A}}`);const k=[];for(const B of d)k.push(B.loadedName);k.push(f);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const B of k){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=B,F.appendChild(H)}this._document.body.appendChild(F),function C(B,H){if(c++,c>30)return(0,g.warn)("Load test font never loaded."),void H();n.font="30px "+B,n.fillText(".",0,20),n.getImageData(0,0,1,1).data[3]>0?H():setTimeout(C.bind(null,B,H))}(f,()=>{F.remove(),x.complete()})}},L.FontFaceObject=class Z{constructor(I,{isEvalSupported:d=!0,disableFontFace:x=!1,ignoreErrors:s=!1,onUnsupportedFeature:v,fontRegistry:S=null}){this.compiledGlyphs=Object.create(null);for(const o in I)this[o]=I[o];this.isEvalSupported=!1!==d,this.disableFontFace=!0===x,this.ignoreErrors=!0===s,this._onUnsupportedFeature=v,this.fontRegistry=S}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let I;if(this.cssFontInfo){const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),I=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}else I=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),I}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const I=(0,g.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(I)});`;let x;if(this.cssFontInfo){let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${d}}`}else x=`@font-face {font-family:"${this.loadedName}";src:${d}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,d),x}getPathGenerator(I,d){if(void 0!==this.compiledGlyphs[d])return this.compiledGlyphs[d];let x;try{x=I.get(this.loadedName+"_path_"+d)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature({featureId:g.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,g.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[d]=function(v,S){}}if(this.isEvalSupported&&g.FeatureTest.isEvalSupported){const s=[];for(const v of x){const S=void 0!==v.args?v.args.join(","):"";s.push("c.",v.cmd,"(",S,");\n")}return this.compiledGlyphs[d]=new Function("c","size",s.join(""))}return this.compiledGlyphs[d]=function(s,v){for(const S of x)"scale"===S.cmd&&(S.args=[v,-v]),s[S.cmd].apply(s,S.args)}}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var g=J(9),pe=J(1);L.AnnotationStorage=class re{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ne,I){const d=this._storage.get(ne);return void 0===d?I:Object.assign(I,d)}getRawValue(ne){return this._storage.get(ne)}setValue(ne,I){const d=this._storage.get(ne);let x=!1;if(void 0!==d)for(const[s,v]of Object.entries(I))d[s]!==v&&(x=!0,d[s]=v);else x=!0,this._storage.set(ne,I);x&&this._setModified()}getAll(){return this._storage.size>0?(0,pe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ne=new g.MurmurHash3_64;for(const[I,d]of this._storage)ne.update(`${I}:${JSON.stringify(d)}`);return ne.hexdigest()}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MurmurHash3_64=void 0;var g=J(1);const pe=3285377520,re=4294901760,Z=65535;L.MurmurHash3_64=class ne{constructor(d){this.h1=d?4294967295&d:pe,this.h2=d?4294967295&d:pe}update(d){let x,s;if("string"==typeof d){x=new Uint8Array(2*d.length),s=0;for(let _=0,m=d.length;_<m;_++){const A=d.charCodeAt(_);A<=255?x[s++]=A:(x[s++]=A>>>8,x[s++]=255&A)}}else{if(!(0,g.isArrayBuffer)(d))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");x=d.slice(),s=x.byteLength}const v=s>>2,S=s-4*v,o=new Uint32Array(x.buffer,0,v);let r=0,n=0,c=this.h1,C=this.h2;const f=3432918353,p=461845907,e=f&Z,i=p&Z;for(let _=0;_<v;_++)1&_?(r=o[_],r=r*f&re|r*e&Z,r=r<<15|r>>>17,r=r*p&re|r*i&Z,c^=r,c=c<<13|c>>>19,c=5*c+3864292196):(n=o[_],n=n*f&re|n*e&Z,n=n<<15|n>>>17,n=n*p&re|n*i&Z,C^=n,C=C<<13|C>>>19,C=5*C+3864292196);switch(r=0,S){case 3:r^=x[4*v+2]<<16;case 2:r^=x[4*v+1]<<8;case 1:r^=x[4*v],r=r*f&re|r*e&Z,r=r<<15|r>>>17,r=r*p&re|r*i&Z,1&v?c^=r:C^=r}this.h1=c,this.h2=C}hexdigest(){let d=this.h1,x=this.h2;d^=x>>>1,d=3981806797*d&re|36045*d&Z,x=4283543511*x&re|(2950163797*(x<<16|d>>>16)&re)>>>16,d^=x>>>1,d=444984403*d&re|60499*d&Z,x=3301882366*x&re|(3120437893*(x<<16|d>>>16)&re)>>>16,d^=x>>>1;const s=(d>>>0).toString(16),v=(x>>>0).toString(16);return s.padStart(8,"0")+v.padStart(8,"0")}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var g=J(1),pe=J(11),re=J(12),Z=J(3),ne=J(5);const x=4096,r=16;function C(M){if(M._transformStack&&(M._transformStack=[]),!M.mozCurrentTransform){M._originalSave=M.save,M._originalRestore=M.restore,M._originalRotate=M.rotate,M._originalScale=M.scale,M._originalTranslate=M.translate,M._originalTransform=M.transform,M._originalSetTransform=M.setTransform,M._originalResetTransform=M.resetTransform,M._transformMatrix=M._transformMatrix||[1,0,0,1,0,0],M._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"lineWidth");M._setLineWidth=a.set,M._getLineWidth=a.get,Object.defineProperty(M,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(a){}Object.defineProperty(M,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(M,"mozCurrentTransformInverse",{get:function(){const[h,t,l,u,y,b]=this._transformMatrix,E=h*u-t*l,V=t*l-h*u;return[u/E,t/V,l/V,h/E,(u*y-l*b)/V,(t*y-h*b)/E]}}),M.save=function(){const h=this._transformMatrix;this._transformStack.push(h),this._transformMatrix=h.slice(0,6),this._originalSave()},M.restore=function(){0===this._transformStack.length&&(0,g.warn)("Tried to restore a ctx when the stack was already empty.");const h=this._transformStack.pop();h&&(this._transformMatrix=h,this._originalRestore())},M.translate=function(h,t){const l=this._transformMatrix;l[4]=l[0]*h+l[2]*t+l[4],l[5]=l[1]*h+l[3]*t+l[5],this._originalTranslate(h,t)},M.scale=function(h,t){const l=this._transformMatrix;l[0]*=h,l[1]*=h,l[2]*=t,l[3]*=t,this._originalScale(h,t)},M.transform=function(h,t,l,u,y,b){const E=this._transformMatrix;this._transformMatrix=[E[0]*h+E[2]*t,E[1]*h+E[3]*t,E[0]*l+E[2]*u,E[1]*l+E[3]*u,E[0]*y+E[2]*b+E[4],E[1]*y+E[3]*b+E[5]],M._originalTransform(h,t,l,u,y,b)},M.setTransform=function(h,t,l,u,y,b){this._transformMatrix=[h,t,l,u,y,b],M._originalSetTransform(h,t,l,u,y,b)},M.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],M._originalResetTransform()},M.rotate=function(h){const t=Math.cos(h),l=Math.sin(h),u=this._transformMatrix;this._transformMatrix=[u[0]*t+u[2]*l,u[1]*t+u[3]*l,u[0]*-l+u[2]*t,u[1]*-l+u[3]*t,u[4],u[5]],this._originalRotate(h)}}}class f{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,h,t,l){let u;return void 0!==this.cache[a]?(u=this.cache[a],this.canvasFactory.reset(u,h,t),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(h,t),this.cache[a]=u),l&&C(u.context),u}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function p(M,a,h,t,l,u,y,b,E,V){const[G,W,U,Y,Q,de]=M.mozCurrentTransform;if(0===W&&0===U){const ae=Math.round(y*G+Q),D=Math.round(b*Y+de),ge=Math.abs(Math.round((y+E)*G+Q)-ae)||1,me=Math.abs(Math.round((b+V)*Y+de)-D)||1;return M.setTransform(Math.sign(G),0,0,Math.sign(Y),ae,D),M.drawImage(a,h,t,l,u,0,0,ge,me),M.setTransform(G,W,U,Y,Q,de),[ge,me]}if(0===G&&0===Y){const ae=Math.round(b*U+Q),D=Math.round(y*W+de),ge=Math.abs(Math.round((b+V)*U+Q)-ae)||1,me=Math.abs(Math.round((y+E)*W+de)-D)||1;return M.setTransform(0,Math.sign(W),Math.sign(U),0,ae,D),M.drawImage(a,h,t,l,u,0,0,me,ge),M.setTransform(G,W,U,Y,Q,de),[me,ge]}return M.drawImage(a,h,t,l,u,y,b,E,V),[Math.hypot(G,W)*E,Math.hypot(U,Y)*V]}class i{constructor(a,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=g.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=g.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,h])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,h){this.x=a,this.y=h}updatePathMinMax(a,h,t){[h,t]=g.Util.applyTransform([h,t],a),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(a,h){const t=g.Util.applyTransform(h,a),l=g.Util.applyTransform(h.slice(2),a);this.minX=Math.min(this.minX,t[0],l[0]),this.minY=Math.min(this.minY,t[1],l[1]),this.maxX=Math.max(this.maxX,t[0],l[0]),this.maxY=Math.max(this.maxY,t[1],l[1])}updateScalingPathMinMax(a,h){g.Util.scaleMinMax(a,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(a,h,t,l,u,y,b,E,V,G){const W=g.Util.bezierBoundingBox(h,t,l,u,y,b,E,V);if(G)return G[0]=Math.min(G[0],W[0],W[2]),G[1]=Math.max(G[1],W[0],W[2]),G[2]=Math.min(G[2],W[1],W[3]),void(G[3]=Math.max(G[3],W[1],W[3]));this.updateRectMinMax(a,W)}getPathBoundingBox(a=pe.PathType.FILL,h=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(a===pe.PathType.STROKE){h||(0,g.unreachable)("Stroke bounding box must include transform.");const l=g.Util.singularValueDecompose2dScale(h),u=l[0]*this.lineWidth/2,y=l[1]*this.lineWidth/2;t[0]-=u,t[1]-=y,t[2]+=u,t[3]+=y}return t}updateClipFromPath(){const a=g.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=pe.PathType.FILL,h=null){return g.Util.intersect(this.clipBox,this.getPathBoundingBox(a,h))}}function _(M,a,h=null){if("undefined"!=typeof ImageData&&a instanceof ImageData)return void M.putImageData(a,0,0);const t=a.height,l=a.width,u=t%r,y=(t-u)/r,b=0===u?y:y+1,E=M.createImageData(l,r);let G,V=0;const W=a.data,U=E.data;let Y,Q,de,Ce,te,oe,ae,P;if(h)switch(h.length){case 1:te=h[0],oe=h[0],ae=h[0],P=h[0];break;case 4:te=h[0],oe=h[1],ae=h[2],P=h[3]}if(a.kind===g.ImageKind.GRAYSCALE_1BPP){const D=W.byteLength,z=new Uint32Array(U.buffer,0,U.byteLength>>2),ge=z.length,ue=l+7>>3;let me=4294967295,Se=g.FeatureTest.isLittleEndian?4278190080:255;for(P&&255===P[0]&&0===P[255]&&([me,Se]=[Se,me]),Y=0;Y<b;Y++){for(de=Y<y?r:u,G=0,Q=0;Q<de;Q++){const Pe=D-V;let Le=0;const ke=Pe>ue?l:8*Pe-7,Fe=-8&ke;let ie=0,R=0;for(;Le<Fe;Le+=8)R=W[V++],z[G++]=128&R?me:Se,z[G++]=64&R?me:Se,z[G++]=32&R?me:Se,z[G++]=16&R?me:Se,z[G++]=8&R?me:Se,z[G++]=4&R?me:Se,z[G++]=2&R?me:Se,z[G++]=1&R?me:Se;for(;Le<ke;Le++)0===ie&&(R=W[V++],ie=128),z[G++]=R&ie?me:Se,ie>>=1}for(;G<ge;)z[G++]=0;M.putImageData(E,0,Y*r)}}else if(a.kind===g.ImageKind.RGBA_32BPP){const D=!!(te||oe||ae);for(Q=0,Ce=l*r*4,Y=0;Y<y;Y++){if(U.set(W.subarray(V,V+Ce)),V+=Ce,D)for(let z=0;z<Ce;z+=4)te&&(U[z+0]=te[U[z+0]]),oe&&(U[z+1]=oe[U[z+1]]),ae&&(U[z+2]=ae[U[z+2]]);M.putImageData(E,0,Q),Q+=r}if(Y<b){if(Ce=l*u*4,U.set(W.subarray(V,V+Ce)),D)for(let z=0;z<Ce;z+=4)te&&(U[z+0]=te[U[z+0]]),oe&&(U[z+1]=oe[U[z+1]]),ae&&(U[z+2]=ae[U[z+2]]);M.putImageData(E,0,Q)}}else{if(a.kind!==g.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const D=!!(te||oe||ae);for(de=r,Ce=l*de,Y=0;Y<b;Y++){for(Y>=y&&(de=u,Ce=l*de),G=0,Q=Ce;Q--;)U[G++]=W[V++],U[G++]=W[V++],U[G++]=W[V++],U[G++]=255;if(D)for(let z=0;z<G;z+=4)te&&(U[z+0]=te[U[z+0]]),oe&&(U[z+1]=oe[U[z+1]]),ae&&(U[z+2]=ae[U[z+2]]);M.putImageData(E,0,Y*r)}}}}function m(M,a){if(a.bitmap)return void M.drawImage(a.bitmap,0,0);const h=a.height,t=a.width,l=h%r,u=(h-l)/r,y=0===l?u:u+1,b=M.createImageData(t,r);let E=0;const V=a.data,G=b.data;for(let W=0;W<y;W++){const U=W<u?r:l;({srcPos:E}=(0,re.applyMaskImageData)({src:V,srcPos:E,dest:G,width:t,height:U})),M.putImageData(b,0,W*r)}}function A(M,a){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,l=h.length;t<l;t++){const u=h[t];void 0!==M[u]&&(a[u]=M[u])}void 0!==M.setLineDash&&(a.setLineDash(M.getLineDash()),a.lineDashOffset=M.lineDashOffset)}function T(M,a){M.strokeStyle=M.fillStyle=a||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",void 0!==M.setLineDash&&(M.setLineDash([]),M.lineDashOffset=0)}function k(M,a,h,t){const l=M.length;for(let u=3;u<l;u+=4){const y=M[u];if(0===y)M[u-3]=a,M[u-2]=h,M[u-1]=t;else if(y<255){const b=255-y;M[u-3]=M[u-3]*y+a*b>>8,M[u-2]=M[u-2]*y+h*b>>8,M[u-1]=M[u-1]*y+t*b>>8}}}function F(M,a,h){const t=M.length;for(let u=3;u<t;u+=4)a[u]=a[u]*(h?h[M[u]]:M[u])*.00392156862745098|0}function B(M,a,h){const t=M.length;for(let l=3;l<t;l+=4){const u=77*M[l-3]+152*M[l-2]+28*M[l-1];a[l]=h?a[l]*h[u>>8]>>8:a[l]*u>>16}}function K(M,a){const h=g.Util.singularValueDecompose2dScale(M);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:h[0]<=t||h[1]<=t}const N=["butt","round","square"],$=["miter","round","bevel"],ee={},se={};class he{constructor(a,h,t,l,u,y,b,E){this.ctx=a,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=t,this.canvasFactory=l,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=y,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=b,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==E?void 0:E.background)||null,this.foregroundColor=(null==E?void 0:E.foreground)||null,a&&C(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,h=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):h}beginDrawing({transform:a,viewport:h,transparency:t=!1,background:l=null}){const u=this.ctx.canvas.width,y=this.ctx.canvas.height,b=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const V=this.backgroundColor=this.ctx.fillStyle;let G=!0,W=b;if(this.ctx.fillStyle=b,W=this.ctx.fillStyle,G="string"==typeof W&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===E&&"#ffffff"===V||E===V||!G)this.foregroundColor=this.backgroundColor=null;else{const U=parseInt(W.slice(1),16),Q=(U&&65280)>>8,de=U&&255,Ce=oe=>(oe/=255)<=.03928?oe/12.92:((oe+.055)/1.055)**2.4,te=Math.round(.2126*Ce((U&&16711680)>>16)+.7152*Ce(Q)+.0722*Ce(de));this.selectColor=(oe,ae,P)=>{const D=.2126*Ce(oe)+.7152*Ce(ae)+.0722*Ce(P);return Math.round(D)===te?V:E}}}if(this.ctx.fillStyle=this.backgroundColor||b,this.ctx.fillRect(0,0,u,y),this.ctx.restore(),t){const E=this.cachedCanvases.getCanvas("transparent",u,y,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),T(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,h.transform),this.viewportScale=h.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,h,t,l){const u=a.argsArray,y=a.fnArray;let b=h||0;const E=u.length;if(E===b)return b;const V=E-b>10&&"function"==typeof t,G=V?Date.now()+15:0;let W=0;const U=this.commonObjs,Y=this.objs;let Q;for(;;){if(void 0!==l&&b===l.nextBreakPoint)return l.breakIt(b,t),b;if(Q=y[b],Q!==g.OPS.dependency)this[Q].apply(this,u[b]);else for(const de of u[b]){const Ce=de.startsWith("g_")?U:Y;if(!Ce.has(de))return Ce.get(de,t),b}if(b++,b===E)return b;if(V&&++W>10){if(Date.now()>G)return t(),b;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const h of a.values())"undefined"!=typeof HTMLCanvasElement&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,h){const t=a.width,l=a.height;let G,W,u=Math.max(Math.hypot(h[0],h[1]),1),y=Math.max(Math.hypot(h[2],h[3]),1),b=t,E=l,V="prescale1";for(;u>2&&b>1||y>2&&E>1;){let U=b,Y=E;u>2&&b>1&&(U=Math.ceil(b/2),u/=b/U),y>2&&E>1&&(Y=Math.ceil(E/2),y/=E/Y),G=this.cachedCanvases.getCanvas(V,U,Y,!1),W=G.context,W.clearRect(0,0,U,Y),W.drawImage(a,0,0,b,E,0,0,U,Y),a=G.canvas,b=U,E=Y,V="prescale1"===V?"prescale2":"prescale1"}return{img:a,paintWidth:b,paintHeight:E}}_createMaskCanvas(a){const h=this.ctx,{width:t,height:l}=a,u=this.current.fillColor,y=this.current.patternFill,b=h.mozCurrentTransform;let E,V,G,W;if((a.bitmap||a.data)&&a.count>1){const ge=a.bitmap||a.data.buffer,ue=b.slice(0,4);V=JSON.stringify(y?ue:[ue,u]),E=this._cachedBitmapsMap.get(ge),E||(E=new Map,this._cachedBitmapsMap.set(ge,E));const me=E.get(V);if(me&&!y)return{canvas:me,offsetX:Math.round(Math.min(b[0],b[2])+b[4]),offsetY:Math.round(Math.min(b[1],b[3])+b[5])};G=me}G||(W=this.cachedCanvases.getCanvas("maskCanvas",t,l,!1),m(W.context,a));let U=g.Util.transform(b,[1/t,0,0,-1/l,0,0]);U=g.Util.transform(U,[1,0,0,1,0,-l]);const Y=g.Util.applyTransform([0,0],U),Q=g.Util.applyTransform([t,l],U),de=g.Util.normalizeRect([Y[0],Y[1],Q[0],Q[1]]),Ce=Math.round(de[2]-de[0])||1,te=Math.round(de[3]-de[1])||1,oe=this.cachedCanvases.getCanvas("fillCanvas",Ce,te,!0),ae=oe.context,P=Math.min(Y[0],Q[0]),D=Math.min(Y[1],Q[1]);ae.translate(-P,-D),ae.transform.apply(ae,U),G||(G=this._scaleImage(W.canvas,ae.mozCurrentTransformInverse),G=G.img,E&&y&&E.set(V,G)),ae.imageSmoothingEnabled=K(ae.mozCurrentTransform,a.interpolate),p(ae,G,0,0,G.width,G.height,0,0,t,l),ae.globalCompositeOperation="source-in";const z=g.Util.transform(ae.mozCurrentTransformInverse,[1,0,0,1,-P,-D]);return ae.fillStyle=y?u.getPattern(h,this,z,pe.PathType.FILL):u,ae.fillRect(0,0,t,l),E&&!y&&(this.cachedCanvases.delete("fillCanvas"),E.set(V,oe.canvas)),{canvas:oe.canvas,offsetX:Math.round(P),offsetY:Math.round(D)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=N[a]}setLineJoin(a){this.ctx.lineJoin=$[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,h){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(a),t.lineDashOffset=h)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let h=0,t=a.length;h<t;h++){const l=a[h],y=l[1];switch(l[0]){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=y}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),A(this.suspendedCtx,u),function c(M,a){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){a.save(),this.__originalSave()},M.restore=function(){a.restore(),this.__originalRestore()},M.translate=function(t,l){a.translate(t,l),this.__originalTranslate(t,l)},M.scale=function(t,l){a.scale(t,l),this.__originalScale(t,l)},M.transform=function(t,l,u,y,b,E){a.transform(t,l,u,y,b,E),this.__originalTransform(t,l,u,y,b,E)},M.setTransform=function(t,l,u,y,b,E){a.setTransform(t,l,u,y,b,E),this.__originalSetTransform(t,l,u,y,b,E)},M.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},M.rotate=function(t){a.rotate(t),this.__originalRotate(t)},M.clip=function(t){a.clip(t),this.__originalClip(t)},M.moveTo=function(h,t){a.moveTo(h,t),this.__originalMoveTo(h,t)},M.lineTo=function(h,t){a.lineTo(h,t),this.__originalLineTo(h,t)},M.bezierCurveTo=function(h,t,l,u,y,b){a.bezierCurveTo(h,t,l,u,y,b),this.__originalBezierCurveTo(h,t,l,u,y,b)},M.rect=function(h,t,l,u){a.rect(h,t,l,u),this.__originalRect(h,t,l,u)},M.closePath=function(){a.closePath(),this.__originalClosePath()},M.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),A(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function X(M,a,h,t){const l=t[0],u=t[1],y=t[2]-l,b=t[3]-u;0===y||0===b||(function H(M,a,h,t,l,u,y,b,E,V,G){const W=!!u,U=W?u[0]:0,Y=W?u[1]:0,Q=W?u[2]:0;let de;de="Luminosity"===l?B:F;const te=Math.min(t,Math.ceil(1048576/h));for(let oe=0;oe<t;oe+=te){const ae=Math.min(te,t-oe),P=M.getImageData(b-V,oe+(E-G),h,ae),D=a.getImageData(b,oe+E,h,ae);W&&k(P.data,U,Y,Q),de(P.data,D.data,y),a.putImageData(D,b,oe+E)}}(a.context,h,y,b,a.subtype,a.backdrop,a.transferMap,l,u,a.offsetX,a.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(h.canvas,0,0),M.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(A(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),A(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,h,t,l,u,y){this.ctx.transform(a,h,t,l,u,y),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,h,t){const l=this.ctx,u=this.current;let E,V,y=u.x,b=u.y;const G=l.mozCurrentTransform,W=0===G[0]&&0===G[3]||0===G[1]&&0===G[2],U=W?t.slice(0):null;for(let Y=0,Q=0,de=a.length;Y<de;Y++)switch(0|a[Y]){case g.OPS.rectangle:y=h[Q++],b=h[Q++];const Ce=h[Q++],te=h[Q++],oe=y+Ce,ae=b+te;l.moveTo(y,b),0===Ce||0===te?l.lineTo(oe,ae):(l.lineTo(oe,b),l.lineTo(oe,ae),l.lineTo(y,ae)),W||u.updateRectMinMax(G,[y,b,oe,ae]),l.closePath();break;case g.OPS.moveTo:y=h[Q++],b=h[Q++],l.moveTo(y,b),W||u.updatePathMinMax(G,y,b);break;case g.OPS.lineTo:y=h[Q++],b=h[Q++],l.lineTo(y,b),W||u.updatePathMinMax(G,y,b);break;case g.OPS.curveTo:E=y,V=b,y=h[Q+4],b=h[Q+5],l.bezierCurveTo(h[Q],h[Q+1],h[Q+2],h[Q+3],y,b),u.updateCurvePathMinMax(G,E,V,h[Q],h[Q+1],h[Q+2],h[Q+3],y,b,U),Q+=6;break;case g.OPS.curveTo2:E=y,V=b,l.bezierCurveTo(y,b,h[Q],h[Q+1],h[Q+2],h[Q+3]),u.updateCurvePathMinMax(G,E,V,y,b,h[Q],h[Q+1],h[Q+2],h[Q+3],U),y=h[Q+2],b=h[Q+3],Q+=4;break;case g.OPS.curveTo3:E=y,V=b,y=h[Q+2],b=h[Q+3],l.bezierCurveTo(h[Q],h[Q+1],y,b,y,b),u.updateCurvePathMinMax(G,E,V,h[Q],h[Q+1],y,b,y,b,U),Q+=4;break;case g.OPS.closePath:l.closePath()}W&&u.updateScalingPathMinMax(G,U),u.setCurrentPoint(y,b)}closePath(){this.ctx.closePath()}stroke(a){a=void 0===a||a;const h=this.ctx,t=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&(null==t?void 0:t.getPattern)?(h.save(),h.strokeStyle=t.getPattern(h,this,h.mozCurrentTransformInverse,pe.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=void 0===a||a;const h=this.ctx,t=this.current.fillColor;let u=!1;this.current.patternFill&&(h.save(),h.fillStyle=t.getPattern(h,this,h.mozCurrentTransformInverse,pe.PathType.FILL),u=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),u&&h.restore(),a&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ee}eoClip(){this.pendingClip=se}beginText(){this.current.textMatrix=g.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,h=this.ctx;if(void 0!==a){h.save(),h.beginPath();for(let t=0;t<a.length;t++){const l=a[t];h.setTransform.apply(h,l.transform),h.translate(l.x,l.y),l.addToPath(h,l.fontSize)}h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}else h.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,h){const t=this.commonObjs.get(a),l=this.current;if(!t)throw new Error(`Can't find font for ${a}`);if(l.fontMatrix=t.fontMatrix||g.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,g.warn)("Invalid font matrix for font "+a),h<0?(h=-h,l.fontDirection=-1):l.fontDirection=1,this.current.font=t,this.current.fontSize=h,t.isType3Font)return;let y="normal";t.black?y="900":t.bold&&(y="bold");const b=t.italic?"italic":"normal",E=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let V=h;h<16?V=16:h>100&&(V=100),this.current.fontSizeScale=h/V,this.ctx.font=`${b} ${y} ${V}px ${E}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,h){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=h}setLeadingMoveText(a,h){this.setLeading(-h),this.moveText(a,h)}setTextMatrix(a,h,t,l,u,y){this.current.textMatrix=[a,h,t,l,u,y],this.current.textMatrixScale=Math.hypot(a,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,h,t,l){const u=this.ctx,y=this.current,b=y.font,E=y.textRenderingMode,V=y.fontSize/y.fontSizeScale,G=E&g.TextRenderingMode.FILL_STROKE_MASK,W=!!(E&g.TextRenderingMode.ADD_TO_PATH_FLAG),U=y.patternFill&&!b.missingFile;let Y;(b.disableFontFace||W||U)&&(Y=b.getPathGenerator(this.commonObjs,a)),b.disableFontFace||U?(u.save(),u.translate(h,t),u.beginPath(),Y(u,V),l&&u.setTransform.apply(u,l),(G===g.TextRenderingMode.FILL||G===g.TextRenderingMode.FILL_STROKE)&&u.fill(),(G===g.TextRenderingMode.STROKE||G===g.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((G===g.TextRenderingMode.FILL||G===g.TextRenderingMode.FILL_STROKE)&&u.fillText(a,h,t),(G===g.TextRenderingMode.STROKE||G===g.TextRenderingMode.FILL_STROKE)&&u.strokeText(a,h,t)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:h,y:t,fontSize:V,addToPath:Y})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const h=a.getImageData(0,0,10,10).data;let t=!1;for(let l=3;l<h.length;l+=4)if(h[l]>0&&h[l]<255){t=!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(a){const h=this.current,t=h.font;if(t.isType3Font)return this.showType3Text(a);const l=h.fontSize;if(0===l)return;const u=this.ctx,y=h.fontSizeScale,b=h.charSpacing,E=h.wordSpacing,V=h.fontDirection,G=h.textHScale*V,W=a.length,U=t.vertical,Y=U?1:-1,Q=t.defaultVMetrics,de=l*h.fontMatrix[0],Ce=h.textRenderingMode===g.TextRenderingMode.FILL&&!t.disableFontFace&&!h.patternFill;let te;if(u.save(),u.transform.apply(u,h.textMatrix),u.translate(h.x,h.y+h.textRise),u.scale(G,V>0?-1:1),h.patternFill){u.save();const z=h.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,pe.PathType.FILL);te=u.mozCurrentTransform,u.restore(),u.fillStyle=z}let oe=h.lineWidth;const ae=h.textMatrixScale;if(0===ae||0===oe){const z=h.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;(z===g.TextRenderingMode.STROKE||z===g.TextRenderingMode.FILL_STROKE)&&(oe=this.getSinglePixelWidth())}else oe/=ae;1!==y&&(u.scale(y,y),oe/=y),u.lineWidth=oe;let D,P=0;for(D=0;D<W;++D){const z=a[D];if("number"==typeof z){P+=Y*z*l/1e3;continue}let ge=!1;const ue=(z.isSpace?E:0)+b,me=z.fontChar,Se=z.accent;let Pe,Le,Fe,ke=z.width;if(U){const ie=z.vmetric||Q,R=-(z.vmetric?ie[1]:.5*ke)*de;ke=ie?-ie[0]:ke,Pe=R/y,Le=(P+ie[2]*de)/y}else Pe=P/y,Le=0;if(t.remeasure&&ke>0){const ie=1e3*u.measureText(me).width/l*y;if(ke<ie&&this.isFontSubpixelAAEnabled){const R=ke/ie;ge=!0,u.save(),u.scale(R,1),Pe/=R}else ke!==ie&&(Pe+=(ke-ie)/2e3*l/y)}this.contentVisible&&(z.isInFont||t.missingFile)&&(Ce&&!Se?u.fillText(me,Pe,Le):(this.paintChar(me,Pe,Le,te),Se&&this.paintChar(Se.fontChar,Pe+l*Se.offset.x/y,Le-l*Se.offset.y/y,te))),Fe=U?ke*de-ue*V:ke*de+ue*V,P+=Fe,ge&&u.restore()}U?h.y-=P:h.x+=P*G,u.restore(),this.compose()}showType3Text(a){const h=this.ctx,t=this.current,l=t.font,u=t.fontSize,y=t.fontDirection,b=l.vertical?1:-1,E=t.charSpacing,V=t.wordSpacing,G=t.textHScale*y,W=t.fontMatrix||g.FONT_IDENTITY_MATRIX,U=a.length;let Q,de,Ce,te;if(t.textRenderingMode!==g.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,h.save(),h.transform.apply(h,t.textMatrix),h.translate(t.x,t.y),h.scale(G,y),Q=0;Q<U;++Q){if(de=a[Q],"number"==typeof de){te=b*de*u/1e3,this.ctx.translate(te,0),t.x+=te*G;continue}const oe=(de.isSpace?V:0)+E,ae=l.charProcOperatorList[de.operatorListId];ae?(this.contentVisible&&(this.processingType3=de,this.save(),h.scale(u,u),h.transform.apply(h,W),this.executeOperatorList(ae),this.restore()),Ce=g.Util.applyTransform([de.width,0],W)[0]*u+oe,h.translate(Ce,0),t.x+=Ce*G):(0,g.warn)(`Type3 character "${de.operatorListId}" is not available.`)}h.restore(),this.processingType3=null}}setCharWidth(a,h){}setCharWidthAndBounds(a,h,t,l,u,y){this.ctx.rect(t,l,u-t,y-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let h;if("TilingPattern"===a[0]){const t=a[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();h=new pe.TilingPattern(a,t,this.ctx,{createCanvasGraphics:y=>new he(y,this.commonObjs,this.objs,this.canvasFactory)},l)}else h=this._getPattern(a[1],a[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,h,t){var u;const l=(null==(u=this.selectColor)?void 0:u.call(this,a,h,t))||g.Util.makeHexColor(a,h,t);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(a,h,t){var u;const l=(null==(u=this.selectColor)?void 0:u.call(this,a,h,t))||g.Util.makeHexColor(a,h,t);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(a,h=null){let t;return this.cachedPatterns.has(a)?t=this.cachedPatterns.get(a):(t=(0,pe.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,t)),h&&(t.matrix=h),t}shadingFill(a){if(!this.contentVisible)return;const h=this.ctx;this.save();const t=this._getPattern(a);h.fillStyle=t.getPattern(h,this,h.mozCurrentTransformInverse,pe.PathType.SHADING);const l=h.mozCurrentTransformInverse;if(l){const u=h.canvas,y=u.width,b=u.height,E=g.Util.applyTransform([0,0],l),V=g.Util.applyTransform([0,b],l),G=g.Util.applyTransform([y,0],l),W=g.Util.applyTransform([y,b],l),U=Math.min(E[0],V[0],G[0],W[0]),Y=Math.min(E[1],V[1],G[1],W[1]),Q=Math.max(E[0],V[0],G[0],W[0]),de=Math.max(E[1],V[1],G[1],W[1]);this.ctx.fillRect(U,Y,Q-U,de-Y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,g.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,g.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,h){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,h)&&(this.ctx.rect(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,h),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;a.isolated||(0,g.info)("TODO: Support non-isolated groups."),a.knockout&&(0,g.warn)("Knockout groups not supported.");const t=h.mozCurrentTransform;if(a.matrix&&h.transform.apply(h,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let l=g.Util.getAxialAlignedBoundingBox(a.bbox,h.mozCurrentTransform);l=g.Util.intersect(l,[0,0,h.canvas.width,h.canvas.height])||[0,0,0,0];const y=Math.floor(l[0]),b=Math.floor(l[1]);let E=Math.max(Math.ceil(l[2])-y,1),V=Math.max(Math.ceil(l[3])-b,1),G=1,W=1;E>x&&(G=E/x,E=x),V>x&&(W=V/x,V=x),this.current.startNewPathAndClipBox([0,0,E,V]);let U="groupAt"+this.groupLevel;a.smask&&(U+="_smask_"+this.smaskCounter++%2);const Y=this.cachedCanvases.getCanvas(U,E,V,!0),Q=Y.context;Q.scale(1/G,1/W),Q.translate(-y,-b),Q.transform.apply(Q,t),a.smask?this.smaskStack.push({canvas:Y.canvas,context:Q,offsetX:y,offsetY:b,scaleX:G,scaleY:W,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(y,b),h.scale(G,W),h.save()),A(h,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const u=g.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],l);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,h,t,l,u){if(this.save(),Array.isArray(h)&&4===h.length){const y=h[2]-h[0],b=h[3]-h[1];if(u&&this.annotationCanvasMap){(t=t.slice())[4]-=h[0],t[5]-=h[1],(h=h.slice())[0]=h[1]=0,h[2]=y,h[3]=b;const[E,V]=g.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:G}=this,W=Math.ceil(y*this.outputScaleX*G),U=Math.ceil(b*this.outputScaleY*G);this.annotationCanvas=this.canvasFactory.create(W,U);const{canvas:Y,context:Q}=this.annotationCanvas,de=`var(--zoom-factor) * ${ne.PixelsPerInch.PDF_TO_CSS_UNITS}`;Y.style.width=`calc(${y}px * ${de})`,Y.style.height=`calc(${b}px * ${de})`,this.annotationCanvasMap.set(a,Y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.setTransform(E,0,0,-V,0,b*V),C(this.ctx),T(this.ctx,this.foregroundColor)}else T(this.ctx,this.foregroundColor),this.ctx.rect(h[0],h[1],y,b),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const h=a.count;(a=this.getObject(a.data,a)).count=h;const t=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function e(M){const{width:a,height:h}=M;if(a>1e3||h>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=a+1;let b,E,V,y=new Uint8Array(u*(h+1));const G=a+7&-8;let W=new Uint8Array(G*h),U=0;for(const ae of M.data){let P=128;for(;P>0;)W[U++]=ae&P?0:255,P>>=1}let Y=0;for(U=0,0!==W[U]&&(y[0]=1,++Y),E=1;E<a;E++)W[U]!==W[U+1]&&(y[E]=W[U]?2:1,++Y),U++;for(0!==W[U]&&(y[E]=2,++Y),b=1;b<h;b++){U=b*G,V=b*u,W[U-G]!==W[U]&&(y[V]=W[U]?1:8,++Y);let ae=(W[U]?4:0)+(W[U-G]?8:0);for(E=1;E<a;E++)ae=(ae>>2)+(W[U+1]?4:0)+(W[U-G+1]?8:0),l[ae]&&(y[V+E]=l[ae],++Y),U++;if(W[U-G]!==W[U]&&(y[V+E]=W[U]?2:4,++Y),Y>1e3)return null}for(U=G*(h-1),V=b*u,0!==W[U]&&(y[V]=8,++Y),E=1;E<a;E++)W[U]!==W[U+1]&&(y[V+E]=W[U]?4:8,++Y),U++;if(0!==W[U]&&(y[V+E]=4,++Y),Y>1e3)return null;const Q=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let de,Ce,te;for(Z.isNodeJS?Ce=[]:de=new Path2D,b=0;Y&&b<=h;b++){let ae=b*u;const P=ae+a;for(;ae<P&&!y[ae];)ae++;if(ae===P)continue;de?de.moveTo(ae%u,b):te=[ae%u,b];const D=ae;let z=y[ae];do{const ge=Q[z];do{ae+=ge}while(!y[ae]);const ue=y[ae];5!==ue&&10!==ue?(z=ue,y[ae]=0):(z=ue&51*z>>4,y[ae]&=z>>2|z<<2),de?de.lineTo(ae%u,ae/u|0):te.push(ae%u,ae/u|0),y[ae]||--Y}while(D!==ae);de||Ce.push(te),--b}return W=null,y=null,function(ae){if(ae.save(),ae.scale(1/a,-1/h),ae.translate(0,-h),de)ae.fill(de);else{ae.beginPath();for(const P of Ce){ae.moveTo(P[0],P[1]);for(let D=2,z=P.length;D<z;D+=2)ae.lineTo(P[D],P[D+1])}ae.fill()}ae.beginPath(),ae.restore()}}(a)),l.compiled))return void l.compiled(t);const u=this._createMaskCanvas(a),y=u.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(y,u.offsetX,u.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(a,h,t=0,l=0,u,y){if(!this.contentVisible)return;a=this.getObject(a.data,a);const b=this.ctx;b.save();const E=b.mozCurrentTransform;b.transform(h,t,l,u,0,0);const V=this._createMaskCanvas(a);b.setTransform(1,0,0,1,0,0);for(let G=0,W=y.length;G<W;G+=2){const U=g.Util.transform(E,[h,t,l,u,y[G],y[G+1]]),[Y,Q]=g.Util.applyTransform([0,0],U);b.drawImage(V.canvas,Y,Q)}b.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const h=this.ctx,t=this.current.fillColor,l=this.current.patternFill;for(let u=0,y=a.length;u<y;u++){const b=a[u],E=b.width,V=b.height,G=this.cachedCanvases.getCanvas("maskCanvas",E,V,!1),W=G.context;W.save(),m(W,b),W.globalCompositeOperation="source-in",W.fillStyle=l?t.getPattern(W,this,h.mozCurrentTransformInverse,pe.PathType.FILL):t,W.fillRect(0,0,E,V),W.restore(),h.save(),h.transform.apply(h,b.transform),h.scale(1,-1),p(h,G.canvas,0,0,E,V,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const h=this.getObject(a);h?this.paintInlineImageXObject(h):(0,g.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,h,t,l){if(!this.contentVisible)return;const u=this.getObject(a);if(!u)return void(0,g.warn)("Dependent image isn't ready yet");const y=u.width,b=u.height,E=[];for(let V=0,G=l.length;V<G;V+=2)E.push({transform:[h,0,0,t,l[V],l[V+1]],x:0,y:0,w:y,h:b});this.paintInlineImageXObjectGroup(u,E)}paintInlineImageXObject(a){if(!this.contentVisible)return;const h=a.width,t=a.height,l=this.ctx;let u;if(this.save(),l.scale(1/h,-1/t),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)u=a;else{const V=this.cachedCanvases.getCanvas("inlineImage",h,t,!1);_(V.context,a,this.current.transferMaps),u=V.canvas}const y=this._scaleImage(u,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=K(l.mozCurrentTransform,a.interpolate);const[b,E]=p(l,y.img,0,0,y.paintWidth,y.paintHeight,0,-t,h,t);if(this.imageLayer){const V=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:a,left:V[0],top:V[1],width:b,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,h){if(!this.contentVisible)return;const t=this.ctx,l=a.width,u=a.height,y=this.cachedCanvases.getCanvas("inlineImage",l,u,!1);_(y.context,a,this.current.transferMaps);for(let E=0,V=h.length;E<V;E++){const G=h[E];if(t.save(),t.transform.apply(t,G.transform),t.scale(1,-1),p(t,y.canvas,G.x,G.y,G.w,G.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(G.x,G.y);this.imageLayer.appendImage({imgData:a,left:W[0],top:W[1],width:l,height:u})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,h){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,h){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(h)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const t=this.ctx;this.pendingClip&&(h||(this.pendingClip===se?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const h=Math.abs(a[0]*a[3]-a[2]*a[1]),t=Math.hypot(a[0],a[2]),l=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(t,l)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,h=this.ctx.mozCurrentTransform;let t,l;if(0===h[1]&&0===h[2]){const u=Math.abs(h[0]),y=Math.abs(h[3]);if(0===a)t=1/u,l=1/y;else{const b=u*a,E=y*a;t=b<1?1/b:1,l=E<1?1/E:1}}else{const u=Math.abs(h[0]*h[3]-h[2]*h[1]),y=Math.hypot(h[0],h[1]),b=Math.hypot(h[2],h[3]);if(0===a)t=b/u,l=y/u;else{const E=a*u;t=b>E?b/E:1,l=y>E?y/E:1}}this._cachedScaleForStroking=[t,l]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:h}=this,{lineWidth:t}=this.current,[l,u]=this.getScaleForStroking();if(h.lineWidth=t||1,1===l&&1===u)return void h.stroke();let y,b,E;a&&(y=h.mozCurrentTransform.slice(),b=h.getLineDash().slice(),E=h.lineDashOffset),h.scale(l,u);const V=Math.max(l,u);h.setLineDash(h.getLineDash().map(G=>G/V)),h.lineDashOffset/=V,h.stroke(),a&&(h.setTransform(...y),h.setLineDash(b),h.lineDashOffset=E)}getCanvasPosition(a,h){const t=this.ctx.mozCurrentTransform;return[t[0]*a+t[2]*h+t[4],t[1]*a+t[3]*h+t[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}L.CanvasGraphics=he;for(const M in g.OPS)void 0!==he.prototype[M]&&(he.prototype[g.OPS[M]]=he.prototype[M])},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function S(n){switch(n[0]){case"RadialAxial":return new I(n);case"Mesh":return new s(n);case"Dummy":return new v}throw new Error(`Unknown IR type: ${n[0]}`)};var g=J(1),pe=J(3);const re={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Z(n,c){if(!c||pe.isNodeJS)return;const C=c[2]-c[0],f=c[3]-c[1],p=new Path2D;p.rect(c[0],c[1],C,f),n.clip(p)}L.PathType=re;class ne{constructor(){this.constructor===ne&&(0,g.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,g.unreachable)("Abstract method `getPattern` called.")}}class I extends ne{constructor(c){super(),this._type=c[1],this._bbox=c[2],this._colorStops=c[3],this._p0=c[4],this._p1=c[5],this._r0=c[6],this._r1=c[7],this.matrix=null}_createGradient(c){let C;"axial"===this._type?C=c.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(C=c.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const f of this._colorStops)C.addColorStop(f[0],f[1]);return C}getPattern(c,C,f,p){let e;if(p===re.STROKE||p===re.FILL){const i=C.current.getClippedPathBoundingBox(p,c.mozCurrentTransform)||[0,0,0,0],_=Math.ceil(i[2]-i[0])||1,m=Math.ceil(i[3]-i[1])||1,A=C.cachedCanvases.getCanvas("pattern",_,m,!0),T=A.context;T.clearRect(0,0,T.canvas.width,T.canvas.height),T.beginPath(),T.rect(0,0,T.canvas.width,T.canvas.height),T.translate(-i[0],-i[1]),f=g.Util.transform(f,[1,0,0,1,i[0],i[1]]),T.transform.apply(T,C.baseTransform),this.matrix&&T.transform.apply(T,this.matrix),Z(T,this._bbox),T.fillStyle=this._createGradient(T),T.fill(),e=c.createPattern(A.canvas,"no-repeat");const k=new DOMMatrix(f);try{e.setTransform(k)}catch(F){(0,g.warn)(`RadialAxialShadingPattern.getPattern: "${null==F?void 0:F.message}".`)}}else Z(c,this._bbox),e=this._createGradient(c);return e}}function d(n,c,C,f,p,e,i,_){const m=c.coords,A=c.colors,T=n.data,k=4*n.width;let F;m[C+1]>m[f+1]&&(F=C,C=f,f=F,F=e,e=i,i=F),m[f+1]>m[p+1]&&(F=f,f=p,p=F,F=i,i=_,_=F),m[C+1]>m[f+1]&&(F=C,C=f,f=F,F=e,e=i,i=F);const B=(m[C]+c.offsetX)*c.scaleX,H=(m[C+1]+c.offsetY)*c.scaleY,X=(m[f]+c.offsetX)*c.scaleX,K=(m[f+1]+c.offsetY)*c.scaleY,N=(m[p]+c.offsetX)*c.scaleX,$=(m[p+1]+c.offsetY)*c.scaleY;if(H>=$)return;const ee=A[e],se=A[e+1],he=A[e+2],M=A[i],a=A[i+1],h=A[i+2],t=A[_],l=A[_+1],u=A[_+2],y=Math.round(H),b=Math.round($);let E,V,G,W,U,Y,Q,de;for(let Ce=y;Ce<=b;Ce++){if(Ce<K){let D;D=Ce<H?0:(H-Ce)/(H-K),E=B-(B-X)*D,V=ee-(ee-M)*D,G=se-(se-a)*D,W=he-(he-h)*D}else{let D;D=Ce>$?1:K===$?0:(K-Ce)/(K-$),E=X-(X-N)*D,V=M-(M-t)*D,G=a-(a-l)*D,W=h-(h-u)*D}let te;te=Ce<H?0:Ce>$?1:(H-Ce)/(H-$),U=B-(B-N)*te,Y=ee-(ee-t)*te,Q=se-(se-l)*te,de=he-(he-u)*te;const oe=Math.round(Math.min(E,U)),ae=Math.round(Math.max(E,U));let P=k*Ce+4*oe;for(let D=oe;D<=ae;D++)te=(E-D)/(E-U),te<0?te=0:te>1&&(te=1),T[P++]=V-(V-Y)*te|0,T[P++]=G-(G-Q)*te|0,T[P++]=W-(W-de)*te|0,T[P++]=255}}function x(n,c,C){const f=c.coords,p=c.colors;let e,i;switch(c.type){case"lattice":const _=c.verticesPerRow,m=Math.floor(f.length/_)-1,A=_-1;for(e=0;e<m;e++){let T=e*_;for(let k=0;k<A;k++,T++)d(n,C,f[T],f[T+1],f[T+_],p[T],p[T+1],p[T+_]),d(n,C,f[T+_+1],f[T+1],f[T+_],p[T+_+1],p[T+1],p[T+_])}break;case"triangles":for(e=0,i=f.length;e<i;e+=3)d(n,C,f[e],f[e+1],f[e+2],p[e],p[e+1],p[e+2]);break;default:throw new Error("illegal figure")}}class s extends ne{constructor(c){super(),this._coords=c[2],this._colors=c[3],this._figures=c[4],this._bounds=c[5],this._bbox=c[7],this._background=c[8],this.matrix=null}_createMeshCanvas(c,C,f){const _=Math.floor(this._bounds[0]),m=Math.floor(this._bounds[1]),A=Math.ceil(this._bounds[2])-_,T=Math.ceil(this._bounds[3])-m,k=Math.min(Math.ceil(Math.abs(A*c[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(T*c[1]*1.1)),3e3),B=A/k,H=T/F,X={coords:this._coords,colors:this._colors,offsetX:-_,offsetY:-m,scaleX:1/B,scaleY:1/H},$=f.getCanvas("mesh",k+4,F+4,!1),ee=$.context,se=ee.createImageData(k,F);if(C){const M=se.data;for(let a=0,h=M.length;a<h;a+=4)M[a]=C[0],M[a+1]=C[1],M[a+2]=C[2],M[a+3]=255}for(const M of this._figures)x(se,M,X);return ee.putImageData(se,2,2),{canvas:$.canvas,offsetX:_-2*B,offsetY:m-2*H,scaleX:B,scaleY:H}}getPattern(c,C,f,p){let e;if(Z(c,this._bbox),p===re.SHADING)e=g.Util.singularValueDecompose2dScale(c.mozCurrentTransform);else if(e=g.Util.singularValueDecompose2dScale(C.baseTransform),this.matrix){const _=g.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*_[0],e[1]*_[1]]}const i=this._createMeshCanvas(e,p===re.SHADING?null:this._background,C.cachedCanvases);return p!==re.SHADING&&(c.setTransform.apply(c,C.baseTransform),this.matrix&&c.transform.apply(c,this.matrix)),c.translate(i.offsetX,i.offsetY),c.scale(i.scaleX,i.scaleY),c.createPattern(i.canvas,"no-repeat")}}class v extends ne{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,g.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(c,C,f,p,e){this.operatorList=c[2],this.matrix=c[3]||[1,0,0,1,0,0],this.bbox=c[4],this.xstep=c[5],this.ystep=c[6],this.paintType=c[7],this.tilingType=c[8],this.color=C,this.ctx=f,this.canvasGraphicsFactory=p,this.baseTransform=e}createPatternCanvas(c){const C=this.operatorList,f=this.bbox,p=this.xstep,e=this.ystep,i=this.paintType,m=this.color,A=this.canvasGraphicsFactory;(0,g.info)("TilingType: "+this.tilingType);const T=f[0],k=f[1],F=f[2],B=f[3],H=g.Util.singularValueDecompose2dScale(this.matrix),X=g.Util.singularValueDecompose2dScale(this.baseTransform),K=[H[0]*X[0],H[1]*X[1]],N=this.getSizeAndScale(p,this.ctx.canvas.width,K[0]),$=this.getSizeAndScale(e,this.ctx.canvas.height,K[1]),ee=c.cachedCanvases.getCanvas("pattern",N.size,$.size,!0),se=ee.context,he=A.createCanvasGraphics(se);he.groupLevel=c.groupLevel,this.setFillAndStrokeStyleToContext(he,i,m);let M=T,a=k,h=F,t=B;return T<0&&(M=0,h+=Math.abs(T)),k<0&&(a=0,t+=Math.abs(k)),se.translate(-N.scale*M,-$.scale*a),he.transform(N.scale,0,0,$.scale,0,0),se.save(),this.clipBbox(he,M,a,h,t),he.baseTransform=he.ctx.mozCurrentTransform.slice(),he.executeOperatorList(C),he.endDrawing(),{canvas:ee.canvas,scaleX:N.scale,scaleY:$.scale,offsetX:M,offsetY:a}}getSizeAndScale(c,C,f){c=Math.abs(c);const p=Math.max(r.MAX_PATTERN_SIZE,C);let e=Math.ceil(c*f);return e>=p?e=p:f=e/c,{scale:f,size:e}}clipBbox(c,C,f,p,e){c.ctx.rect(C,f,p-C,e-f),c.current.updateRectMinMax(c.ctx.mozCurrentTransform,[C,f,p,e]),c.clip(),c.endPath()}setFillAndStrokeStyleToContext(c,C,f){const p=c.ctx,e=c.current;switch(C){case 1:const i=this.ctx;p.fillStyle=i.fillStyle,p.strokeStyle=i.strokeStyle,e.fillColor=i.fillStyle,e.strokeColor=i.strokeStyle;break;case 2:const _=g.Util.makeHexColor(f[0],f[1],f[2]);p.fillStyle=_,p.strokeStyle=_,e.fillColor=_,e.strokeColor=_;break;default:throw new g.FormatError(`Unsupported paint type: ${C}`)}}getPattern(c,C,f,p){let e=f;p!==re.SHADING&&(e=g.Util.transform(e,C.baseTransform),this.matrix&&(e=g.Util.transform(e,this.matrix)));const i=this.createPatternCanvas(C);let _=new DOMMatrix(e);_=_.translate(i.offsetX,i.offsetY),_=_.scale(1/i.scaleX,1/i.scaleY);const m=c.createPattern(i.canvas,"repeat");try{m.setTransform(_)}catch(A){(0,g.warn)(`TilingPattern.getPattern: "${null==A?void 0:A.message}".`)}return m}}L.TilingPattern=r},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.applyMaskImageData=function pe({src:re,srcPos:Z=0,dest:ne,destPos:I=0,width:d,height:x,inverseDecode:s=!1}){const v=g.FeatureTest.isLittleEndian?4278190080:255,[S,o]=s?[0,v]:[v,0],r=d>>3,n=7&d,c=re.length;ne=new Uint32Array(ne.buffer);for(let C=0;C<x;C++){for(const p=Z+r;Z<p;Z++){const e=Z<c?re[Z]:255;ne[I++]=128&e?o:S,ne[I++]=64&e?o:S,ne[I++]=32&e?o:S,ne[I++]=16&e?o:S,ne[I++]=8&e?o:S,ne[I++]=4&e?o:S,ne[I++]=2&e?o:S,ne[I++]=1&e?o:S}if(0===n)continue;const f=Z<c?re[Z++]:255;for(let p=0;p<n;p++)ne[I++]=f&1<<7-p?o:S}return{srcPos:Z,destPos:I}};var g=J(1)},(be,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const J=Object.create(null);L.GlobalWorkerOptions=J,J.workerPort=void 0===J.workerPort?null:J.workerPort,J.workerSrc=void 0===J.workerSrc?"":J.workerSrc},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var g=J(1);function Z(I){switch(I instanceof Error||"object"==typeof I&&null!==I||(0,g.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),I.name){case"AbortException":return new g.AbortException(I.message);case"MissingPDFException":return new g.MissingPDFException(I.message);case"PasswordException":return new g.PasswordException(I.message,I.code);case"UnexpectedResponseException":return new g.UnexpectedResponseException(I.message,I.status);case"UnknownErrorException":return new g.UnknownErrorException(I.message,I.details);default:return new g.UnknownErrorException(I.message,I.toString())}}L.MessageHandler=class ne{constructor(d,x,s){this.sourceName=d,this.targetName=x,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const S=v.data;if(S.targetName!==this.sourceName)return;if(S.stream)return void this._processStreamMessage(S);if(S.callback){const r=S.callbackId,n=this.callbackCapabilities[r];if(!n)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===S.callback)n.resolve(S.data);else{if(2!==S.callback)throw new Error("Unexpected callback case");n.reject(Z(S.reason))}return}const o=this.actionHandler[S.action];if(!o)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){const r=this.sourceName,n=S.sourceName;new Promise(function(c){c(o(S.data))}).then(function(c){s.postMessage({sourceName:r,targetName:n,callback:1,callbackId:S.callbackId,data:c})},function(c){s.postMessage({sourceName:r,targetName:n,callback:2,callbackId:S.callbackId,reason:Z(c)})})}else S.streamId?this._createStreamSink(S):o(S.data)},s.addEventListener("message",this._onComObjOnMessage)}on(d,x){const s=this.actionHandler;if(s[d])throw new Error(`There is already an actionName called "${d}"`);s[d]=x}send(d,x,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:x},s)}sendWithPromise(d,x,s){const v=this.callbackId++,S=(0,g.createPromiseCapability)();this.callbackCapabilities[v]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:v,data:x},s)}catch(o){S.reject(o)}return S.promise}sendWithStream(d,x,s,v){const S=this.streamId++,o=this.sourceName,r=this.targetName,n=this.comObj;return new ReadableStream({start:c=>{const C=(0,g.createPromiseCapability)();return this.streamControllers[S]={controller:c,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},n.postMessage({sourceName:o,targetName:r,action:d,streamId:S,data:x,desiredSize:c.desiredSize},v),C.promise},pull:c=>{const C=(0,g.createPromiseCapability)();return this.streamControllers[S].pullCall=C,n.postMessage({sourceName:o,targetName:r,stream:6,streamId:S,desiredSize:c.desiredSize}),C.promise},cancel:c=>{(0,g.assert)(c instanceof Error,"cancel must have a valid reason");const C=(0,g.createPromiseCapability)();return this.streamControllers[S].cancelCall=C,this.streamControllers[S].isClosed=!0,n.postMessage({sourceName:o,targetName:r,stream:1,streamId:S,reason:Z(c)}),C.promise}},s)}_createStreamSink(d){const x=d.streamId,s=this.sourceName,v=d.sourceName,S=this.comObj,o=this,r=this.actionHandler[d.action],n={enqueue(c,C=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=C,p>0&&this.desiredSize<=0&&(this.sinkCapability=(0,g.createPromiseCapability)(),this.ready=this.sinkCapability.promise),S.postMessage({sourceName:s,targetName:v,stream:4,streamId:x,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:s,targetName:v,stream:3,streamId:x}),delete o.streamSinks[x])},error(c){(0,g.assert)(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:s,targetName:v,stream:5,streamId:x,reason:Z(c)}))},sinkCapability:(0,g.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};n.sinkCapability.resolve(),n.ready=n.sinkCapability.promise,this.streamSinks[x]=n,new Promise(function(c){c(r(d.data,n))}).then(function(){S.postMessage({sourceName:s,targetName:v,stream:8,streamId:x,success:!0})},function(c){S.postMessage({sourceName:s,targetName:v,stream:8,streamId:x,reason:Z(c)})})}_processStreamMessage(d){const x=d.streamId,s=this.sourceName,v=d.sourceName,S=this.comObj,o=this.streamControllers[x],r=this.streamSinks[x];switch(d.stream){case 8:d.success?o.startCall.resolve():o.startCall.reject(Z(d.reason));break;case 7:d.success?o.pullCall.resolve():o.pullCall.reject(Z(d.reason));break;case 6:if(!r){S.postMessage({sourceName:s,targetName:v,stream:7,streamId:x,success:!0});break}r.desiredSize<=0&&d.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=d.desiredSize,new Promise(function(n){n(r.onPull&&r.onPull())}).then(function(){S.postMessage({sourceName:s,targetName:v,stream:7,streamId:x,success:!0})},function(n){S.postMessage({sourceName:s,targetName:v,stream:7,streamId:x,reason:Z(n)})});break;case 4:if((0,g.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(d.chunk);break;case 3:if((0,g.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,x);break;case 5:(0,g.assert)(o,"error should have stream controller"),o.controller.error(Z(d.reason)),this._deleteStreamController(o,x);break;case 2:d.success?o.cancelCall.resolve():o.cancelCall.reject(Z(d.reason)),this._deleteStreamController(o,x);break;case 1:if(!r)break;new Promise(function(n){n(r.onCancel&&r.onCancel(Z(d.reason)))}).then(function(){S.postMessage({sourceName:s,targetName:v,stream:2,streamId:x,success:!0})},function(n){S.postMessage({sourceName:s,targetName:v,stream:2,streamId:x,reason:Z(n)})}),r.sinkCapability.reject(Z(d.reason)),r.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(d,x){var s=this;return _asyncToGenerator(function*(){yield Promise.allSettled([d.startCall&&d.startCall.promise,d.pullCall&&d.pullCall.promise,d.cancelCall&&d.cancelCall.promise]),delete s.streamControllers[x]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(be,L,J)=>{var re,Z;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var g=J(1);re=new WeakMap,Z=new WeakMap,L.Metadata=class pe{constructor({parsedData:I,rawData:d}){Me(this,re,void 0),Me(this,Z,void 0),Ie(this,re,I),Ie(this,Z,d)}getRaw(){return we(this,Z)}get(I){var d;return null!=(d=we(this,re).get(I))?d:null}getAll(){return(0,g.objectFromMap)(we(this,re))}has(I){return we(this,re).has(I)}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var g=J(1);class pe{constructor(ne,I){this.visible=!0,this.name=ne,this.intent=I}}L.OptionalContentConfig=class re{constructor(ne){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ne){this.name=ne.name,this.creator=ne.creator,this._order=ne.order;for(const I of ne.groups)this._groups.set(I.id,new pe(I.name,I.intent));if("OFF"===ne.baseState)for(const I of this._groups)I.visible=!1;for(const I of ne.on)this._groups.get(I).visible=!0;for(const I of ne.off)this._groups.get(I).visible=!1}}_evaluateVisibilityExpression(ne){const I=ne.length;if(I<2)return!0;const d=ne[0];for(let x=1;x<I;x++){const s=ne[x];let v;if(Array.isArray(s))v=this._evaluateVisibilityExpression(s);else{if(!this._groups.has(s))return(0,g.warn)(`Optional content group not found: ${s}`),!0;v=this._groups.get(s).visible}switch(d){case"And":if(!v)return!1;break;case"Or":if(v)return!0;break;case"Not":return!v;default:return!0}}return"And"===d}isVisible(ne){if(0===this._groups.size)return!0;if(!ne)return(0,g.warn)("Optional content group not defined."),!0;if("OCG"===ne.type)return this._groups.has(ne.id)?this._groups.get(ne.id).visible:((0,g.warn)(`Optional content group not found: ${ne.id}`),!0);if("OCMD"===ne.type){if(ne.expression)return this._evaluateVisibilityExpression(ne.expression);if(!ne.policy||"AnyOn"===ne.policy){for(const I of ne.ids){if(!this._groups.has(I))return(0,g.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!0}return!1}if("AllOn"===ne.policy){for(const I of ne.ids){if(!this._groups.has(I))return(0,g.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!1}return!0}if("AnyOff"===ne.policy){for(const I of ne.ids){if(!this._groups.has(I))return(0,g.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!0}return!1}if("AllOff"===ne.policy){for(const I of ne.ids){if(!this._groups.has(I))return(0,g.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!1}return!0}return(0,g.warn)(`Unknown optional content policy ${ne.policy}.`),!0}return(0,g.warn)(`Unknown group type ${ne.type}.`),!0}setVisibility(ne,I=!0){this._groups.has(ne)?this._groups.get(ne).visible=!!I:(0,g.warn)(`Optional content group not found: ${ne}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,g.objectFromMap)(this._groups):null}getGroup(ne){return this._groups.get(ne)||null}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var g=J(1),pe=J(5);L.PDFDataTransportStream=class re{constructor(d,x){(0,g.assert)(x,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d.progressiveDone||!1,this._contentDispositionFilename=d.contentDispositionFilename||null;const s=d.initialData;if((null==s?void 0:s.length)>0){const v=new Uint8Array(s).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=x,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._contentLength=d.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,S)=>{this._onReceiveData({begin:v,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((v,S)=>{this._onProgress({loaded:v,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(d){const x=new Uint8Array(d.chunk).buffer;if(void 0===d.begin)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const s=this._rangeReaders.some(function(v){return v._begin===d.begin&&(v._enqueue(x),!0)});(0,g.assert)(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var d,x;return null!=(x=null==(d=this._fullRequestReader)?void 0:d._loaded)?x:0}_onProgress(d){if(void 0===d.total){const x=this._rangeReaders[0];(null==x?void 0:x.onProgress)&&x.onProgress({loaded:d.loaded})}else{const x=this._fullRequestReader;(null==x?void 0:x.onProgress)&&x.onProgress({loaded:d.loaded,total:d.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const x=this._rangeReaders.indexOf(d);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,g.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new Z(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,x){if(x<=this._progressiveDataLength)return null;const s=new ne(this,d,x);return this._pdfDataRangeTransport.requestDataRange(d,x),this._rangeReaders.push(s),s}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const x of this._rangeReaders.slice(0))x.cancel(d);this._pdfDataRangeTransport.abort()}};class Z{constructor(d,x,s=!1,v=null){this._stream=d,this._done=s||!1,this._filename=(0,pe.isPdfFile)(v)?v:null,this._queuedChunks=x||[],this._loaded=0;for(const S of this._queuedChunks)this._loaded+=S.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var d=this;return _asyncToGenerator(function*(){if(d._queuedChunks.length>0)return{value:d._queuedChunks.shift(),done:!1};if(d._done)return{value:void 0,done:!0};const x=(0,g.createPromiseCapability)();return d._requests.push(x),x.promise})()}cancel(d){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ne{constructor(d,x,s){this._stream=d,this._begin=x,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(0===this._requests.length)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var d=this;return _asyncToGenerator(function*(){if(d._queuedChunk){const s=d._queuedChunk;return d._queuedChunk=null,{value:s,done:!1}}if(d._done)return{value:void 0,done:!0};const x=(0,g.createPromiseCapability)();return d._requests.push(x),x.promise})()}cancel(d){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(be,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class J{static textContent(pe){const re=[],Z={items:re,styles:Object.create(null)};return function ne(I){var s;if(!I)return;let d=null;const x=I.name;if("#text"===x)d=I.value;else{if(!J.shouldBuildText(x))return;(null==(s=null==I?void 0:I.attributes)?void 0:s.textContent)?d=I.attributes.textContent:I.value&&(d=I.value)}if(null!==d&&re.push({str:d}),I.children)for(const v of I.children)ne(v)}(pe),Z}static shouldBuildText(pe){return!("textarea"===pe||"input"===pe||"option"===pe||"select"===pe)}}L.XfaText=J},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var g=J(6);const pe=function(I){return new Promise((d,x)=>{__webpack_require__(172).readFile(I,(v,S)=>{!v&&S?d(new Uint8Array(S)):x(new Error(v))})})};L.NodeCanvasFactory=class re extends g.BaseCanvasFactory{_createCanvas(d,x){return __webpack_require__(3414).createCanvas(d,x)}},L.NodeCMapReaderFactory=class Z extends g.BaseCMapReaderFactory{_fetchData(d,x){return pe(d).then(s=>({cMapData:s,compressionType:x}))}},L.NodeStandardFontDataFactory=class ne extends g.BaseStandardFontDataFactory{_fetchData(d){return pe(d)}}},(be,L,J)=>{var M,it;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var g=J(1),pe=J(5),re=J(8),Z=J(21),ne=J(22);const I=1e3,d=new WeakSet;function x(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class s{static create(t){switch(t.data.annotationType){case g.AnnotationType.LINK:return new S(t);case g.AnnotationType.TEXT:return new o(t);case g.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new n(t);case"Btn":return t.data.radioButton?new C(t):t.data.checkBox?new c(t):new f(t);case"Ch":return new p(t)}return new r(t);case g.AnnotationType.POPUP:return new e(t);case g.AnnotationType.FREETEXT:return new _(t);case g.AnnotationType.LINE:return new m(t);case g.AnnotationType.SQUARE:return new A(t);case g.AnnotationType.CIRCLE:return new T(t);case g.AnnotationType.POLYLINE:return new k(t);case g.AnnotationType.CARET:return new B(t);case g.AnnotationType.INK:return new H(t);case g.AnnotationType.POLYGON:return new F(t);case g.AnnotationType.HIGHLIGHT:return new X(t);case g.AnnotationType.UNDERLINE:return new K(t);case g.AnnotationType.SQUIGGLY:return new N(t);case g.AnnotationType.STRIKEOUT:return new $(t);case g.AnnotationType.STAMP:return new ee(t);case g.AnnotationType.FILEATTACHMENT:return new se(t);default:return new v(t)}}}class v{constructor(t,{isRenderable:l=!1,ignoreBorder:u=!1,createQuadrilaterals:y=!1}={}){this.isRenderable=l,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,l&&(this.container=this._createContainer(u)),y&&(this.quadrilaterals=this._createQuadrilaterals(u))}_createContainer(t=!1){const l=this.data,u=this.page,y=this.viewport,b=document.createElement("section");let{width:E,height:V}=x(l.rect);b.setAttribute("data-annotation-id",l.id);const G=g.Util.normalizeRect([l.rect[0],u.view[3]-l.rect[1]+u.view[1],l.rect[2],u.view[3]-l.rect[3]+u.view[1]]);if(l.hasOwnCanvas){const W=y.transform.slice(),[U,Y]=g.Util.singularValueDecompose2dScale(W);E=Math.ceil(E*U),V=Math.ceil(V*Y),G[0]*=U,G[1]*=Y;for(let Q=0;Q<4;Q++)W[Q]=Math.sign(W[Q]);b.style.transform=`matrix(${W.join(",")})`}else b.style.transform=`matrix(${y.transform.join(",")})`;if(b.style.transformOrigin=`${-G[0]}px ${-G[1]}px`,!t&&l.borderStyle.width>0){b.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==g.AnnotationBorderStyleType.UNDERLINE&&(E-=2*l.borderStyle.width,V-=2*l.borderStyle.width);const W=l.borderStyle.horizontalCornerRadius,U=l.borderStyle.verticalCornerRadius;switch((W>0||U>0)&&(b.style.borderRadius=`${W}px / ${U}px`),l.borderStyle.style){case g.AnnotationBorderStyleType.SOLID:b.style.borderStyle="solid";break;case g.AnnotationBorderStyleType.DASHED:b.style.borderStyle="dashed";break;case g.AnnotationBorderStyleType.BEVELED:(0,g.warn)("Unimplemented border style: beveled");break;case g.AnnotationBorderStyleType.INSET:(0,g.warn)("Unimplemented border style: inset");break;case g.AnnotationBorderStyleType.UNDERLINE:b.style.borderBottomStyle="solid"}l.borderColor||l.color?b.style.borderColor=g.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):b.style.borderWidth=0}return b.style.left=`${G[0]}px`,b.style.top=`${G[1]}px`,l.hasOwnCanvas?b.style.width=b.style.height="auto":(b.style.width=`${E}px`,b.style.height=`${V}px`),b}get _commonActions(){const t=(l,u,y)=>{const b=y.detail[l];y.target.style[u]=Z.ColorConverters[`${b[0]}_HTML`](b.slice(1))};return(0,g.shadow)(this,"_commonActions",{display:l=>{const u=l.detail.display%2==1;l.target.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:u,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{t("bgColor","backgroundColor",l)},fillColor:l=>{t("fillColor","backgroundColor",l)},fgColor:l=>{t("fgColor","color",l)},textColor:l=>{t("textColor","color",l)},borderColor:l=>{t("borderColor","borderColor",l)},strokeColor:l=>{t("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(t,l){const u=this._commonActions;for(const y of Object.keys(l.detail)){const b=t[y]||u[y];b&&b(l)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const u=this._commonActions;for(const[y,b]of Object.entries(l)){const E=u[y];E&&(E({detail:b,target:t}),delete l[y])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const l=[],u=this.data.rect;for(const y of this.data.quadPoints)this.data.rect=[y[2].x,y[2].y,y[1].x,y[1].y],l.push(this._createContainer(t));return this.data.rect=u,l}_createPopup(t,l){let u=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,u=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=u.style.height,t.style.width=u.style.width,u.appendChild(t));const b=new i({container:u,trigger:t,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();b.style.left=u.style.width,u.appendChild(b)}_renderQuadrilaterals(t){for(const l of this.quadrilaterals)l.className=t;return this.quadrilaterals}render(){(0,g.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,l=null){const u=[];if(this._fieldObjects){const y=this._fieldObjects[t];if(y)for(const{page:b,id:E,exportValues:V}of y){if(-1===b||E===l)continue;const G="string"==typeof V?V:null,W=document.getElementById(E);!W||d.has(W)?u.push({id:E,exportValue:G,domElement:W}):(0,g.warn)(`_getElementsByName - element not allowed: ${E}`)}return u}for(const y of document.getElementsByName(t)){const{id:b,exportValue:E}=y;b!==l&&(!d.has(y)||u.push({id:b,exportValue:E,domElement:y}))}return u}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,g.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class S extends v{constructor(t,l=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!(null==l?void 0:l.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:t,linkService:l}=this,u=document.createElement("a");if(t.url)l.addLinkAttributes(u,t.url,t.newWindow);else if(t.action)this._bindNamedAction(u,t.action);else if(t.dest)this._bindLink(u,t.dest);else{let y=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(y=!0,this._bindJSAction(u,t)),t.resetForm?this._bindResetFormAction(u,t.resetForm):y||this._bindLink(u,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((y,b)=>{const E=0===b?u:u.cloneNode();return y.appendChild(E),y}):(this.container.className="linkAnnotation",this.container.appendChild(u),this.container)}_bindLink(t,l){t.href=this.linkService.getDestinationHash(l),t.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(t.className="internalLink")}_bindNamedAction(t,l){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(l),!1),t.className="internalLink"}_bindJSAction(t,l){t.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const y of Object.keys(l.actions)){const b=u.get(y);!b||(t[b]=()=>{var E;return null==(E=this.linkService.eventBus)||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:y}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,l){const u=t.onclick;if(u||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,g.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(t.onclick=()=>!1));t.onclick=()=>{var U;u&&u();const{fields:y,refs:b,include:E}=l,V=[];if(0!==y.length||0!==b.length){const Y=new Set(b);for(const Q of y){const de=this._fieldObjects[Q]||[];for(const{id:Ce}of de)Y.add(Ce)}for(const Q of Object.values(this._fieldObjects))for(const de of Q)Y.has(de.id)===E&&V.push(de)}else for(const Y of Object.values(this._fieldObjects))V.push(...Y);const G=this.annotationStorage,W=[];for(const Y of V){const{id:Q}=Y;switch(W.push(Q),Y.type){case"text":case"combobox":case"listbox":G.setValue(Q,{value:Y.defaultValue||""});break;case"checkbox":case"radiobutton":G.setValue(Q,{value:Y.defaultValue===Y.exportValues});break;default:continue}const de=document.getElementById(Q);!de||!d.has(de)||de.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(U=this.linkService.eventBus)||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}})),!1}}}class o extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str))})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class r extends v{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:l,isMac:u}=v.platform;return l&&t.ctrlKey||u&&t.metaKey}_setEventListener(t,l,u,y){l.includes("mouse")?t.addEventListener(l,b=>{var E;null==(E=this.linkService.eventBus)||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:y(b),shift:b.shiftKey,modifier:this._getKeyModifier(b)}})}):t.addEventListener(l,b=>{var E;null==(E=this.linkService.eventBus)||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:y(b)}})})}_setEventListeners(t,l,u){var y;for(const[b,E]of l)("Action"===E||(null==(y=this.data.actions)?void 0:y[E]))&&this._setEventListener(t,b,E,u)}_setBackgroundColor(t){const l=this.data.backgroundColor||null;t.style.backgroundColor=null===l?"transparent":g.Util.makeHexColor(l[0],l[1],l[2])}}class n extends r{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,l,u,y){const b=this.annotationStorage;for(const E of this._getElementsByName(t.name,t.id))E.domElement&&(E.domElement[l]=u),b.setValue(E.id,{[y]:u})}render(){var y;const t=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let u=null;if(this.renderForms){const b=t.getValue(l,{value:this.data.fieldValue}),E=b.formattedValue||b.value||"",V={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=E):(u=document.createElement("input"),u.type="text",u.setAttribute("value",E)),d.add(u),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=I,V.userValue=E,u.setAttribute("id",l),u.addEventListener("input",W=>{t.setValue(l,{value:W.target.value}),this.setPropertyOnSiblings(u,"value",W.target.value,"value")}),u.addEventListener("resetform",W=>{var Y;const U=null!=(Y=this.data.defaultFieldValue)?Y:"";u.value=V.userValue=U,V.formattedValue=null});let G=W=>{const{formattedValue:U}=V;null!=U&&(W.target.value=U),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){u.addEventListener("focus",U=>{V.userValue&&(U.target.value=V.userValue),V.valueOnFocus=U.target.value}),u.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(Q){var de;V.userValue=null!=(de=Q.detail.value)?de:"",t.setValue(l,{value:V.userValue.toString()}),Q.target.value=V.userValue},formattedValue(Q){const{formattedValue:de}=Q.detail;V.formattedValue=de,null!=de&&Q.target!==document.activeElement&&(Q.target.value=de),t.setValue(l,{formattedValue:de})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},U)}),u.addEventListener("keydown",U=>{var de;let Y=-1;if("Escape"===U.key?Y=0:"Enter"===U.key?Y=2:"Tab"===U.key&&(Y=3),-1===Y)return;const{value:Q}=U.target;V.valueOnFocus!==Q&&(V.userValue=Q,null==(de=this.linkService.eventBus)||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,willCommit:!0,commitKey:Y,selStart:U.target.selectionStart,selEnd:U.target.selectionEnd}}))});const W=G;G=null,u.addEventListener("blur",U=>{var Q;const{value:Y}=U.target;V.userValue=Y,this._mouseState.isDown&&V.valueOnFocus!==Y&&(null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Y,willCommit:!0,commitKey:1,selStart:U.target.selectionStart,selEnd:U.target.selectionEnd}})),W(U)}),(null==(y=this.data.actions)?void 0:y.Keystroke)&&u.addEventListener("beforeinput",U=>{var P;const{data:Y,target:Q}=U,{value:de,selectionStart:Ce,selectionEnd:te}=Q;let oe=Ce,ae=te;switch(U.inputType){case"deleteWordBackward":{const D=de.substring(0,Ce).match(/\w*[^\w]*$/);D&&(oe-=D[0].length);break}case"deleteWordForward":{const D=de.substring(Ce).match(/^[^\w]*\w*/);D&&(ae+=D[0].length);break}case"deleteContentBackward":Ce===te&&(oe-=1);break;case"deleteContentForward":Ce===te&&(ae+=1)}U.preventDefault(),null==(P=this.linkService.eventBus)||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:de,change:Y||"",willCommit:!1,selStart:oe,selEnd:ae}})}),this._setEventListeners(u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.value)}if(G&&u.addEventListener("blur",G),null!==this.data.maxLen&&(u.maxLength=this.data.maxLen),this.data.comb){const U=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;u.classList.add("comb"),u.style.letterSpacing=`calc(${U}px - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell";return this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.appendChild(u),this.container}_setTextStyle(t){const{fontSize:u,fontColor:y}=this.data.defaultAppearanceData,b=t.style;u&&(b.fontSize=`${u}px`),b.color=g.Util.makeHexColor(y[0],y[1],y[2]),null!==this.data.textAlignment&&(b.textAlign=["left","center","right"][this.data.textAlignment])}}class c extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,l=this.data,u=l.id;let y=t.getValue(u,{value:l.exportValue===l.fieldValue}).value;"string"==typeof y&&(y="Off"!==y,t.setValue(u,{value:y})),this.container.className="buttonWidgetAnnotation checkBox";const b=document.createElement("input");return d.add(b),b.disabled=l.readOnly,b.type="checkbox",b.name=l.fieldName,y&&b.setAttribute("checked",!0),b.setAttribute("id",u),b.setAttribute("exportValue",l.exportValue),b.tabIndex=I,b.addEventListener("change",E=>{const{name:V,checked:G}=E.target;for(const W of this._getElementsByName(V,u)){const U=G&&W.exportValue===l.exportValue;W.domElement&&(W.domElement.checked=U),t.setValue(W.id,{value:U})}t.setValue(u,{value:G})}),b.addEventListener("resetform",E=>{E.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(b.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(G){G.target.checked="Off"!==G.detail.value,t.setValue(u,{value:G.target.checked})}},E)}),this._setEventListeners(b,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(b),this._setDefaultPropertiesFromJS(b),this.container.appendChild(b),this.container}}class C extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,l=this.data,u=l.id;let y=t.getValue(u,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof y&&(y=y!==l.buttonValue,t.setValue(u,{value:y}));const b=document.createElement("input");if(d.add(b),b.disabled=l.readOnly,b.type="radio",b.name=l.fieldName,y&&b.setAttribute("checked",!0),b.setAttribute("id",u),b.tabIndex=I,b.addEventListener("change",E=>{const{name:V,checked:G}=E.target;for(const W of this._getElementsByName(V,u))t.setValue(W.id,{value:!1});t.setValue(u,{value:G})}),b.addEventListener("resetform",E=>{const V=l.defaultFieldValue;E.target.checked=null!=V&&V===l.buttonValue}),this.enableScripting&&this.hasJSActions){const E=l.buttonValue;b.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value:W=>{const U=E===W.detail.value;for(const Y of this._getElementsByName(W.target.name)){const Q=U&&Y.id===u;Y.domElement&&(Y.domElement.checked=Q),t.setValue(Y.id,{value:Q})}}},V)}),this._setEventListeners(b,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)}return this._setBackgroundColor(b),this._setDefaultPropertiesFromJS(b),this.container.appendChild(b),this.container}}class f extends S{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class p extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,l=this.data.id,u=t.getValue(l,{value:this.data.fieldValue});let{fontSize:y}=this.data.defaultAppearanceData;y||(y=9);const b=`calc(${y}px * var(--zoom-factor))`,E=document.createElement("select");d.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",l),E.tabIndex=I,E.style.fontSize=`${y}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",W=>{const U=this.data.defaultFieldValue;for(const Y of E.options)Y.selected=Y.value===U});for(const W of this.data.options){const U=document.createElement("option");U.textContent=W.displayValue,U.value=W.exportValue,this.data.combo&&(U.style.fontSize=b),u.value.includes(W.exportValue)&&U.setAttribute("selected",!0),E.appendChild(U)}const V=(W,U)=>{const Y=U?"value":"textContent",Q=W.target.options;return W.target.multiple?Array.prototype.filter.call(Q,de=>de.selected).map(de=>de[Y]):-1===Q.selectedIndex?null:Q[Q.selectedIndex][Y]},G=W=>Array.prototype.map.call(W.target.options,Y=>({displayValue:Y.textContent,exportValue:Y.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Y){const Q=Y.detail.value,de=new Set(Array.isArray(Q)?Q:[Q]);for(const Ce of E.options)Ce.selected=de.has(Ce.value);t.setValue(l,{value:V(Y,!0)})},multipleSelection(Y){E.multiple=!0},remove(Y){const Q=E.options,de=Y.detail.remove;Q[de].selected=!1,E.remove(de),Q.length>0&&-1===Array.prototype.findIndex.call(Q,te=>te.selected)&&(Q[0].selected=!0),t.setValue(l,{value:V(Y,!0),items:G(Y)})},clear(Y){for(;0!==E.length;)E.remove(0);t.setValue(l,{value:null,items:[]})},insert(Y){const{index:Q,displayValue:de,exportValue:Ce}=Y.detail.insert,te=document.createElement("option");te.textContent=de,te.value=Ce,E.insertBefore(te,E.children[Q]),t.setValue(l,{value:V(Y,!0),items:G(Y)})},items(Y){const{items:Q}=Y.detail;for(;0!==E.length;)E.remove(0);for(const de of Q){const{displayValue:Ce,exportValue:te}=de,oe=document.createElement("option");oe.textContent=Ce,oe.value=te,E.appendChild(oe)}E.options.length>0&&(E.options[0].selected=!0),t.setValue(l,{value:V(Y,!0),items:G(Y)})},indices(Y){const Q=new Set(Y.detail.indices);for(const de of Y.target.options)de.selected=Q.has(de.index);t.setValue(l,{value:V(Y,!0)})},editable(Y){Y.target.disabled=!Y.detail.editable}},W)}),E.addEventListener("input",W=>{var Q;const U=V(W,!0),Y=V(W,!1);t.setValue(l,{value:U}),null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Y,changeEx:U,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):E.addEventListener("input",function(W){t.setValue(l,{value:V(W,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class e extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!((null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const y=new i({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),b=this.page,E=g.Util.normalizeRect([this.data.parentRect[0],b.view[3]-this.data.parentRect[1]+b.view[1],this.data.parentRect[2],b.view[3]-this.data.parentRect[3]+b.view[1]]),V=E[0]+this.data.parentRect[2]-this.data.parentRect[0],G=E[1];return this.container.style.transformOrigin=`${-V}px ${-G}px`,this.container.style.left=`${V}px`,this.container.style.top=`${G}px`,this.container.appendChild(y.render()),this.container}}class i{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var V,G;const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const u=document.createElement("div");u.className="popup";const y=this.color;y&&(u.style.backgroundColor=g.Util.makeHexColor(0|.7*(255-y[0])+y[0],0|.7*(255-y[1])+y[1],0|.7*(255-y[2])+y[2]));const b=document.createElement("h1");b.dir=this.titleObj.dir,b.textContent=this.titleObj.str,u.appendChild(b);const E=pe.PDFDateString.toDateObject(this.modificationDate);if(E){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),u.appendChild(W)}if(!(null==(V=this.richText)?void 0:V.str)||(null==(G=this.contentsObj)?void 0:G.str)&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);u.appendChild(W)}else ne.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:u}),u.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return u.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(u),l}_formatContents({str:t,dir:l}){const u=document.createElement("p");u.className="popupContent",u.dir=l;const y=t.split(/(?:\r\n?|\n)/);for(let b=0,E=y.length;b<E;++b)u.appendChild(document.createTextNode(y[b])),b<E-1&&u.appendChild(document.createElement("br"));return u}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class _ extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class m extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:l,height:u}=x(t.rect),y=this.svgFactory.create(l,u),b=this.svgFactory.createElement("svg:line");return b.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),b.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),b.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),b.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),b.setAttribute("stroke-width",t.borderStyle.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),y.appendChild(b),this.container.append(y),this._createPopup(b,t),this.container}}class A extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:l,height:u}=x(t.rect),y=this.svgFactory.create(l,u),b=t.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",b/2),E.setAttribute("y",b/2),E.setAttribute("width",l-b),E.setAttribute("height",u-b),E.setAttribute("stroke-width",b||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),y.appendChild(E),this.container.append(y),this._createPopup(E,t),this.container}}class T extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:l,height:u}=x(t.rect),y=this.svgFactory.create(l,u),b=t.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",l/2),E.setAttribute("cy",u/2),E.setAttribute("rx",l/2-b/2),E.setAttribute("ry",u/2-b/2),E.setAttribute("stroke-width",b||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),y.appendChild(E),this.container.append(y),this._createPopup(E,t),this.container}}class k extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:u}=x(t.rect),y=this.svgFactory.create(l,u);let b=[];for(const V of t.vertices)b.push(V.x-t.rect[0]+","+(t.rect[3]-V.y));b=b.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",b),E.setAttribute("stroke-width",t.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),y.appendChild(E),this.container.append(y),this._createPopup(E,t),this.container}}class F extends k{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:u}=x(t.rect),y=this.svgFactory.create(l,u);for(const b of t.inkLists){let E=[];for(const G of b)E.push(`${G.x-t.rect[0]},${t.rect[3]-G.y}`);E=E.join(" ");const V=this.svgFactory.createElement(this.svgElementName);V.setAttribute("points",E),V.setAttribute("stroke-width",t.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),this._createPopup(V,t),y.appendChild(V)}return this.container.append(y),this.container}}class X extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class K extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class N extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $ extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ee extends v{constructor(t){var u,y,b;super(t,{isRenderable:!!(t.data.hasPopup||(null==(u=t.data.titleObj)?void 0:u.str)||(null==(y=t.data.contentsObj)?void 0:y.str)||(null==(b=t.data.richText)?void 0:b.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class se extends v{constructor(t){var y;super(t,{isRenderable:!0});const{filename:l,content:u}=this.data.file;this.filename=(0,pe.getFilenameFromUrl)(l),this.content=u,null==(y=this.linkService.eventBus)||y.dispatch("fileattachmentannotation",{source:this,filename:l,content:u})}render(){var l,u;this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(l=this.data.titleObj)?void 0:l.str)||(null==(u=this.data.contentsObj)?void 0:u.str)||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){var t;null==(t=this.downloadManager)||t.openOrDownloadData(this.container,this.content,this.filename)}}class he{static render(t){const l=[],u=[];for(const b of t.annotations){if(!b)continue;const{width:E,height:V}=x(b.rect);if(!(E<=0||V<=0)){if(b.annotationType===g.AnnotationType.POPUP){u.push(b);continue}l.push(b)}}u.length&&l.push(...u);const y=t.div;for(const b of l){const E=s.create({data:b,layer:y,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new pe.DOMSVGFactory,annotationStorage:t.annotationStorage||new re.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(E.isRenderable){const V=E.render();if(b.hidden&&(V.style.visibility="hidden"),Array.isArray(V))for(const G of V)y.appendChild(G);else E instanceof e?y.prepend(V):y.appendChild(V)}}Ee(this,M,it).call(this,y,t.annotationCanvasMap)}static update(t){const{page:l,viewport:u,annotations:y,annotationCanvasMap:b,div:E}=t,V=u.transform,G=`matrix(${V.join(",")})`;let W,U;for(const Y of y){const Q=E.querySelectorAll(`[data-annotation-id="${Y.id}"]`);if(Q)for(const de of Q)if(Y.hasOwnCanvas){const Ce=g.Util.normalizeRect([Y.rect[0],l.view[3]-Y.rect[1]+l.view[1],Y.rect[2],l.view[3]-Y.rect[3]+l.view[1]]);if(!U){W=Math.abs(V[0]||V[1]);const ae=V.slice();for(let P=0;P<4;P++)ae[P]=Math.sign(ae[P]);U=`matrix(${ae.join(",")})`}const te=Ce[0]*W,oe=Ce[1]*W;de.style.left=`${te}px`,de.style.top=`${oe}px`,de.style.transformOrigin=`${-te}px ${-oe}px`,de.style.transform=U}else de.style.transform=G}Ee(this,M,it).call(this,E,b),E.hidden=!1}}M=new WeakSet,it=function(t,l){if(l){for(const[u,y]of l){const b=t.querySelector(`[data-annotation-id="${u}"]`);if(!b)continue;const{firstChild:E}=b;"CANVAS"===E.nodeName?b.replaceChild(y,E):b.insertBefore(y,E)}l.clear()}},Me(he,M),L.AnnotationLayer=he},(be,L)=>{function J(pe){return Math.floor(255*Math.max(0,Math.min(1,pe))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class g{static CMYK_G([re,Z,ne,I]){return["G",1-Math.min(1,.3*re+.59*ne+.11*Z+I)]}static G_CMYK([re]){return["CMYK",0,0,0,1-re]}static G_RGB([re]){return["RGB",re,re,re]}static G_HTML([re]){const Z=J(re);return`#${Z}${Z}${Z}`}static RGB_G([re,Z,ne]){return["G",.3*re+.59*Z+.11*ne]}static RGB_HTML([re,Z,ne]){return`#${J(re)}${J(Z)}${J(ne)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([re,Z,ne,I]){return["RGB",1-Math.min(1,re+I),1-Math.min(1,ne+I),1-Math.min(1,Z+I)]}static CMYK_HTML(re){return this.RGB_HTML(this.CMYK_RGB(re))}static RGB_CMYK([re,Z,ne]){const I=1-re,d=1-Z,x=1-ne;return["CMYK",I,d,x,Math.min(I,d,x)]}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var g=J(18);L.XfaLayer=class pe{static setupStorage(Z,ne,I,d,x){const s=d.getValue(ne,{value:null});switch(I.name){case"textarea":if(null!==s.value&&(Z.textContent=s.value),"print"===x)break;Z.addEventListener("input",v=>{d.setValue(ne,{value:v.target.value})});break;case"input":if("radio"===I.attributes.type||"checkbox"===I.attributes.type){if(s.value===I.attributes.xfaOn?Z.setAttribute("checked",!0):s.value===I.attributes.xfaOff&&Z.removeAttribute("checked"),"print"===x)break;Z.addEventListener("change",v=>{d.setValue(ne,{value:v.target.getAttribute(v.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==s.value&&Z.setAttribute("value",s.value),"print"===x)break;Z.addEventListener("input",v=>{d.setValue(ne,{value:v.target.value})})}break;case"select":if(null!==s.value)for(const v of I.children)v.attributes.value===s.value&&(v.attributes.selected=!0);Z.addEventListener("input",v=>{const S=v.target.options;d.setValue(ne,{value:-1===S.selectedIndex?"":S[S.selectedIndex].value})})}}static setAttributes({html:Z,element:ne,storage:I=null,intent:d,linkService:x}){const{attributes:s}=ne,v=Z instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=`${s.name}-${d}`);for(const[S,o]of Object.entries(s))if(null!=o&&"dataId"!==S)if("style"!==S)if("textContent"===S)Z.textContent=o;else if("class"===S)o.length&&Z.setAttribute(S,o.join(" "));else{if(v&&("href"===S||"newWindow"===S))continue;Z.setAttribute(S,o)}else Object.assign(Z.style,o);v&&x.addLinkAttributes(Z,s.href,s.newWindow),I&&s.dataId&&this.setupStorage(Z,s.dataId,ne,I)}static render(Z){var r;const ne=Z.annotationStorage,I=Z.linkService,d=Z.xfaHtml,x=Z.intent||"display",s=document.createElement(d.name);d.attributes&&this.setAttributes({html:s,element:d,intent:x,linkService:I});const v=[[d,-1,s]],S=Z.div;if(S.appendChild(s),Z.viewport){const n=`matrix(${Z.viewport.transform.join(",")})`;S.style.transform=n}"richText"!==x&&S.setAttribute("class","xfaLayer xfaFont");const o=[];for(;v.length>0;){const[n,c,C]=v[v.length-1];if(c+1===n.children.length){v.pop();continue}const f=n.children[++v[v.length-1][1]];if(null===f)continue;const{name:p}=f;if("#text"===p){const i=document.createTextNode(f.value);o.push(i),C.appendChild(i);continue}let e;if(e=(null==(r=null==f?void 0:f.attributes)?void 0:r.xmlns)?document.createElementNS(f.attributes.xmlns,p):document.createElement(p),C.appendChild(e),f.attributes&&this.setAttributes({html:e,element:f,storage:ne,intent:x,linkService:I}),f.children&&f.children.length>0)v.push([f,-1,e]);else if(f.value){const i=document.createTextNode(f.value);g.XfaText.shouldBuildText(p)&&o.push(i),e.appendChild(i)}}for(const n of S.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))n.setAttribute("readOnly",!0);return{textDivs:o}}static update(Z){const ne=`matrix(${Z.viewport.transform.join(",")})`;Z.div.style.transform=ne,Z.div.hidden=!1}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function c(C){const f=new n({textContent:C.textContent,textContentStream:C.textContentStream,container:C.container,viewport:C.viewport,textDivs:C.textDivs,textContentItemsStr:C.textContentItemsStr,enhanceTextSelection:C.enhanceTextSelection});return f._render(C.timeout),f};var g=J(1);const ne=new Map,I=/^\s+$/g;function x(C,f,p,e){const i=document.createElement("span"),_=C._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==f.str,hasEOL:f.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==f.str,hasEOL:f.hasEOL};C._textDivs.push(i);const m=g.Util.transform(C._viewport.transform,f.transform);let A=Math.atan2(m[1],m[0]);const T=p[f.fontName];T.vertical&&(A+=Math.PI/2);const k=Math.hypot(m[2],m[3]),F=k*function d(C,f){const p=ne.get(C);if(p)return p;f.save(),f.font=`30px ${C}`;const e=f.measureText("");let i=e.fontBoundingBoxAscent,_=Math.abs(e.fontBoundingBoxDescent);if(i){f.restore();const A=i/(i+_);return ne.set(C,A),A}f.strokeStyle="red",f.clearRect(0,0,30,30),f.strokeText("g",0,0);let m=f.getImageData(0,0,30,30).data;_=0;for(let A=m.length-1-3;A>=0;A-=4)if(m[A]>0){_=Math.ceil(A/4/30);break}f.clearRect(0,0,30,30),f.strokeText("A",0,30),m=f.getImageData(0,0,30,30).data,i=0;for(let A=0,T=m.length;A<T;A+=4)if(m[A]>0){i=30-Math.floor(A/4/30);break}if(f.restore(),i){const A=i/(i+_);return ne.set(C,A),A}return ne.set(C,.8),.8}(T.fontFamily,e);let B,H;0===A?(B=m[4],H=m[5]-F):(B=m[4]+F*Math.sin(A),H=m[5]-F*Math.cos(A)),i.style.left=`${B}px`,i.style.top=`${H}px`,i.style.fontSize=`${k}px`,i.style.fontFamily=T.fontFamily,i.setAttribute("role","presentation"),i.textContent=f.str,i.dir=f.dir,C._fontInspectorEnabled&&(i.dataset.fontName=f.fontName),0!==A&&(_.angle=A*(180/Math.PI));let X=!1;if(f.str.length>1||C._enhanceTextSelection&&I.test(f.str))X=!0;else if(" "!==f.str&&f.transform[0]!==f.transform[3]){const K=Math.abs(f.transform[0]),N=Math.abs(f.transform[3]);K!==N&&Math.max(K,N)/Math.min(K,N)>1.5&&(X=!0)}if(X&&(_.canvasWidth=T.vertical?f.height*C._viewport.scale:f.width*C._viewport.scale),C._textDivProperties.set(i,_),C._textContentStream&&C._layoutText(i),C._enhanceTextSelection&&_.hasText){let K=1,N=0;0!==A&&(K=Math.cos(A),N=Math.sin(A));const $=(T.vertical?f.height:f.width)*C._viewport.scale,ee=k;let se,he;0!==A?(se=[K,N,-N,K,B,H],he=g.Util.getAxialAlignedBoundingBox([0,0,$,ee],se)):he=[B,H,B+$,H+ee],C._bounds.push({left:he[0],top:he[1],right:he[2],bottom:he[3],div:i,size:[$,ee],m:se})}}function s(C){if(C._canceled)return;const f=C._textDivs,p=C._capability,e=f.length;if(e>1e5)return C._renderingDone=!0,void p.resolve();if(!C._textContentStream)for(let i=0;i<e;i++)C._layoutText(f[i]);C._renderingDone=!0,p.resolve()}function v(C,f,p){let e=0;for(let i=0;i<p;i++){const _=C[f++];_>0&&(e=e?Math.min(_,e):_)}return e}function r(C,f){f.sort(function(i,_){return i.x1-_.x1||i.index-_.index});const e=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of f){let _=0;for(;_<e.length&&e[_].end<=i.y1;)_++;let m=e.length-1;for(;m>=0&&e[m].start>=i.y2;)m--;let A,T,k,F,B=-1/0;for(k=_;k<=m;k++){let K;A=e[k],T=A.boundary,K=T.x2>i.x1?T.index>i.index?T.x1New:i.x1:void 0===T.x2New?(T.x2+i.x1)/2:T.x2New,K>B&&(B=K)}for(i.x1New=B,k=_;k<=m;k++)A=e[k],T=A.boundary,void 0===T.x2New?T.x2>i.x1?T.index>i.index&&(T.x2New=T.x2):T.x2New=B:T.x2New>B&&(T.x2New=Math.max(B,T.x2));const H=[];let X=null;for(k=_;k<=m;k++){A=e[k],T=A.boundary;const K=T.x2>i.x2?T:i;X===K?H[H.length-1].end=A.end:(H.push({start:A.start,end:A.end,boundary:K}),X=K)}for(e[_].start<i.y1&&(H[0].start=i.y1,H.unshift({start:e[_].start,end:i.y1,boundary:e[_].boundary})),i.y2<e[m].end&&(H[H.length-1].end=i.y2,H.push({start:i.y2,end:e[m].end,boundary:e[m].boundary})),k=_;k<=m;k++){if(A=e[k],T=A.boundary,void 0!==T.x2New)continue;let K=!1;for(F=_-1;!K&&F>=0&&e[F].start>=T.y1;F--)K=e[F].boundary===T;for(F=m+1;!K&&F<e.length&&e[F].end<=T.y2;F++)K=e[F].boundary===T;for(F=0;!K&&F<H.length;F++)K=H[F].boundary===T;K||(T.x2New=B)}Array.prototype.splice.apply(e,[_,m-_+1].concat(H))}for(const i of e){const _=i.boundary;void 0===_.x2New&&(_.x2New=Math.max(C,_.x2))}}class n{constructor({textContent:f,textContentStream:p,container:e,viewport:i,textDivs:_,textContentItemsStr:m,enhanceTextSelection:A}){var T;this._textContent=f,this._textContentStream=p,this._container=e,this._document=e.ownerDocument,this._viewport=i,this._textDivs=_||[],this._textContentItemsStr=m||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!(null==(T=globalThis.FontInspector)?void 0:T.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,g.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new g.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(f,p){for(let e=0,i=f.length;e<i;e++)if(void 0!==f[e].str)this._textContentItemsStr.push(f[e].str),x(this,f[e],p,this._layoutTextCtx);else if("beginMarkedContentProps"===f[e].type||"beginMarkedContent"===f[e].type){const _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==f[e].id&&this._container.setAttribute("id",`${f[e].id}`),_.appendChild(this._container)}else"endMarkedContent"===f[e].type&&(this._container=this._container.parentNode)}_layoutText(f){const p=this._textDivProperties.get(f);let e="";if(0!==p.canvasWidth&&p.hasText){const{fontSize:i,fontFamily:_}=f.style;(i!==this._layoutTextLastFontSize||_!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${_}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=_);const{width:m}=this._layoutTextCtx.measureText(f.textContent);if(m>0){const A=p.canvasWidth/m;this._enhanceTextSelection&&(p.scale=A),e=`scaleX(${A})`}}if(0!==p.angle&&(e=`rotate(${p.angle}deg) ${e}`),e.length>0&&(this._enhanceTextSelection&&(p.originalTransform=e),f.style.transform=e),p.hasText&&this._container.appendChild(f),p.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(f=0){const p=(0,g.createPromiseCapability)();let e=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=30,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),p.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const _=()=>{this._reader.read().then(({value:m,done:A})=>{A?p.resolve():(Object.assign(e,m.styles),this._processItems(m.items,e),_())},p.reject)};this._reader=this._textContentStream.getReader(),_()}}p.promise.then(()=>{e=null,f?this._renderTimer=setTimeout(()=>{s(this),this._renderTimer=null},f):s(this)},this._capability.reject)}expandTextDivs(f=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function S(C){const f=C._bounds,p=C._viewport,e=function o(C,f,p){const e=p.map(function(_,m){return{x1:_.left,y1:_.top,x2:_.right,y2:_.bottom,index:m,x1New:void 0,x2New:void 0}});r(C,e);const i=new Array(p.length);for(const _ of e)i[_.index]={left:_.x1New,top:0,right:_.x2New,bottom:0};p.map(function(_,m){const A=i[m],T=e[m];T.x1=_.top,T.y1=C-A.right,T.x2=_.bottom,T.y2=C-A.left,T.index=m,T.x1New=void 0,T.x2New=void 0}),r(f,e);for(const _ of e){const m=_.index;i[m].top=_.x1New,i[m].bottom=_.x2New}return i}(p.width,p.height,f);for(let i=0;i<e.length;i++){const _=f[i].div,m=C._textDivProperties.get(_);if(0===m.angle){m.paddingLeft=f[i].left-e[i].left,m.paddingTop=f[i].top-e[i].top,m.paddingRight=e[i].right-f[i].right,m.paddingBottom=e[i].bottom-f[i].bottom,C._textDivProperties.set(_,m);continue}const A=e[i],T=f[i],k=T.m,F=k[0],B=k[1],H=[[0,0],[0,T.size[1]],[T.size[0],0],T.size],X=new Float64Array(64);for(let N=0,$=H.length;N<$;N++){const ee=g.Util.applyTransform(H[N],k);X[N+0]=F&&(A.left-ee[0])/F,X[N+4]=B&&(A.top-ee[1])/B,X[N+8]=F&&(A.right-ee[0])/F,X[N+12]=B&&(A.bottom-ee[1])/B,X[N+16]=B&&(A.left-ee[0])/-B,X[N+20]=F&&(A.top-ee[1])/F,X[N+24]=B&&(A.right-ee[0])/-B,X[N+28]=F&&(A.bottom-ee[1])/F,X[N+32]=F&&(A.left-ee[0])/-F,X[N+36]=B&&(A.top-ee[1])/-B,X[N+40]=F&&(A.right-ee[0])/-F,X[N+44]=B&&(A.bottom-ee[1])/-B,X[N+48]=B&&(A.left-ee[0])/B,X[N+52]=F&&(A.top-ee[1])/-F,X[N+56]=B&&(A.right-ee[0])/B,X[N+60]=F&&(A.bottom-ee[1])/-F}const K=1+Math.min(Math.abs(F),Math.abs(B));m.paddingLeft=v(X,32,16)/K,m.paddingTop=v(X,48,16)/K,m.paddingRight=v(X,0,16)/K,m.paddingBottom=v(X,16,16)/K,C._textDivProperties.set(_,m)}}(this),this._bounds=null);const p=[],e=[];for(let i=0,_=this._textDivs.length;i<_;i++){const m=this._textDivs[i],A=this._textDivProperties.get(m);!A.hasText||(f?(p.length=0,e.length=0,A.originalTransform&&p.push(A.originalTransform),A.paddingTop>0?(e.push(`${A.paddingTop}px`),p.push(`translateY(${-A.paddingTop}px)`)):e.push(0),e.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),e.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(e.push(A.paddingLeft/A.scale+"px"),p.push(`translateX(${-A.paddingLeft/A.scale}px)`)):e.push(0),m.style.padding=e.join(" "),p.length&&(m.style.transform=p.join(" "))):(m.style.padding=null,m.style.transform=A.originalTransform))}}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var g=J(1),pe=J(5),re=J(3);let Z=class{constructor(){(0,g.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=Z;{let r=function(e){let i=[];const _=[];for(const m of e)"save"!==m.fn?"restore"===m.fn?i=_.pop():i.push(m):(i.push({fnId:92,fn:"group",items:[]}),_.push(i),i=i[i.length-1].items);return i},n=function(e){if(Number.isInteger(e))return e.toString();const i=e.toFixed(10);let _=i.length-1;if("0"!==i[_])return i;do{_--}while("0"===i[_]);return i.substring(0,"."===i[_]?_:_+1)},c=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${n(e[0])} ${n(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const i=180*Math.acos(e[0])/Math.PI;return`rotate(${n(i)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${n(e[4])} ${n(e[5])})`;return`matrix(${n(e[0])} ${n(e[1])} ${n(e[2])} ${n(e[3])} ${n(e[4])} ${n(e[5])})`};const ne={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/1999/xlink",x=["butt","round","square"],s=["miter","round","bevel"],v=function(e,i="",_=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!_)return URL.createObjectURL(new Blob([e],{type:i}));const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${i};base64,`;for(let T=0,k=e.length;T<k;T+=3){const F=255&e[T],B=255&e[T+1],H=255&e[T+2];A+=m[F>>2]+m[(3&F)<<4|B>>4]+m[T+1<k?(15&B)<<2|H>>6:64]+m[T+2<k?63&H:64]}return A},S=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),_=new Int32Array(256);for(let H=0;H<256;H++){let X=H;for(let K=0;K<8;K++)X=1&X?3988292384^X>>1&2147483647:X>>1&2147483647;_[H]=X}function A(H,X,K,N){let $=N;const ee=X.length;K[$]=ee>>24&255,K[$+1]=ee>>16&255,K[$+2]=ee>>8&255,K[$+3]=255&ee,$+=4,K[$]=255&H.charCodeAt(0),K[$+1]=255&H.charCodeAt(1),K[$+2]=255&H.charCodeAt(2),K[$+3]=255&H.charCodeAt(3),$+=4,K.set(X,$),$+=X.length;const se=function m(H,X,K){let N=-1;for(let $=X;$<K;$++)N=N>>>8^_[255&(N^H[$])];return-1^N}(K,N+4,$);K[$]=se>>24&255,K[$+1]=se>>16&255,K[$+2]=se>>8&255,K[$+3]=255&se}function F(H){let X=H.length;const K=65535,N=Math.ceil(X/K),$=new Uint8Array(2+X+5*N+4);let ee=0;$[ee++]=120,$[ee++]=156;let se=0;for(;X>K;)$[ee++]=0,$[ee++]=255,$[ee++]=255,$[ee++]=0,$[ee++]=0,$.set(H.subarray(se,se+K),ee),ee+=K,se+=K,X-=K;$[ee++]=1,$[ee++]=255&X,$[ee++]=X>>8&255,$[ee++]=255&~X,$[ee++]=(65535&~X)>>8&255,$.set(H.subarray(se),ee),ee+=H.length-se;const he=function T(H,X,K){let N=1,$=0;for(let ee=X;ee<K;++ee)N=(N+(255&H[ee]))%65521,$=($+N)%65521;return $<<16|N}(H,0,H.length);return $[ee++]=he>>24&255,$[ee++]=he>>16&255,$[ee++]=he>>8&255,$[ee++]=255&he,$}return function(X,K,N){return function B(H,X,K,N){const $=H.width,ee=H.height;let se,he,M;const a=H.data;switch(X){case g.ImageKind.GRAYSCALE_1BPP:he=0,se=1,M=$+7>>3;break;case g.ImageKind.RGB_24BPP:he=2,se=8,M=3*$;break;case g.ImageKind.RGBA_32BPP:he=6,se=8,M=4*$;break;default:throw new Error("invalid format")}const h=new Uint8Array((1+M)*ee);let t=0,l=0;for(let G=0;G<ee;++G)h[t++]=0,h.set(a.subarray(l,l+M),t),l+=M,t+=M;if(X===g.ImageKind.GRAYSCALE_1BPP&&N){t=0;for(let G=0;G<ee;G++){t++;for(let W=0;W<M;W++)h[t++]^=255}}const u=new Uint8Array([$>>24&255,$>>16&255,$>>8&255,255&$,ee>>24&255,ee>>16&255,ee>>8&255,255&ee,se,he,0,0,0]),y=function k(H){if(!re.isNodeJS)return F(H);try{let X;X=parseInt(process.versions.node)>=8?H:Buffer.from(H);const K=__webpack_require__(2258).deflateSync(X,{level:9});return K instanceof Uint8Array?K:new Uint8Array(K)}catch(X){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+X)}return F(H)}(h),E=new Uint8Array(e.length+36+u.length+y.length);let V=0;return E.set(e,V),V+=e.length,A("IHDR",u,E,V),V+=12+u.length,A("IDATA",y,E,V),V+=12+y.length,A("IEND",new Uint8Array(0),E,V),v(E,"image/png",K)}(X,void 0===X.kind?g.ImageKind.GRAYSCALE_1BPP:X.kind,K,N)}}();class o{constructor(){this.fontSizeScale=1,this.fontWeight=ne.fontWeight,this.fontSize=0,this.textMatrix=g.IDENTITY_MATRIX,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=g.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ne.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,_){this.x=i,this.y=_}}let C=0,f=0,p=0;L.SVGGraphics=Z=class{constructor(e,i,_=!1){this.svgFactory=new pe.DOMSVGFactory,this.current=new o,this.transformMatrix=g.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_,this._operatorIdMapping=[];for(const m in g.OPS)this._operatorIdMapping[g.OPS[m]]=m}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const i=e.fnArray,_=e.argsArray;for(let m=0,A=i.length;m<A;m++)if(i[m]===g.OPS.dependency)for(const T of _[m]){const k=T.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(B=>{k.get(T,B)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(e,i,_,m,A,T){this.transformMatrix=g.Util.transform(this.transformMatrix,[e,i,_,m,A,T]),this.tgrp=null}getSVG(e,i){this.viewport=i;const _=this._initialize(i);return this.loadDependencies(e).then(()=>(this.transformMatrix=g.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),_))}convertOpList(e){const i=this._operatorIdMapping,_=e.argsArray,m=e.fnArray,A=[];for(let T=0,k=m.length;T<k;T++){const F=m[T];A.push({fnId:F,fn:i[F],args:_[T]})}return r(A)}executeOpTree(e){for(const i of e){const _=i.fn,A=i.args;switch(0|i.fnId){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(A);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case g.OPS.setFont:this.setFont(A);break;case g.OPS.showText:case g.OPS.showSpacedText:this.showText(A[0]);break;case g.OPS.endText:this.endText();break;case g.OPS.moveText:this.moveText(A[0],A[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case g.OPS.setHScale:this.setHScale(A[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case g.OPS.setTextRise:this.setTextRise(A[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case g.OPS.setLineWidth:this.setLineWidth(A[0]);break;case g.OPS.setLineJoin:this.setLineJoin(A[0]);break;case g.OPS.setLineCap:this.setLineCap(A[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case g.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case g.OPS.setFillColorN:this.setFillColorN(A);break;case g.OPS.shadingFill:this.shadingFill(A[0]);break;case g.OPS.setDash:this.setDash(A[0],A[1]);break;case g.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case g.OPS.setFlatness:this.setFlatness(A[0]);break;case g.OPS.setGState:this.setGState(A[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case g.OPS.constructPath:this.constructPath(A[0],A[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,g.warn)(`Unimplemented operator ${_}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,i,_,m,A,T){const k=this.current;k.textMatrix=k.lineMatrix=[e,i,_,m,A,T],k.textMatrixScale=Math.hypot(e,i),k.x=k.lineX=0,k.y=k.lineY=0,k.xcoords=[],k.ycoords=[],k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${n(k.fontSize)}px`),k.tspan.setAttributeNS(null,"y",n(-k.y)),k.txtElement=this.svgFactory.createElement("svg:text"),k.txtElement.appendChild(k.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=g.IDENTITY_MATRIX,e.lineMatrix=g.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,i){const _=this.current;_.x=_.lineX+=e,_.y=_.lineY+=i,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${n(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",n(-_.y))}showText(e){const i=this.current,_=i.font,m=i.fontSize;if(0===m)return;const A=i.fontSizeScale,T=i.charSpacing,k=i.wordSpacing,F=i.fontDirection,B=i.textHScale*F,H=_.vertical,X=H?1:-1,K=_.defaultVMetrics,N=m*i.fontMatrix[0];let $=0;for(const he of e){if(null===he){$+=F*k;continue}if("number"==typeof he){$+=X*he*m/1e3;continue}const M=(he.isSpace?k:0)+T,a=he.fontChar;let h,t,u,l=he.width;if(H){let y;const b=he.vmetric||K;y=he.vmetric?b[1]:.5*l,y=-y*N,l=b?-b[0]:l,h=y/A,t=($+b[2]*N)/A}else h=$/A,t=0;(he.isInFont||_.missingFile)&&(i.xcoords.push(i.x+h),H&&i.ycoords.push(-i.y+t),i.tspan.textContent+=a),u=H?l*N-M*F:l*N+M*F,$+=u}i.tspan.setAttributeNS(null,"x",i.xcoords.map(n).join(" ")),i.tspan.setAttributeNS(null,"y",H?i.ycoords.map(n).join(" "):n(-i.y)),H?i.y-=$:i.x+=$*B,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${n(i.fontSize)}px`),i.fontStyle!==ne.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==ne.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const ee=i.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;ee===g.TextRenderingMode.FILL||ee===g.TextRenderingMode.FILL_STROKE?(i.fillColor!==ne.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ee===g.TextRenderingMode.STROKE||ee===g.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let se=i.textMatrix;0!==i.textRise&&(se=se.slice(),se[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${c(se)} scale(${n(B)}, -1)`),i.txtElement.setAttributeNS(I,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=v(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${i}); }\n`}setFont(e){const i=this.current,_=this.commonObjs.get(e[0]);let m=e[1];i.font=_,this.embedFonts&&!_.missingFile&&!this.embeddedFonts[_.loadedName]&&(this.addFontStyle(_),this.embeddedFonts[_.loadedName]=_),i.fontMatrix=_.fontMatrix||g.FONT_IDENTITY_MATRIX;let A="normal";_.black?A="900":_.bold&&(A="bold");const T=_.italic?"italic":"normal";m<0?(m=-m,i.fontDirection=-1):i.fontDirection=1,i.fontSize=m,i.fontFamily=_.loadedName,i.fontWeight=A,i.fontStyle=T,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",n(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const e=this.current;e.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=e.txtElement)?void 0:i.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=x[e]}setLineJoin(e){this.current.lineJoin=s[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,i,_){this.current.strokeColor=g.Util.makeHexColor(e,i,_)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,i,_){this.current.fillColor=g.Util.makeHexColor(e,i,_),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const i=this.viewport.width,_=this.viewport.height,m=g.Util.inverseTransform(this.transformMatrix),A=g.Util.applyTransform([0,0],m),T=g.Util.applyTransform([0,_],m),k=g.Util.applyTransform([i,0],m),F=g.Util.applyTransform([i,_],m),B=Math.min(A[0],T[0],k[0],F[0]),H=Math.min(A[1],T[1],k[1],F[1]),X=Math.max(A[0],T[0],k[0],F[0]),K=Math.max(A[1],T[1],k[1],F[1]),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",B),N.setAttributeNS(null,"y",H),N.setAttributeNS(null,"width",X-B),N.setAttributeNS(null,"height",K-H),N.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&N.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(N)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const i=e[1],_=e[2],m=e[3]||g.IDENTITY_MATRIX,[A,T,k,F]=e[4],B=e[5],H=e[6],X=e[7],K="shading"+p++,[N,$,ee,se]=g.Util.normalizeRect([...g.Util.applyTransform([A,T],m),...g.Util.applyTransform([k,F],m)]),[he,M]=g.Util.singularValueDecompose2dScale(m),a=B*he,h=H*M,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",K),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",a),t.setAttributeNS(null,"height",h),t.setAttributeNS(null,"x",`${N}`),t.setAttributeNS(null,"y",`${$}`);const l=this.svg,u=this.transformMatrix,y=this.current.fillColor,b=this.current.strokeColor,E=this.svgFactory.create(ee-N,se-$);if(this.svg=E,this.transformMatrix=m,2===X){const V=g.Util.makeHexColor(...i);this.current.fillColor=V,this.current.strokeColor=V}return this.executeOpTree(this.convertOpList(_)),this.svg=l,this.transformMatrix=u,this.current.fillColor=y,this.current.strokeColor=b,t.appendChild(E.childNodes[0]),this.defs.appendChild(t),`url(#${K})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const i="shading"+p++,_=e[3];let m;switch(e[1]){case"axial":const A=e[4],T=e[5];m=this.svgFactory.createElement("svg:linearGradient"),m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"x1",A[0]),m.setAttributeNS(null,"y1",A[1]),m.setAttributeNS(null,"x2",T[0]),m.setAttributeNS(null,"y2",T[1]);break;case"radial":const k=e[4],F=e[5],B=e[6],H=e[7];m=this.svgFactory.createElement("svg:radialGradient"),m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"cx",F[0]),m.setAttributeNS(null,"cy",F[1]),m.setAttributeNS(null,"r",H),m.setAttributeNS(null,"fx",k[0]),m.setAttributeNS(null,"fy",k[1]),m.setAttributeNS(null,"fr",B);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const A of _){const T=this.svgFactory.createElement("svg:stop");T.setAttributeNS(null,"offset",A[0]),T.setAttributeNS(null,"stop-color",A[1]),m.appendChild(T)}return this.defs.appendChild(m),`url(#${i})`;case"Mesh":return(0,g.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,i){this.current.dashArray=e,this.current.dashPhase=i}constructPath(e,i){const _=this.current;let m=_.x,A=_.y,T=[],k=0;for(const F of e)switch(0|F){case g.OPS.rectangle:m=i[k++],A=i[k++];const X=m+i[k++],K=A+i[k++];T.push("M",n(m),n(A),"L",n(X),n(A),"L",n(X),n(K),"L",n(m),n(K),"Z");break;case g.OPS.moveTo:m=i[k++],A=i[k++],T.push("M",n(m),n(A));break;case g.OPS.lineTo:m=i[k++],A=i[k++],T.push("L",n(m),n(A));break;case g.OPS.curveTo:m=i[k+4],A=i[k+5],T.push("C",n(i[k]),n(i[k+1]),n(i[k+2]),n(i[k+3]),n(m),n(A)),k+=6;break;case g.OPS.curveTo2:T.push("C",n(m),n(A),n(i[k]),n(i[k+1]),n(i[k+2]),n(i[k+3])),m=i[k+2],A=i[k+3],k+=4;break;case g.OPS.curveTo3:m=i[k+2],A=i[k+3],T.push("C",n(i[k]),n(i[k+1]),n(m),n(A),n(m),n(A)),k+=4;break;case g.OPS.closePath:T.push("Z")}T=T.join(" "),_.path&&e.length>0&&e[0]!==g.OPS.rectangle&&e[0]!==g.OPS.moveTo?T=_.path.getAttributeNS(null,"d")+T:(_.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(_.path)),_.path.setAttributeNS(null,"d",T),_.path.setAttributeNS(null,"fill","none"),_.element=_.path,_.setCurrentPoint(m,A)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const i="clippath"+C++,_=this.svgFactory.createElement("svg:clipPath");_.setAttributeNS(null,"id",i),_.setAttributeNS(null,"transform",c(this.transformMatrix));const m=e.element.cloneNode(!0);if(m.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,_.appendChild(m),this.defs.appendChild(_),e.activeClipUrl){e.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;_.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const i=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",i)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,_]of e)switch(i){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_);break;case"CA":this.setStrokeAlpha(_);break;case"ca":this.setFillAlpha(_);break;default:(0,g.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,i=1){const _=this.current;let m=_.dashArray;1!==i&&m.length>0&&(m=m.map(function(A){return i*A})),e.setAttributeNS(null,"stroke",_.strokeColor),e.setAttributeNS(null,"stroke-opacity",_.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",n(_.miterLimit)),e.setAttributeNS(null,"stroke-linecap",_.lineCap),e.setAttributeNS(null,"stroke-linejoin",_.lineJoin),e.setAttributeNS(null,"stroke-width",n(i*_.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",m.map(n).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",n(i*_.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);i?this.paintInlineImageXObject(i):(0,g.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,i){const _=e.width,m=e.height,A=S(e,this.forceDataSchema,!!i),T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y","0"),T.setAttributeNS(null,"width",n(_)),T.setAttributeNS(null,"height",n(m)),this.current.element=T,this.clip("nonzero");const k=this.svgFactory.createElement("svg:image");k.setAttributeNS(d,"xlink:href",A),k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y",n(-m)),k.setAttributeNS(null,"width",n(_)+"px"),k.setAttributeNS(null,"height",n(m)+"px"),k.setAttributeNS(null,"transform",`scale(${n(1/_)} ${n(-1/m)})`),i?i.appendChild(k):this._ensureTransformGroup().appendChild(k)}paintImageMaskXObject(e){const i=this.current,_=e.width,m=e.height,A=i.fillColor;i.maskId="mask"+f++;const T=this.svgFactory.createElement("svg:mask");T.setAttributeNS(null,"id",i.maskId);const k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",n(_)),k.setAttributeNS(null,"height",n(m)),k.setAttributeNS(null,"fill",A),k.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(T),this._ensureTransformGroup().appendChild(k),this.paintInlineImageXObject(e,T)}paintFormXObjectBegin(e,i){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i){const _=i[2]-i[0],m=i[3]-i[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",i[0]),A.setAttributeNS(null,"y",i[1]),A.setAttributeNS(null,"width",n(_)),A.setAttributeNS(null,"height",n(m)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const i=this.svgFactory.create(e.width,e.height),_=this.svgFactory.createElement("svg:defs");i.appendChild(_),this.defs=_;const m=this.svgFactory.createElement("svg:g");return m.setAttributeNS(null,"transform",c(e.transform)),i.appendChild(m),this.svg=m,i}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var g=J(1),pe=J(26);const re=__webpack_require__(172),Z=__webpack_require__(2001),ne=__webpack_require__(3779),I=__webpack_require__(6558),d=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class s{constructor(p){this.source=p,this.url=function x(f){const p=I.parse(f);return"file:"===p.protocol||p.host?p:/^[a-z]:[/\\]/i.test(f)?I.parse(`file:///${f}`):(p.host||(p.protocol="file:"),p)}(p.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&p.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var p,e;return null!=(e=null==(p=this._fullRequestReader)?void 0:p._loaded)?e:0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new c(this):new r(this),this._fullRequestReader}getRangeReader(p,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new C(this,p,e):new n(this,p,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(p){this._fullRequestReader&&this._fullRequestReader.cancel(p);for(const e of this._rangeRequestReaders.slice(0))e.cancel(p)}};class v{constructor(p){this._url=p.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=p.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,g.createPromiseCapability)(),this._headersCapability=(0,g.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){if(yield p._readCapability.promise,p._done)return{value:void 0,done:!0};if(p._storedError)throw p._storedError;const e=p._readableStream.read();return null===e?(p._readCapability=(0,g.createPromiseCapability)(),p.read()):(p._loaded+=e.length,p.onProgress&&p.onProgress({loaded:p._loaded,total:p._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(p){this._readableStream?this._readableStream.destroy(p):this._error(p)}_error(p){this._storedError=p,this._readCapability.resolve()}_setReadableStream(p){this._readableStream=p,p.on("readable",()=>{this._readCapability.resolve()}),p.on("end",()=>{p.destroy(),this._done=!0,this._readCapability.resolve()}),p.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new g.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(p){this._url=p.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,g.createPromiseCapability)(),this._isStreamingSupported=!p.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){if(yield p._readCapability.promise,p._done)return{value:void 0,done:!0};if(p._storedError)throw p._storedError;const e=p._readableStream.read();return null===e?(p._readCapability=(0,g.createPromiseCapability)(),p.read()):(p._loaded+=e.length,p.onProgress&&p.onProgress({loaded:p._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(p){this._readableStream?this._readableStream.destroy(p):this._error(p)}_error(p){this._storedError=p,this._readCapability.resolve()}_setReadableStream(p){this._readableStream=p,p.on("readable",()=>{this._readCapability.resolve()}),p.on("end",()=>{p.destroy(),this._done=!0,this._readCapability.resolve()}),p.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(f,p){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:p}}class r extends v{constructor(p){super(p);const e=i=>{if(404===i.statusCode){const T=new g.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=T,void this._headersCapability.reject(T)}this._headersCapability.resolve(),this._setReadableStream(i);const _=T=>this._readableStream.headers[T.toLowerCase()],{allowRangeRequests:m,suggestedLength:A}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:p.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=A||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(_)};this._request=null,this._request="http:"===this._url.protocol?Z.request(o(this._url,p.httpHeaders),e):ne.request(o(this._url,p.httpHeaders),e),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class n extends S{constructor(p,e,i){super(p),this._httpHeaders={};for(const m in p.httpHeaders){const A=p.httpHeaders[m];void 0!==A&&(this._httpHeaders[m]=A)}this._httpHeaders.Range=`bytes=${e}-${i-1}`;const _=m=>{if(404!==m.statusCode)this._setReadableStream(m);else{const A=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?Z.request(o(this._url,this._httpHeaders),_):ne.request(o(this._url,this._httpHeaders),_),this._request.on("error",m=>{this._storedError=m}),this._request.end()}}class c extends v{constructor(p){super(p);let e=decodeURIComponent(this._url.path);d.test(this._url.href)&&(e=e.replace(/^\//,"")),re.lstat(e,(i,_)=>{if(i)return"ENOENT"===i.code&&(i=new g.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=_.size,this._setReadableStream(re.createReadStream(e)),this._headersCapability.resolve()})}}class C extends S{constructor(p,e,i){super(p);let _=decodeURIComponent(this._url.path);d.test(this._url.href)&&(_=_.replace(/^\//,"")),this._setReadableStream(re.createReadStream(_,{start:e,end:i-1}))}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function I(x,s){return 404===x||0===x&&s.startsWith("file:")?new g.MissingPDFException('Missing PDF "'+s+'".'):new g.UnexpectedResponseException(`Unexpected server response (${x}) while retrieving PDF "${s}".`,x)},L.extractFilenameFromHeader=function ne(x){const s=x("Content-Disposition");if(s){let v=(0,pe.getFilenameFromContentDispositionHeader)(s);if(v.includes("%"))try{v=decodeURIComponent(v)}catch(S){}if((0,re.isPdfFile)(v))return v}return null},L.validateRangeRequestCapabilities=function Z({getResponseHeader:x,isHttp:s,rangeChunkSize:v,disableRange:S}){const o={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(x("Content-Length"),10);return!Number.isInteger(r)||(o.suggestedLength=r,r<=2*v)||S||!s||"bytes"!==x("Accept-Ranges")||"identity"!==(x("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},L.validateResponseStatus=function d(x){return 200===x||206===x};var g=J(1),pe=J(27),re=J(5)},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function pe(re){let Z=!0,ne=I("filename\\*","i").exec(re);if(ne){ne=ne[1];let r=v(ne);return r=unescape(r),r=S(r),r=o(r),x(r)}if(ne=function s(r){const n=[];let c;const C=I("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(c=C.exec(r));){let[,p,e,i]=c;if(p=parseInt(p,10),p in n){if(0===p)break}else n[p]=[e,i]}const f=[];for(let p=0;p<n.length&&p in n;++p){let[e,i]=n[p];i=v(i),e&&(i=unescape(i),0===p&&(i=S(i))),f.push(i)}return f.join("")}(re),ne)return x(o(ne));if(ne=I("filename","i").exec(re),ne){ne=ne[1];let r=v(ne);return r=o(r),x(r)}function I(r,n){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',n)}function d(r,n){if(r){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const c=new TextDecoder(r,{fatal:!0}),C=(0,g.stringToBytes)(n);n=c.decode(C),Z=!1}catch(c){}}return n}function x(r){return Z&&/[\x80-\xff]/.test(r)&&(r=d("utf-8",r),Z&&(r=d("iso-8859-1",r))),r}function v(r){if(r.startsWith('"')){const n=r.slice(1).split('\\"');for(let c=0;c<n.length;++c){const C=n[c].indexOf('"');-1!==C&&(n[c]=n[c].slice(0,C),n.length=c+1),n[c]=n[c].replace(/\\(.)/g,"$1")}r=n.join('"')}return r}function S(r){const n=r.indexOf("'");return-1===n?r:d(r.slice(0,n),r.slice(n+1).replace(/^[^']*'/,""))}function o(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(n,c,C,f){if("q"===C||"Q"===C)return d(c,f=(f=f.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(p,e){return String.fromCharCode(parseInt(e,16))}));try{f=atob(f)}catch(p){}return d(c,f)})}return""};var g=J(1)},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var g=J(1),pe=J(26);class I{constructor(S,o={}){this.url=S,this.isHttp=/^https?:/i.test(S),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.getXhr=o.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(S,o,r){const n={begin:S,end:o};for(const c in r)n[c]=r[c];return this.request(n)}requestFull(S){return this.request(S)}request(S){const o=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const c in this.httpHeaders){const C=this.httpHeaders[c];void 0!==C&&o.setRequestHeader(c,C)}return this.isHttp&&"begin"in S&&"end"in S?(o.setRequestHeader("Range",`bytes=${S.begin}-${S.end-1}`),n.expectedStatus=206):n.expectedStatus=200,o.responseType="arraybuffer",S.onError&&(o.onerror=function(c){S.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,r),o.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=S.onHeadersReceived,n.onDone=S.onDone,n.onError=S.onError,n.onProgress=S.onProgress,o.send(null),r}onProgress(S,o){var n;const r=this.pendingRequests[S];!r||null==(n=r.onProgress)||n.call(r,o)}onStateChange(S,o){var p,e,i;const r=this.pendingRequests[S];if(!r)return;const n=r.xhr;if(n.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==n.readyState||!(S in this.pendingRequests))return;if(delete this.pendingRequests[S],0===n.status&&this.isHttp)return void(null==(p=r.onError)||p.call(r,n.status));const c=n.status||200;if((200!==c||206!==r.expectedStatus)&&c!==r.expectedStatus)return void(null==(e=r.onError)||e.call(r,n.status));const f=function ne(v){const S=v.response;return"string"!=typeof S?S:(0,g.stringToBytes)(S).buffer}(n);if(206===c){const _=n.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);r.onDone({begin:parseInt(m[1],10),chunk:f})}else f?r.onDone({begin:0,chunk:f}):null==(i=r.onError)||i.call(r,n.status)}getRequestXhr(S){return this.pendingRequests[S].xhr}isPendingRequest(S){return S in this.pendingRequests}abortRequest(S){const o=this.pendingRequests[S].xhr;delete this.pendingRequests[S],o.abort()}}L.PDFNetworkStream=class d{constructor(S){this._source=S,this._manager=new I(S.url,{httpHeaders:S.httpHeaders,withCredentials:S.withCredentials}),this._rangeChunkSize=S.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(S){const o=this._rangeRequestReaders.indexOf(S);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._manager,this._source),this._fullRequestReader}getRangeReader(S,o){const r=new s(this._manager,S,o);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(S){var o;null==(o=this._fullRequestReader)||o.cancel(S);for(const r of this._rangeRequestReaders.slice(0))r.cancel(S)}};class x{constructor(S,o){this._manager=S;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=S.requestFull(r),this._headersReceivedCapability=(0,g.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const S=this._fullRequestId,o=this._manager.getRequestXhr(S),r=C=>o.getResponseHeader(C),{allowRangeRequests:n,suggestedLength:c}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(S),this._headersReceivedCapability.resolve()}_onDone(S){if(S&&(this._requests.length>0?this._requests.shift().resolve({value:S.chunk,done:!1}):this._cachedChunks.push(S.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(S){this._storedError=(0,pe.createResponseStatusError)(S,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(S){var o;null==(o=this.onProgress)||o.call(this,{loaded:S.loaded,total:S.lengthComputable?S.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var S=this;return _asyncToGenerator(function*(){if(S._storedError)throw S._storedError;if(S._cachedChunks.length>0)return{value:S._cachedChunks.shift(),done:!1};if(S._done)return{value:void 0,done:!0};const o=(0,g.createPromiseCapability)();return S._requests.push(o),o.promise})()}cancel(S){this._done=!0,this._headersReceivedCapability.reject(S);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(S,o,r){this._manager=S;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._requestId=S.requestRange(o,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var S;null==(S=this.onClosed)||S.call(this,this)}_onDone(S){const o=S.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(S){this._storedError=(0,pe.createResponseStatusError)(S,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(S){var o;this.isStreamingSupported||null==(o=this.onProgress)||o.call(this,{loaded:S.loaded})}get isStreamingSupported(){return!1}read(){var S=this;return _asyncToGenerator(function*(){if(S._storedError)throw S._storedError;if(null!==S._queuedChunk){const r=S._queuedChunk;return S._queuedChunk=null,{value:r,done:!1}}if(S._done)return{value:void 0,done:!0};const o=(0,g.createPromiseCapability)();return S._requests.push(o),o.promise})()}cancel(S){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(be,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var g=J(1),pe=J(26);function re(x,s,v){return{method:"GET",headers:x,signal:null==v?void 0:v.signal,mode:"cors",credentials:s?"include":"same-origin",redirect:"follow"}}function Z(x){const s=new Headers;for(const v in x){const S=x[v];void 0!==S&&s.append(v,S)}return s}L.PDFFetchStream=class ne{constructor(s){this.source=s,this.isHttp=/^https?:/i.test(s.url),this.httpHeaders=this.isHttp&&s.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var s,v;return null!=(v=null==(s=this._fullRequestReader)?void 0:s._loaded)?v:0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I(this),this._fullRequestReader}getRangeReader(s,v){if(v<=this._progressiveDataLength)return null;const S=new d(this,s,v);return this._rangeRequestReaders.push(S),S}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const v of this._rangeRequestReaders.slice(0))v.cancel(s)}};class I{constructor(s){this._stream=s,this._reader=null,this._loaded=0,this._filename=null;const v=s.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=(0,g.createPromiseCapability)(),this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=Z(this._stream.httpHeaders);const S=v.url;fetch(S,re(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,pe.validateResponseStatus)(o.status))throw(0,pe.createResponseStatusError)(o.status,S);this._reader=o.body.getReader(),this._headersCapability.resolve();const r=C=>o.headers.get(C),{allowRangeRequests:n,suggestedLength:c}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n,this._contentLength=c||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new g.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._headersCapability.promise;const{value:v,done:S}=yield s._reader.read();return S?{value:v,done:S}:(s._loaded+=v.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded,total:s._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}class d{constructor(s,v,S){this._stream=s,this._reader=null,this._loaded=0;const o=s.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,g.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=Z(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${S-1}`);const r=o.url;fetch(r,re(this._headers,this._withCredentials,this._abortController)).then(n=>{if(!(0,pe.validateResponseStatus)(n.status))throw(0,pe.createResponseStatusError)(n.status,r);this._readCapability.resolve(),this._reader=n.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._readCapability.promise;const{value:v,done:S}=yield s._reader.read();return S?{value:v,done:S}:(s._loaded+=v.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(be){var L=__webpack_module_cache__[be];if(void 0!==L)return L.exports;var J=__webpack_module_cache__[be]={exports:{}};return __webpack_modules__[be](J,J.exports,__w_pdfjs_require__),J.exports}var __webpack_exports__={};return(()=>{var be=__webpack_exports__;Object.defineProperty(be,"__esModule",{value:!0}),Object.defineProperty(be,"AnnotationLayer",{enumerable:!0,get:function(){return pe.AnnotationLayer}}),Object.defineProperty(be,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(be,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(be,"GlobalWorkerOptions",{enumerable:!0,get:function(){return re.GlobalWorkerOptions}}),Object.defineProperty(be,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(be,"LoopbackPort",{enumerable:!0,get:function(){return J.LoopbackPort}}),Object.defineProperty(be,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(be,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(be,"PDFDataRangeTransport",{enumerable:!0,get:function(){return J.PDFDataRangeTransport}}),Object.defineProperty(be,"PDFDateString",{enumerable:!0,get:function(){return g.PDFDateString}}),Object.defineProperty(be,"PDFWorker",{enumerable:!0,get:function(){return J.PDFWorker}}),Object.defineProperty(be,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(be,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(be,"PixelsPerInch",{enumerable:!0,get:function(){return g.PixelsPerInch}}),Object.defineProperty(be,"RenderingCancelledException",{enumerable:!0,get:function(){return g.RenderingCancelledException}}),Object.defineProperty(be,"SVGGraphics",{enumerable:!0,get:function(){return I.SVGGraphics}}),Object.defineProperty(be,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(be,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(be,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(be,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(be,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(be,"build",{enumerable:!0,get:function(){return J.build}}),Object.defineProperty(be,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(be,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(be,"getDocument",{enumerable:!0,get:function(){return J.getDocument}}),Object.defineProperty(be,"getFilenameFromUrl",{enumerable:!0,get:function(){return g.getFilenameFromUrl}}),Object.defineProperty(be,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return g.getPdfFilenameFromUrl}}),Object.defineProperty(be,"getXfaPageViewport",{enumerable:!0,get:function(){return g.getXfaPageViewport}}),Object.defineProperty(be,"isPdfFile",{enumerable:!0,get:function(){return g.isPdfFile}}),Object.defineProperty(be,"loadScript",{enumerable:!0,get:function(){return g.loadScript}}),Object.defineProperty(be,"renderTextLayer",{enumerable:!0,get:function(){return ne.renderTextLayer}}),Object.defineProperty(be,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(be,"version",{enumerable:!0,get:function(){return J.version}});var L=__w_pdfjs_require__(1),J=__w_pdfjs_require__(4),g=__w_pdfjs_require__(5),pe=__w_pdfjs_require__(20),re=__w_pdfjs_require__(13),Z=__w_pdfjs_require__(3),ne=__w_pdfjs_require__(23),I=__w_pdfjs_require__(24),d=__w_pdfjs_require__(22);if(Z.isNodeJS){const{PDFNodeStream:v}=__w_pdfjs_require__(25);(0,J.setPDFNetworkStreamFactory)(S=>new v(S))}else{const{PDFNetworkStream:v}=__w_pdfjs_require__(28),{PDFFetchStream:S}=__w_pdfjs_require__(29);(0,J.setPDFNetworkStreamFactory)(o=>(0,g.isValidFetchUrl)(o.url)?new S(o):new v(o))}})(),__webpack_exports__})(),module.exports=J()},2813:function(be,L,J){var Z,g=J(8926).default;Z=()=>(()=>{"use strict";var pe=[,(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DefaultXfaLayerFactory=d.DefaultTextLayerFactory=d.DefaultStructTreeLayerFactory=d.DefaultAnnotationLayerFactory=void 0;var s=x(2),v=x(4),S=x(5),o=x(7),r=x(8),n=x(9);d.DefaultAnnotationLayerFactory=class c{createAnnotationLayerBuilder(i,_,m=null,A="",T=!0,k=v.NullL10n,F=!1,B=null,H=null,X=null,K=null){return new s.AnnotationLayerBuilder({pageDiv:i,pdfPage:_,imageResourcesPath:A,renderForms:T,linkService:new S.SimpleLinkService,l10n:k,annotationStorage:m,enableScripting:F,hasJSActionsPromise:B,fieldObjectsPromise:X,mouseState:H,annotationCanvasMap:K})}},d.DefaultStructTreeLayerFactory=class C{createStructTreeLayerBuilder(i){return new o.StructTreeLayerBuilder({pdfPage:i})}},d.DefaultTextLayerFactory=class f{createTextLayerBuilder(i,_,m,A=!1,T,k){return new r.TextLayerBuilder({textLayerDiv:i,pageIndex:_,viewport:m,enhanceTextSelection:A,eventBus:T,highlighter:k})}},d.DefaultXfaLayerFactory=class p{createXfaLayerBuilder(i,_,m=null,A=null){return new n.XfaLayerBuilder({pageDiv:i,pdfPage:_,annotationStorage:m,linkService:new S.SimpleLinkService,xfaHtml:A})}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayerBuilder=void 0;var s=x(3),v=x(4);d.AnnotationLayerBuilder=class S{constructor({pageDiv:r,pdfPage:n,linkService:c,downloadManager:C,annotationStorage:f=null,imageResourcesPath:p="",renderForms:e=!0,l10n:i=v.NullL10n,enableScripting:_=!1,hasJSActionsPromise:m=null,fieldObjectsPromise:A=null,mouseState:T=null,annotationCanvasMap:k=null}){this.pageDiv=r,this.pdfPage=n,this.linkService=c,this.downloadManager=C,this.imageResourcesPath=p,this.renderForms=e,this.l10n=i,this.annotationStorage=f,this.enableScripting=_,this._hasJSActionsPromise=m,this._fieldObjectsPromise=A,this._mouseState=T,this._annotationCanvasMap=k,this.div=null,this._cancelled=!1}render(r,n="display"){var c=this;return g(function*(){const[C,f=!1,p=null]=yield Promise.all([c.pdfPage.getAnnotations({intent:n}),c._hasJSActionsPromise,c._fieldObjectsPromise]);if(c._cancelled||0===C.length)return;const e={viewport:r.clone({dontFlip:!0}),div:c.div,annotations:C,page:c.pdfPage,imageResourcesPath:c.imageResourcesPath,renderForms:c.renderForms,linkService:c.linkService,downloadManager:c.downloadManager,annotationStorage:c.annotationStorage,enableScripting:c.enableScripting,hasJSActions:f,fieldObjects:p,mouseState:c._mouseState,annotationCanvasMap:c._annotationCanvasMap};c.div?s.AnnotationLayer.update(e):(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),e.div=c.div,s.AnnotationLayer.render(e),c.l10n.translate(c.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},I=>{let d;d="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:J(6036),I.exports=d},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.fixupLangCode=function S(n){return v[null==n?void 0:n.toLowerCase()]||n},d.getL10nFallback=s;const x={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function s(n,c){switch(n){case"find_match_count":n=`find_match_count[${1===c.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===c.limit?"one":"other"}]`}return x[n]||""}const v={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};d.NullL10n={getLanguage:()=>g(function*(){return"en-us"})(),getDirection:()=>g(function*(){return"ltr"})(),get:(n,c=null,C=s(n,c))=>g(function*(){return function o(n,c){return c?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(C,f)=>f in c?c[f]:"{{"+f+"}}"):n}(C,c)})(),translate:n=>g(function*(){})()}},(I,d,x)=>{var c,C,st,p,At;Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleLinkService=d.PDFLinkService=d.LinkTarget=void 0;var s=x(6);const S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(_,{url:m,target:A,rel:T,enabled:k=!0}={}){if(!m||"string"!=typeof m)throw new Error('A valid "url" parameter must provided.');const F=(0,s.removeNullCharacters)(m);k?_.href=_.title=F:(_.href="",_.title=`Disabled: ${F}`,_.onclick=()=>!1);let B="";switch(A){case S.NONE:break;case S.SELF:B="_self";break;case S.BLANK:B="_blank";break;case S.PARENT:B="_parent";break;case S.TOP:B="_top"}_.target=B,_.rel="string"==typeof T?T:"noopener noreferrer nofollow"}d.LinkTarget=S;const i=class{constructor({eventBus:m,externalLinkTarget:A=null,externalLinkRel:T=null,ignoreDestinationZoom:k=!1}={}){Me(this,C),Me(this,c,new Map),this.eventBus=m,this.externalLinkTarget=A,this.externalLinkRel=T,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=k,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(m,A=null){this.baseUrl=A,this.pdfDocument=m,we(this,c).clear()}setViewer(m){this.pdfViewer=m}setHistory(m){this.pdfHistory=m}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(m){this.pdfViewer.currentPageNumber=m}get rotation(){return this.pdfViewer.pagesRotation}set rotation(m){this.pdfViewer.pagesRotation=m}goToDestination(m){var A=this;return g(function*(){var F;if(!A.pdfDocument)return;let T,k;"string"==typeof m?(T=m,k=yield A.pdfDocument.getDestination(m)):(T=null,k=yield m),Array.isArray(k)?Ee(F=A,C,st).call(F,m,T,k):console.error(`PDFLinkService.goToDestination: "${k}" is not a valid destination array, for dest="${m}".`)})()}goToPage(m){if(!this.pdfDocument)return;const A="string"==typeof m&&this.pdfViewer.pageLabelToPageNumber(m)||0|m;Number.isInteger(A)&&A>0&&A<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(A)),this.pdfViewer.scrollPageIntoView({pageNumber:A})):console.error(`PDFLinkService.goToPage: "${m}" is not a valid page.`)}addLinkAttributes(m,A,T=!1){o(m,{url:A,target:T?S.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(m){if("string"==typeof m){if(m.length>0)return this.getAnchorUrl("#"+escape(m))}else if(Array.isArray(m)){const A=JSON.stringify(m);if(A.length>0)return this.getAnchorUrl("#"+escape(A))}return this.getAnchorUrl("")}getAnchorUrl(m){return(this.baseUrl||"")+m}setHash(m){var k;if(!this.pdfDocument)return;let A,T;if(m.includes("=")){const F=(0,s.parseQueryString)(m);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(A=0|F.get("page")||1),F.has("zoom")){const B=F.get("zoom").split(","),H=B[0],X=parseFloat(H);H.includes("Fit")?"Fit"===H||"FitB"===H?T=[null,{name:H}]:"FitH"===H||"FitBH"===H||"FitV"===H||"FitBV"===H?T=[null,{name:H},B.length>1?0|B[1]:null]:"FitR"===H?5!==B.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):T=[null,{name:H},0|B[1],0|B[2],0|B[3],0|B[4]]:console.error(`PDFLinkService.setHash: "${H}" is not a valid zoom value.`):T=[null,{name:"XYZ"},B.length>1?0|B[1]:null,B.length>2?0|B[2]:null,X?X/100:H]}T?this.pdfViewer.scrollPageIntoView({pageNumber:A||this.page,destArray:T,allowNegativeOffset:!0}):A&&(this.page=A),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{T=unescape(m);try{T=JSON.parse(T),Array.isArray(T)||(T=T.toString())}catch(F){}if("string"==typeof T||Ee(k=i,p,At).call(k,T))return void this.goToDestination(T);console.error(`PDFLinkService.setHash: "${unescape(m)}" is not a valid destination.`)}}executeNamedAction(m){var A,T;switch(m){case"GoBack":null==(A=this.pdfHistory)||A.back();break;case"GoForward":null==(T=this.pdfHistory)||T.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:m})}cachePageRef(m,A){if(!A)return;const T=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;we(this,c).set(T,m)}_cachedPageNumber(m){if(!m)return null;const A=0===m.gen?`${m.num}R`:`${m.num}R${m.gen}`;return we(this,c).get(A)||null}isPageVisible(m){return this.pdfViewer.isPageVisible(m)}isPageCached(m){return this.pdfViewer.isPageCached(m)}};let r=i;c=new WeakMap,C=new WeakSet,st=function(m,A=null,T){const k=T[0];let F;if("object"==typeof k&&null!==k){if(F=this._cachedPageNumber(k),!F)return void this.pdfDocument.getPageIndex(k).then(B=>{this.cachePageRef(B+1,k),Ee(this,C,st).call(this,m,A,T)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid page reference, for dest="${m}".`)})}else{if(!Number.isInteger(k))return void console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid destination reference, for dest="${m}".`);F=k+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${m}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:A,explicitDest:T,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:T,ignoreDestinationZoom:this._ignoreDestinationZoom}))},p=new WeakSet,At=function(m){if(!Array.isArray(m))return!1;const A=m.length;if(A<2)return!1;const T=m[0];if(!("object"==typeof T&&Number.isInteger(T.num)&&Number.isInteger(T.gen)||Number.isInteger(T)&&T>=0))return!1;const k=m[1];if("object"!=typeof k||"string"!=typeof k.name)return!1;let F=!0;switch(k.name){case"XYZ":if(5!==A)return!1;break;case"Fit":case"FitB":return 2===A;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==A)return!1;break;case"FitR":if(6!==A)return!1;F=!1;break;default:return!1}for(let B=2;B<A;B++){const H=m[B];if(!("number"==typeof H||F&&null===H))return!1}return!0},Me(r,p),d.PDFLinkService=r,d.SimpleLinkService=class n{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(m){}get rotation(){return 0}set rotation(m){}goToDestination(m){return g(function*(){})()}goToPage(m){}addLinkAttributes(m,A,T=!1){o(m,{url:A,enabled:this.externalLinkEnabled})}getDestinationHash(m){return"#"}getAnchorUrl(m){return"#"}setHash(m){}executeNamedAction(m){}cachePageRef(m,A){}isPageVisible(m){return!0}isPageCached(m){return!0}}},(I,d)=>{var de,yt;Object.defineProperty(d,"__esModule",{value:!0}),d.animationStarted=d.VERTICAL_PADDING=d.UNKNOWN_SCALE=d.TextLayerMode=d.SpreadMode=d.SidebarView=d.ScrollMode=d.SCROLLBAR_PADDING=d.RenderingStates=d.RendererType=d.ProgressBar=d.PresentationModeState=d.OutputScale=d.MIN_SCALE=d.MAX_SCALE=d.MAX_AUTO_SCALE=d.DEFAULT_SCALE_VALUE=d.DEFAULT_SCALE_DELTA=d.DEFAULT_SCALE=d.AutoPrintRegExp=void 0,d.apiPageLayoutToViewerModes=function Y(te){let oe=m.VERTICAL,ae=A.NONE;switch(te){case"SinglePage":oe=m.PAGE;break;case"OneColumn":break;case"TwoPageLeft":oe=m.PAGE;case"TwoColumnLeft":ae=A.ODD;break;case"TwoPageRight":oe=m.PAGE;case"TwoColumnRight":ae=A.EVEN}return{scrollMode:oe,spreadMode:ae}},d.apiPageModeToSidebarView=function Q(te){switch(te){case"UseNone":return e.NONE;case"UseThumbs":return e.THUMBS;case"UseOutlines":return e.OUTLINE;case"UseAttachments":return e.ATTACHMENTS;case"UseOC":return e.LAYERS}return e.NONE},d.approximateFraction=function ee(te){if(Math.floor(te)===te)return[te,1];const oe=1/te;if(oe>8)return[1,8];if(Math.floor(oe)===oe)return[1,oe];const P=te>1?oe:te;let me,D=0,z=1,ge=1,ue=1;for(;;){const Se=D+ge,Pe=z+ue;if(Pe>8)break;P<=Se/Pe?(ge=Se,ue=Pe):(D=Se,z=Pe)}return me=P-D/z<ge/ue-P?P===te?[D,z]:[z,D]:P===te?[ge,ue]:[ue,ge],me},d.backtrackBeforeAllVisibleElements=M,d.binarySearchFirstItem=$,d.getActiveOrFocusedElement=function U(){let te=document,oe=te.activeElement||te.querySelector(":focus");for(;null==oe?void 0:oe.shadowRoot;)te=oe.shadowRoot,oe=te.activeElement||te.querySelector(":focus");return oe},d.getPageSizeInches=function he({view:te,userUnit:oe,rotate:ae}){const[P,D,z,ge]=te,ue=ae%180!=0,me=(z-P)/72*oe,Se=(ge-D)/72*oe;return{width:ue?Se:me,height:ue?me:Se}},d.getVisibleElements=function a({scrollEl:te,views:oe,sortByVisibility:ae=!1,horizontal:P=!1,rtl:D=!1}){const z=te.scrollTop,ge=z+te.clientHeight,ue=te.scrollLeft,me=ue+te.clientWidth,Le=[],ke=new Set,Fe=oe.length;let ie=$(oe,P?function Pe(fe){const Ae=fe.div,ye=Ae.offsetLeft+Ae.clientLeft;return D?ye<me:ye+Ae.clientWidth>ue}:function Se(fe){const Ae=fe.div;return Ae.offsetTop+Ae.clientTop+Ae.clientHeight>z});ie>0&&ie<Fe&&!P&&(ie=M(ie,oe,z));let R=P?me:-1;for(let fe=ie;fe<Fe;fe++){const Ae=oe[fe],ye=Ae.div,q=ye.offsetLeft+ye.clientLeft,_e=ye.offsetTop+ye.clientTop,w=ye.clientWidth,j=ye.clientHeight,le=q+w,ve=_e+j;if(-1===R)ve>=ge&&(R=ve);else if((P?q:_e)>R)break;if(ve<=z||_e>=ge||le<=ue||q>=me)continue;const Te=Math.max(0,z-_e)+Math.max(0,ve-ge),Re=(w-(Math.max(0,ue-q)+Math.max(0,le-me)))/w;Le.push({id:Ae.id,x:q,y:_e,view:Ae,percent:(j-Te)/j*Re*100|0,widthPercent:100*Re|0}),ke.add(Ae.id)}const O=Le[0],ce=Le[Le.length-1];return ae&&Le.sort(function(fe,Ae){const ye=fe.percent-Ae.percent;return Math.abs(ye)>.001?-ye:fe.id-Ae.id}),{first:O,last:ce,views:Le,ids:ke}},d.isPortraitOrientation=function E(te){return te.width<=te.height},d.isValidRotation=function u(te){return Number.isInteger(te)&&te%90==0},d.isValidScrollMode=function y(te){return Number.isInteger(te)&&Object.values(m).includes(te)&&te!==m.UNKNOWN},d.isValidSpreadMode=function b(te){return Number.isInteger(te)&&Object.values(A).includes(te)&&te!==A.UNKNOWN},d.noContextMenuHandler=function h(te){te.preventDefault()},d.normalizeWheelEventDelta=function l(te){let oe=t(te);return 0===te.deltaMode?oe/=900:1===te.deltaMode&&(oe/=30),oe},d.normalizeWheelEventDirection=t,d.parseQueryString=function H(te){const oe=new Map;for(const[ae,P]of new URLSearchParams(te))oe.set(ae.toLowerCase(),P);return oe},d.removeNullCharacters=function N(te,oe=!1){return"string"!=typeof te?(console.error("The argument must be a string."),te):(oe&&(te=te.replace(K," ")),te.replace(X,""))},d.roundToDivide=function se(te,oe){const ae=te%oe;return 0===ae?te:Math.round(te-ae+oe)},d.scrollIntoView=function F(te,oe,ae=!1){let P=te.offsetParent;if(!P)return void console.error("offsetParent is not set -- cannot scroll");let D=te.offsetTop+te.clientTop,z=te.offsetLeft+te.clientLeft;for(;P.clientHeight===P.scrollHeight&&P.clientWidth===P.scrollWidth||ae&&(P.classList.contains("markedContent")||"hidden"===getComputedStyle(P).overflow);)if(D+=P.offsetTop,z+=P.offsetLeft,P=P.offsetParent,!P)return;oe&&(void 0!==oe.top&&(D+=oe.top),void 0!==oe.left&&(z+=oe.left,P.scrollLeft=z)),P.scrollTop=D},d.watchScroll=function B(te,oe){const ae=function(z){D||(D=window.requestAnimationFrame(function(){D=null;const ue=te.scrollLeft,me=P.lastX;ue!==me&&(P.right=ue>me),P.lastX=ue;const Se=te.scrollTop,Pe=P.lastY;Se!==Pe&&(P.down=Se>Pe),P.lastY=Se,oe(P)}))},P={right:!0,down:!0,lastX:te.scrollLeft,lastY:te.scrollTop,_eventHandler:ae};let D=null;return te.addEventListener("scroll",ae,!0),P},d.DEFAULT_SCALE_VALUE="auto",d.DEFAULT_SCALE=1,d.DEFAULT_SCALE_DELTA=1.1,d.MIN_SCALE=.1,d.MAX_SCALE=10,d.UNKNOWN_SCALE=0,d.MAX_AUTO_SCALE=1.25,d.SCROLLBAR_PADDING=40,d.VERTICAL_PADDING=5,d.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},d.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const e={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};d.SidebarView=e,d.RendererType={CANVAS:"canvas",SVG:"svg"},d.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const m={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};d.ScrollMode=m;const A={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};d.SpreadMode=A,d.AutoPrintRegExp=/\bprint\s*\(/,d.OutputScale=class k{constructor(){const oe=window.devicePixelRatio||1;this.sx=oe,this.sy=oe}get scaled(){return 1!==this.sx||1!==this.sy}};const X=/\x00/g,K=/[\x01-\x1F]/g;function $(te,oe,ae=0){let P=ae,D=te.length-1;if(D<0||!oe(te[D]))return te.length;if(oe(te[P]))return P;for(;P<D;){const z=P+D>>1;oe(te[z])?D=z:P=z+1}return P}function M(te,oe,ae){if(te<2)return te;let P=oe[te].div,D=P.offsetTop+P.clientTop;D>=ae&&(P=oe[te-1].div,D=P.offsetTop+P.clientTop);for(let z=te-2;z>=0&&(P=oe[z].div,!(P.offsetTop+P.clientTop+P.clientHeight<=D));--z)te=z;return te}function t(te){let oe=Math.hypot(te.deltaX,te.deltaY);const ae=Math.atan2(te.deltaY,te.deltaX);return-.25*Math.PI<ae&&ae<.75*Math.PI&&(oe=-oe),oe}const V=new Promise(function(te){window.requestAnimationFrame(te)});d.animationStarted=V,de=new WeakSet,yt=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},d.ProgressBar=class W{constructor(oe){if(Me(this,de),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(oe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(oe){this._indeterminate=isNaN(oe),this._percent=function G(te,oe,ae){return Math.min(Math.max(te,oe),ae)}(oe,0,100),Ee(this,de,yt).call(this)}setWidth(oe){if(!oe)return;const P=oe.parentNode.offsetWidth-oe.offsetWidth;P>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${P}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StructTreeLayerBuilder=void 0;const x={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s=/^H(\d+)$/;d.StructTreeLayerBuilder=class v{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,r){void 0!==o.alt&&r.setAttribute("aria-label",o.alt),void 0!==o.id&&r.setAttribute("aria-owns",o.id),void 0!==o.lang&&r.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;const r=document.createElement("span");if("role"in o){const{role:n}=o,c=n.match(s);c?(r.setAttribute("role","heading"),r.setAttribute("aria-level",c[1])):x[n]&&r.setAttribute("role",x[n])}if(this._setAttributes(o,r),o.children)if(1===o.children.length&&"id"in o.children[0])this._setAttributes(o.children[0],r);else for(const n of o.children)r.appendChild(this._walk(n));return r}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerBuilder=void 0;var s=x(3);d.TextLayerBuilder=class S{constructor({textLayerDiv:r,eventBus:n,pageIndex:c,viewport:C,highlighter:f=null,enhanceTextSelection:p=!1}){this.textLayerDiv=r,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=c+1,this.viewport=C,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=f,this.enhanceTextSelection=p,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){var c;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(c=this.highlighter)||c.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,s.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var C;this.textLayerDiv.appendChild(n),this._finishRendering(),null==(C=this.highlighter)||C.enable()},function(C){})}cancel(){var r;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(r=this.highlighter)||r.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let n=null;r.addEventListener("mousedown",c=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const C=r.querySelector(".endOfContent");if(!C)return;let f=c.target!==r;if(f=f&&"none"!==window.getComputedStyle(C).getPropertyValue("-moz-user-select"),f){const p=r.getBoundingClientRect(),e=Math.max(0,(c.pageY-p.top)/p.height);C.style.top=(100*e).toFixed(2)+"%"}C.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const c=r.querySelector(".endOfContent");!c||(c.style.top="",c.classList.remove("active"))})}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayerBuilder=void 0;var s=x(3);d.XfaLayerBuilder=class v{constructor({pageDiv:o,pdfPage:r,annotationStorage:n=null,linkService:c,xfaHtml:C=null}){this.pageDiv=o,this.pdfPage=r,this.annotationStorage=n,this.linkService=c,this.xfaHtml=C,this.div=null,this._cancelled=!1}render(o,r="display"){if("print"===r){const n={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},c=document.createElement("div");this.pageDiv.appendChild(c),n.div=c;const C=s.XfaLayer.render(n);return Promise.resolve(C)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const c={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?s.XfaLayer.update(c):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),c.div=this.div,s.XfaLayer.render(c))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFViewer=d.PDFSinglePageViewer=void 0;var s=x(6),v=x(11);d.PDFViewer=class S extends v.BaseViewer{},d.PDFSinglePageViewer=class o extends v.BaseViewer{_resetView(){super._resetView(),this._scrollMode=s.ScrollMode.PAGE,this._spreadMode=s.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(I,d,x)=>{var k,F,B,rt,X,K,N,$,ee,se,he,M,vt,h,St,l,Ge,y,Ke,E,Ct,G,at,U,Pt,Q,wt,Ce,xt;Object.defineProperty(d,"__esModule",{value:!0}),d.PagesCountLimit=d.PDFPageViewBuffer=d.BaseViewer=void 0;var s=x(3),v=x(6),S=x(2),o=x(4),r=x(12),n=x(14),c=x(5),C=x(7),f=x(15),p=x(8),e=x(9);const _="enablePermissions",m={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};d.PagesCountLimit=m;class A{constructor(P){Me(this,B),Me(this,k,new Set),Me(this,F,0),Ie(this,F,P)}push(P){const D=we(this,k);D.has(P)&&D.delete(P),D.add(P),D.size>we(this,F)&&Ee(this,B,rt).call(this)}resize(P,D=null){Ie(this,F,P);const z=we(this,k);if(D){const ge=z.size;let ue=1;for(const me of z)if(D.has(me.id)&&(z.delete(me),z.add(me)),++ue>ge)break}for(;z.size>we(this,F);)Ee(this,B,rt).call(this)}has(P){return we(this,k).has(P)}[Symbol.iterator](){return we(this,k).keys()}}k=new WeakMap,F=new WeakMap,B=new WeakSet,rt=function(){const P=we(this,k).keys().next().value;null==P||P.destroy(),we(this,k).delete(P)},d.PDFPageViewBuffer=A;const oe=class{constructor(P){var z,ge,ue,me;if(Me(this,M),Me(this,h),Me(this,l),Me(this,y),Me(this,E),Me(this,G),Me(this,U),Me(this,Q),Me(this,Ce),Me(this,X,null),Me(this,K,s.AnnotationMode.ENABLE_FORMS),Me(this,N,null),Me(this,$,!1),Me(this,ee,0),Me(this,se,null),Me(this,he,null),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const D="2.14.305";if(s.version!==D)throw new Error(`The API version "${s.version}" does not match the Viewer version "${D}".`);if(this.container=P.container,this.viewer=P.viewer||P.container.firstElementChild,"DIV"!==(null==(z=this.container)?void 0:z.tagName.toUpperCase())||"DIV"!==(null==(ge=this.viewer)?void 0:ge.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=P.eventBus,this.linkService=P.linkService||new c.SimpleLinkService,this.downloadManager=P.downloadManager||null,this.findController=P.findController||null,this._scriptingManager=P.scriptingManager||null,this.removePageBorders=P.removePageBorders||!1,this.textLayerMode=null!=(ue=P.textLayerMode)?ue:v.TextLayerMode.ENABLE,Ie(this,K,null!=(me=P.annotationMode)?me:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=P.imageResourcesPath||"",this.enablePrintAutoRotate=P.enablePrintAutoRotate||!1,this.renderer=P.renderer||v.RendererType.CANVAS,this.useOnlyCssZoom=P.useOnlyCssZoom||!1,this.maxCanvasPixels=P.maxCanvasPixels,this.l10n=P.l10n||o.NullL10n,Ie(this,$,P.enablePermissions||!1),this.pageColors=P.pageColors||null,P.pageColors&&(!CSS.supports("color",P.pageColors.background)||!CSS.supports("color",P.pageColors.foreground))&&((P.pageColors.background||P.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!P.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new n.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=P.renderingQueue,this._doc=document.documentElement,this.scroll=(0,v.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=v.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(P){return this._pages[P]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(P){return null==P?void 0:P.pdfPage})}get renderForms(){return we(this,K)===s.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(P){if(!Number.isInteger(P))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(P,!0)||console.error(`currentPageNumber: "${P}" is not a valid page.`)}_setCurrentPageNumber(P,D=!1){var ge,ue;if(this._currentPageNumber===P)return D&&Ee(this,G,at).call(this),!0;if(!(0<P&&P<=this.pagesCount))return!1;const z=this._currentPageNumber;return this._currentPageNumber=P,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:P,pageLabel:null!=(ue=null==(ge=this._pageLabels)?void 0:ge[P-1])?ue:null,previous:z}),D&&Ee(this,G,at).call(this),!0}get currentPageLabel(){var P,D;return null!=(D=null==(P=this._pageLabels)?void 0:P[this._currentPageNumber-1])?D:null}set currentPageLabel(P){if(!this.pdfDocument)return;let D=0|P;if(this._pageLabels){const z=this._pageLabels.indexOf(P);z>=0&&(D=z+1)}this._setCurrentPageNumber(D,!0)||console.error(`currentPageLabel: "${P}" is not a valid page.`)}get currentScale(){return this._currentScale!==v.UNKNOWN_SCALE?this._currentScale:v.DEFAULT_SCALE}set currentScale(P){if(isNaN(P))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(P,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(P){!this.pdfDocument||this._setScale(P,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(P){if(!(0,v.isValidRotation)(P))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((P%=360)<0&&(P+=360),this._pagesRotation===P))return;this._pagesRotation=P;const D=this._currentPageNumber,z={rotation:P};for(const ge of this._pages)ge.update(z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:P,pageNumber:D}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(P){var D=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=P,!P)return;const z=P.isPureXfa,ge=P.numPages,ue=P.getPage(1),me=P.getOptionalContentConfig(),Se=we(this,$)?P.getPermissions():Promise.resolve();if(ge>m.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Pe=this._scrollMode=v.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Pe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ge})},()=>{}),this._onBeforeDraw=Pe=>{const Le=this._pages[Pe.pageNumber-1];!Le||we(this,X).push(Le)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Pe=>{Pe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Pe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,we(this,he)&&(document.removeEventListener("visibilitychange",we(this,he)),Ie(this,he,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ue,Se]).then(([Pe,Le])=>{if(P!==this.pdfDocument)return;this._firstPageCapability.resolve(Pe),this._optionalContentConfigPromise=me,Ee(this,M,vt).call(this,Le);const ke=this._scrollMode===v.ScrollMode.PAGE?null:this.viewer,Fe=this.currentScale,ie=Pe.getViewport({scale:Fe*s.PixelsPerInch.PDF_TO_CSS_UNITS}),R=this.textLayerMode===v.TextLayerMode.DISABLE||z?null:this,O=we(this,K)!==s.AnnotationMode.DISABLE?this:null,ce=z?this:null;for(let Ae=1;Ae<=ge;++Ae){const ye=new r.PDFPageView({container:ke,eventBus:this.eventBus,id:Ae,scale:Fe,defaultViewport:ie.clone(),optionalContentConfigPromise:me,renderingQueue:this.renderingQueue,textLayerFactory:R,textLayerMode:this.textLayerMode,annotationLayerFactory:O,annotationMode:we(this,K),xfaLayerFactory:ce,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ye)}const fe=this._pages[0];fe&&(fe.setPdfPage(Pe),this.linkService.cachePageRef(1,Pe.ref)),this._scrollMode===v.ScrollMode.PAGE?Ee(this,l,Ge).call(this):this._spreadMode!==v.SpreadMode.NONE&&this._updateSpreadMode(),Ee(this,h,St).call(this).then(g(function*(){if(D.findController&&D.findController.setDocument(P),D._scriptingManager&&D._scriptingManager.setDocument(P),P.loadingParams.disableAutoFetch||ge>m.FORCE_LAZY_PAGE_INIT)return void D._pagesCapability.resolve();let Ae=ge-1;if(Ae<=0)D._pagesCapability.resolve();else for(let ye=2;ye<=ge;++ye){const q=P.getPage(ye).then(_e=>{const w=D._pages[ye-1];w.pdfPage||w.setPdfPage(_e),D.linkService.cachePageRef(ye,_e.ref),0==--Ae&&D._pagesCapability.resolve()},_e=>{console.error(`Unable to get page ${ye} to initialize viewer`,_e),0==--Ae&&D._pagesCapability.resolve()});ye%m.PAUSE_EAGER_PAGE_INIT==0&&(yield q)}})),this.eventBus.dispatch("pagesinit",{source:this}),P.getMetadata().then(({info:Ae})=>{P===this.pdfDocument&&Ae.Language&&(this.viewer.lang=Ae.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Pe=>{console.error("Unable to initialize viewer",Pe),this._pagesCapability.reject(Pe)})}setPageLabels(P){var D,z;if(this.pdfDocument){P?Array.isArray(P)&&this.pdfDocument.numPages===P.length?this._pageLabels=P:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ge=0,ue=this._pages.length;ge<ue;ge++)this._pages[ge].setPageLabel(null!=(z=null==(D=this._pageLabels)?void 0:D[ge])?z:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=v.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ie(this,X,new A(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,s.createPromiseCapability)(),this._onePageRenderedCapability=(0,s.createPromiseCapability)(),this._pagesCapability=(0,s.createPromiseCapability)(),this._scrollMode=v.ScrollMode.VERTICAL,this._previousScrollMode=v.ScrollMode.UNKNOWN,this._spreadMode=v.SpreadMode.NONE,Ie(this,se,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),we(this,he)&&(document.removeEventListener("visibilitychange",we(this,he)),Ie(this,he,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(_),null!==we(this,N)&&(Ie(this,K,we(this,N)),Ie(this,N,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(P,D,z=!1,ge=!1){if(this._currentScaleValue=D.toString(),Ee(this,E,Ct).call(this,P))return void(ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:P,presetValue:D}));this._doc.style.setProperty("--zoom-factor",P);const ue={scale:P};for(const me of this._pages)me.update(ue);if(this._currentScale=P,!z){let Se,me=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(me=this._location.pageNumber,Se=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:me,destArray:Se,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:P,presetValue:ge?D:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL?2:1}_setScale(P,D=!1){let z=parseFloat(P);if(z>0)this._setScaleUpdatePages(z,P,D,!1);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let ue=v.SCROLLBAR_PADDING,me=v.VERTICAL_PADDING;this.isInPresentationMode?ue=me=4:this.removePageBorders?ue=me=0:this._scrollMode===v.ScrollMode.HORIZONTAL&&([ue,me]=[me,ue]);const Se=(this.container.clientWidth-ue)/ge.width*ge.scale/this._pageWidthScaleFactor,Pe=(this.container.clientHeight-me)/ge.height*ge.scale;switch(P){case"page-actual":z=1;break;case"page-width":z=Se;break;case"page-height":z=Pe;break;case"page-fit":z=Math.min(Se,Pe);break;case"auto":const Le=(0,v.isPortraitOrientation)(ge)?Se:Math.min(Pe,Se);z=Math.min(v.MAX_AUTO_SCALE,Le);break;default:return void console.error(`_setScale: "${P}" is an unknown zoom value.`)}this._setScaleUpdatePages(z,P,D,!0)}}pageLabelToPageNumber(P){if(!this._pageLabels)return null;const D=this._pageLabels.indexOf(P);return D<0?null:D+1}scrollPageIntoView({pageNumber:P,destArray:D=null,allowNegativeOffset:z=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const ue=Number.isInteger(P)&&this._pages[P-1];if(!ue)return void console.error(`scrollPageIntoView: "${P}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!D)return void this._setCurrentPageNumber(P,!0);let ke,Fe,me=0,Se=0,Pe=0,Le=0;const ie=ue.rotation%180!=0,R=(ie?ue.height:ue.width)/ue.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS,O=(ie?ue.width:ue.height)/ue.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS;let ce=0;switch(D[1].name){case"XYZ":me=D[2],Se=D[3],ce=D[4],me=null!==me?me:0,Se=null!==Se?Se:O;break;case"Fit":case"FitB":ce="page-fit";break;case"FitH":case"FitBH":Se=D[2],ce="page-width",null===Se&&this._location?(me=this._location.left,Se=this._location.top):("number"!=typeof Se||Se<0)&&(Se=O);break;case"FitV":case"FitBV":me=D[2],Pe=R,Le=O,ce="page-height";break;case"FitR":me=D[2],Se=D[3],Pe=D[4]-me,Le=D[5]-Se,ke=(this.container.clientWidth-(this.removePageBorders?0:v.SCROLLBAR_PADDING))/Pe/s.PixelsPerInch.PDF_TO_CSS_UNITS,Fe=(this.container.clientHeight-(this.removePageBorders?0:v.VERTICAL_PADDING))/Le/s.PixelsPerInch.PDF_TO_CSS_UNITS,ce=Math.min(Math.abs(ke),Math.abs(Fe));break;default:return void console.error(`scrollPageIntoView: "${D[1].name}" is not a valid destination type.`)}if(ge||(ce&&ce!==this._currentScale?this.currentScaleValue=ce:this._currentScale===v.UNKNOWN_SCALE&&(this.currentScaleValue=v.DEFAULT_SCALE_VALUE)),"page-fit"===ce&&!D[4])return void Ee(this,y,Ke).call(this,ue);const fe=[ue.viewport.convertToViewportPoint(me,Se),ue.viewport.convertToViewportPoint(me+Pe,Se+Le)];let Ae=Math.min(fe[0][0],fe[1][0]),ye=Math.min(fe[0][1],fe[1][1]);z||(Ae=Math.max(Ae,0),ye=Math.max(ye,0)),Ee(this,y,Ke).call(this,ue,{left:Ae,top:ye})}_updateLocation(P){const D=this._currentScale,z=this._currentScaleValue,ge=parseFloat(z)===D?Math.round(1e4*D)/100:z,ue=P.id,Se=this.container,Pe=this._pages[ue-1].getPagePoint(Se.scrollLeft-P.x,Se.scrollTop-P.y),Le=Math.round(Pe[0]),ke=Math.round(Pe[1]);let Fe=`#page=${ue}`;this.isInPresentationMode||(Fe+=`&zoom=${ge},${Le},${ke}`),this._location={pageNumber:ue,scale:ge,top:ke,left:Le,rotation:this._pagesRotation,pdfOpenParams:Fe}}update(){const P=this._getVisiblePages(),D=P.views,z=D.length;if(0===z)return;const ge=Math.max(10,2*z+1);we(this,X).resize(ge,P.ids),this.renderingQueue.renderHighestPriority(P);const ue=this._spreadMode===v.SpreadMode.NONE&&(this._scrollMode===v.ScrollMode.PAGE||this._scrollMode===v.ScrollMode.VERTICAL),me=this._currentPageNumber;let Se=!1;for(const Pe of D){if(Pe.percent<100)break;if(Pe.id===me&&ue){Se=!0;break}}this._setCurrentPageNumber(Se?me:D[0].id),this._updateLocation(P.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(P){return this.container.contains(P)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===v.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===v.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const P=this._scrollMode===v.ScrollMode.PAGE?we(this,se).pages:this._pages,D=this._scrollMode===v.ScrollMode.HORIZONTAL;return(0,v.getVisibleElements)({scrollEl:this.container,views:P,sortByVisibility:!0,horizontal:D,rtl:D&&this._isContainerRtl})}isPageVisible(P){return!!this.pdfDocument&&(Number.isInteger(P)&&P>0&&P<=this.pagesCount?this._getVisiblePages().ids.has(P):(console.error(`isPageVisible: "${P}" is not a valid page.`),!1))}isPageCached(P){if(!this.pdfDocument)return!1;if(!(Number.isInteger(P)&&P>0&&P<=this.pagesCount))return console.error(`isPageCached: "${P}" is not a valid page.`),!1;const D=this._pages[P-1];return we(this,X).has(D)}cleanup(){for(const P of this._pages)P.renderingState!==v.RenderingStates.FINISHED&&P.reset()}_cancelRendering(){for(const P of this._pages)P.cancelRendering()}forceRendering(P){const D=P||this._getVisiblePages(),z=Ee(this,Q,wt).call(this,D),ue=this.renderingQueue.getHighestPriority(D,this._pages,z,this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL);return Ee(this,Ce,xt).call(this,D.ids),!!ue&&(Ee(this,U,Pt).call(this,ue).then(()=>{this.renderingQueue.renderView(ue)}),!0)}createTextLayerBuilder(P,D,z,ge=!1,ue,me){return new p.TextLayerBuilder({textLayerDiv:P,eventBus:ue,pageIndex:D,viewport:z,enhanceTextSelection:!this.isInPresentationMode&&ge,highlighter:me})}createTextHighlighter(P,D){return new f.TextHighlighter({eventBus:D,pageIndex:P,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(P,D,z=null,ge="",ue=!0,me=o.NullL10n,Se=null,Pe=null,Le=null,ke=null,Fe=null){var ie,R,O,ce;return new S.AnnotationLayerBuilder({pageDiv:P,pdfPage:D,annotationStorage:z||(null==(ie=this.pdfDocument)?void 0:ie.annotationStorage),imageResourcesPath:ge,renderForms:ue,linkService:this.linkService,downloadManager:this.downloadManager,l10n:me,enableScripting:null!=Se?Se:this.enableScripting,hasJSActionsPromise:Pe||(null==(R=this.pdfDocument)?void 0:R.hasJSActions()),fieldObjectsPromise:ke||(null==(O=this.pdfDocument)?void 0:O.getFieldObjects()),mouseState:Le||(null==(ce=this._scriptingManager)?void 0:ce.mouseState),annotationCanvasMap:Fe})}createXfaLayerBuilder(P,D,z=null){var ge;return new e.XfaLayerBuilder({pageDiv:P,pdfPage:D,annotationStorage:z||(null==(ge=this.pdfDocument)?void 0:ge.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(P){return new C.StructTreeLayerBuilder({pdfPage:P})}get hasEqualPageSizes(){const P=this._pages[0];for(let D=1,z=this._pages.length;D<z;++D){const ge=this._pages[D];if(ge.width!==P.width||ge.height!==P.height)return!1}return!0}getPagesOverview(){return this._pages.map(P=>{const D=P.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,v.isPortraitOrientation)(D)?{width:D.width,height:D.height,rotation:D.rotation}:{width:D.height,height:D.width,rotation:(D.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(P){if(!(P instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${P}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=P;const D={optionalContentConfigPromise:P};for(const z of this._pages)z.update(D);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:P})}get scrollMode(){return this._scrollMode}set scrollMode(P){if(this._scrollMode!==P){if(!(0,v.isValidScrollMode)(P))throw new Error(`Invalid scroll mode: ${P}`);this.pagesCount>m.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=P,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:P}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(P=null){const D=this._scrollMode,z=this.viewer;z.classList.toggle("scrollHorizontal",D===v.ScrollMode.HORIZONTAL),z.classList.toggle("scrollWrapped",D===v.ScrollMode.WRAPPED),this.pdfDocument&&P&&(D===v.ScrollMode.PAGE?Ee(this,l,Ge).call(this):this._previousScrollMode===v.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(P,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(P){if(this._spreadMode!==P){if(!(0,v.isValidSpreadMode)(P))throw new Error(`Invalid spread mode: ${P}`);this._spreadMode=P,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:P}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(P=null){if(!this.pdfDocument)return;const D=this.viewer,z=this._pages;if(this._scrollMode===v.ScrollMode.PAGE)Ee(this,l,Ge).call(this);else if(D.textContent="",this._spreadMode===v.SpreadMode.NONE)for(const ge of this._pages)D.appendChild(ge.div);else{const ge=this._spreadMode-1;let ue=null;for(let me=0,Se=z.length;me<Se;++me)null===ue?(ue=document.createElement("div"),ue.className="spread",D.appendChild(ue)):me%2===ge&&(ue=ue.cloneNode(!1),D.appendChild(ue)),ue.appendChild(z[me].div)}!P||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(P,!0),this.update())}_getPageAdvance(P,D=!1){switch(this._scrollMode){case v.ScrollMode.WRAPPED:{const{views:z}=this._getVisiblePages(),ge=new Map;for(const{id:ue,y:me,percent:Se,widthPercent:Pe}of z){if(0===Se||Pe<100)continue;let Le=ge.get(me);Le||ge.set(me,Le||(Le=[])),Le.push(ue)}for(const ue of ge.values()){const me=ue.indexOf(P);if(-1===me)continue;const Se=ue.length;if(1===Se)break;if(D)for(let Pe=me-1,Le=0;Pe>=Le;Pe--){const Fe=ue[Pe+1]-1;if(ue[Pe]<Fe)return P-Fe}else for(let Pe=me+1,Le=Se;Pe<Le;Pe++){const Fe=ue[Pe-1]+1;if(ue[Pe]>Fe)return Fe-P}if(D){const Pe=ue[0];if(Pe<P)return P-Pe+1}else{const Pe=ue[Se-1];if(Pe>P)return Pe-P+1}break}break}case v.ScrollMode.HORIZONTAL:break;case v.ScrollMode.PAGE:case v.ScrollMode.VERTICAL:{if(this._spreadMode===v.SpreadMode.NONE)break;const z=this._spreadMode-1;if(D&&P%2!==z)break;if(!D&&P%2===z)break;const{views:ge}=this._getVisiblePages(),ue=D?P-1:P+1;for(const{id:me,percent:Se,widthPercent:Pe}of ge)if(me===ue){if(Se>0&&100===Pe)return 2;break}break}}return 1}nextPage(){const P=this._currentPageNumber,D=this.pagesCount;if(P>=D)return!1;const z=this._getPageAdvance(P,!1)||1;return this.currentPageNumber=Math.min(P+z,D),!0}previousPage(){const P=this._currentPageNumber;if(P<=1)return!1;const D=this._getPageAdvance(P,!0)||1;return this.currentPageNumber=Math.max(P-D,1),!0}increaseScale(P=1){let D=this._currentScale;do{D=(D*v.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.ceil(10*D)/10,D=Math.min(v.MAX_SCALE,D)}while(--P>0&&D<v.MAX_SCALE);this.currentScaleValue=D}decreaseScale(P=1){let D=this._currentScale;do{D=(D/v.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.floor(10*D)/10,D=Math.max(v.MIN_SCALE,D)}while(--P>0&&D>v.MIN_SCALE);this.currentScaleValue=D}updateContainerHeightCss(){const P=this.container.clientHeight;P!==we(this,ee)&&(Ie(this,ee,P),this._doc.style.setProperty("--viewer-container-height",`${P}px`))}};let T=oe;X=new WeakMap,K=new WeakMap,N=new WeakMap,$=new WeakMap,ee=new WeakMap,se=new WeakMap,he=new WeakMap,M=new WeakSet,vt=function(P){!P||(P.includes(s.PermissionFlag.COPY)||this.viewer.classList.add(_),!P.includes(s.PermissionFlag.MODIFY_ANNOTATIONS)&&!P.includes(s.PermissionFlag.FILL_INTERACTIVE_FORMS)&&we(this,K)===s.AnnotationMode.ENABLE_FORMS&&(Ie(this,N,we(this,K)),Ie(this,K,s.AnnotationMode.ENABLE)))},h=new WeakSet,St=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const P=new Promise(D=>{Ie(this,he,()=>{"hidden"===document.visibilityState&&(D(),document.removeEventListener("visibilitychange",we(this,he)),Ie(this,he,null))}),document.addEventListener("visibilitychange",we(this,he))});return Promise.race([this._onePageRenderedCapability.promise,P])},l=new WeakSet,Ge=function(){if(this._scrollMode!==v.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const P=this._currentPageNumber,D=we(this,se),z=this.viewer;if(z.textContent="",D.pages.length=0,this._spreadMode!==v.SpreadMode.NONE||this.isInPresentationMode){const ge=new Set,ue=this._spreadMode-1;-1===ue?ge.add(P-1):P%2!==ue?(ge.add(P-1),ge.add(P)):(ge.add(P-2),ge.add(P-1));const me=document.createElement("div");if(me.className="spread",this.isInPresentationMode){const Se=document.createElement("div");Se.className="dummyPage",me.appendChild(Se)}for(const Se of ge){const Pe=this._pages[Se];!Pe||(me.appendChild(Pe.div),D.pages.push(Pe))}z.appendChild(me)}else{const ge=this._pages[P-1];z.appendChild(ge.div),D.pages.push(ge)}D.scrollDown=P>=D.previousPageNumber,D.previousPageNumber=P},y=new WeakSet,Ke=function(P,D=null){const{div:z,id:ge}=P;if(this._scrollMode===v.ScrollMode.PAGE&&(this._setCurrentPageNumber(ge),Ee(this,l,Ge).call(this),this.update()),!D&&!this.isInPresentationMode){const ue=z.offsetLeft+z.clientLeft,me=ue+z.clientWidth,{scrollLeft:Se,clientWidth:Pe}=this.container;(this._scrollMode===v.ScrollMode.HORIZONTAL||ue<Se||me>Se+Pe)&&(D={left:0,top:0})}(0,v.scrollIntoView)(z,D)},E=new WeakSet,Ct=function(P){return P===this._currentScale||Math.abs(P-this._currentScale)<1e-15},G=new WeakSet,at=function(){const P=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Ee(this,y,Ke).call(this,P)},U=new WeakSet,Pt=function(P){var D=this;return g(function*(){var z,ge;if(P.pdfPage)return P.pdfPage;try{const ue=yield D.pdfDocument.getPage(P.id);return P.pdfPage||P.setPdfPage(ue),(null==(ge=(z=D.linkService)._cachedPageNumber)?void 0:ge.call(z,ue.ref))||D.linkService.cachePageRef(P.id,ue.ref),ue}catch(ue){return console.error("Unable to get page for page view",ue),null}})()},Q=new WeakSet,wt=function(P){var D,z;if(1===(null==(D=P.first)?void 0:D.id))return!0;if((null==(z=P.last)?void 0:z.id)===this.pagesCount)return!1;switch(this._scrollMode){case v.ScrollMode.PAGE:return we(this,se).scrollDown;case v.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Ce=new WeakSet,xt=function(P){for(const D of P){const z=this._pages[D-1];null==z||z.toggleLoadingIconSpinner(!0)}for(const D of we(this,X))P.has(D.id)||D.toggleLoadingIconSpinner(!1)},d.BaseViewer=T},(I,d,x)=>{var c;Object.defineProperty(d,"__esModule",{value:!0}),d.PDFPageView=void 0;var s=x(3),v=x(6),S=x(13),o=x(4);const r=S.compatibilityParams.maxCanvasPixels||16777216;c=new WeakMap,d.PDFPageView=class n{constructor(f){var _,m,A,T;Me(this,c,s.AnnotationMode.ENABLE_FORMS);const p=f.container,e=f.defaultViewport;this.id=f.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=f.scale||v.DEFAULT_SCALE,this.viewport=e,this.pdfPageRotate=e.rotation,this._optionalContentConfigPromise=f.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(_=f.textLayerMode)?_:v.TextLayerMode.ENABLE,Ie(this,c,null!=(m=f.annotationMode)?m:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=f.imageResourcesPath||"",this.useOnlyCssZoom=f.useOnlyCssZoom||!1,this.maxCanvasPixels=f.maxCanvasPixels||r,this.pageColors=f.pageColors||null,this.eventBus=f.eventBus,this.renderingQueue=f.renderingQueue,this.textLayerFactory=f.textLayerFactory,this.annotationLayerFactory=f.annotationLayerFactory,this.xfaLayerFactory=f.xfaLayerFactory,this.textHighlighter=null==(A=f.textHighlighterFactory)?void 0:A.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=f.structTreeLayerFactory,this.renderer=f.renderer||v.RendererType.CANVAS,this.l10n=f.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=v.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(T=this.renderingQueue)?void 0:T.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(k=>{i.setAttribute("aria-label",k)}),this.div=i,null==p||p.appendChild(i)}setPdfPage(f){this.pdfPage=f,this.pdfPageRotate=f.rotate,this.viewport=f.getViewport({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var f=this;return g(function*(){let p=null;try{yield f.annotationLayer.render(f.viewport,"display")}catch(e){p=e}finally{f.eventBus.dispatch("annotationlayerrendered",{source:f,pageNumber:f.id,error:p})}})()}_renderXfaLayer(){var f=this;return g(function*(){let p=null;try{const e=yield f.xfaLayer.render(f.viewport,"display");f.textHighlighter&&f._buildXfaTextContentItems(e.textDivs)}catch(e){p=e}finally{f.eventBus.dispatch("xfalayerrendered",{source:f,pageNumber:f.id,error:p})}})()}_buildXfaTextContentItems(f){var p=this;return g(function*(){const e=yield p.pdfPage.getTextContent(),i=[];for(const _ of e.items)i.push(_.str);p.textHighlighter.setTextMapping(f,i),p.textHighlighter.enable()})()}_resetZoomLayer(f=!1){if(!this.zoomLayer)return;const p=this.zoomLayer.firstChild;this.paintedViewportMap.delete(p),p.width=0,p.height=0,f&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:f=!1,keepAnnotationLayer:p=!1,keepXfaLayer:e=!1}={}){var k,F;this.cancelRendering({keepAnnotationLayer:p,keepXfaLayer:e}),this.renderingState=v.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const _=i.childNodes,m=f&&this.zoomLayer||null,A=p&&(null==(k=this.annotationLayer)?void 0:k.div)||null,T=e&&(null==(F=this.xfaLayer)?void 0:F.div)||null;for(let B=_.length-1;B>=0;B--){const H=_[B];switch(H){case m:case A:case T:continue}H.remove()}i.removeAttribute("data-loaded"),A&&this.annotationLayer.hide(),T&&this.xfaLayer.hide(),m||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(B=>{var H;null==(H=this.loadingIconDiv)||H.setAttribute("aria-label",B)}),i.appendChild(this.loadingIconDiv)}update({scale:f=0,rotation:p=null,optionalContentConfigPromise:e=null}){if(this.scale=f||this.scale,"number"==typeof p&&(this.rotation=p),e instanceof Promise&&(this._optionalContentConfigPromise=e),this.viewport=this.viewport.clone({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:m}=document.documentElement;m.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let _=!1;if(this.canvas&&this.maxCanvasPixels>0){const m=this.outputScale;(Math.floor(this.viewport.width)*m.sx|0)*(Math.floor(this.viewport.height)*m.sy|0)>this.maxCanvasPixels&&(_=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&_)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:f=!1,keepXfaLayer:p=!1}={}){var e;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!f||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!p||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(e=this.textHighlighter)||e.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:f,redrawAnnotationLayer:p=!1,redrawXfaLayer:e=!1}){const i=this.viewport.width,_=this.viewport.height,m=this.div;f.style.width=f.parentNode.style.width=m.style.width=Math.floor(i)+"px",f.style.height=f.parentNode.style.height=m.style.height=Math.floor(_)+"px";const A=this.viewport.rotation-this.paintedViewportMap.get(f).rotation,T=Math.abs(A);let k=1,F=1;if((90===T||270===T)&&(k=_/i,F=i/_),f.style.transform=`rotate(${A}deg) scale(${k}, ${F})`,this.textLayer){const B=this.textLayer.viewport,X=Math.abs(this.viewport.rotation-B.rotation);let K=i/B.width;(90===X||270===X)&&(K=i/B.height);const N=this.textLayer.textLayerDiv;let $,ee;switch(X){case 0:$=ee=0;break;case 90:$=0,ee="-"+N.style.height;break;case 180:$="-"+N.style.width,ee="-"+N.style.height;break;case 270:$="-"+N.style.width,ee=0;break;default:console.error("Bad rotation value.")}N.style.transform=`rotate(${X}deg) scale(${K}) translate(${$}, ${ee})`,N.style.transformOrigin="0% 0%"}p&&this.annotationLayer&&this._renderAnnotationLayer(),e&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(f,p){return this.viewport.convertToPdfPoint(f,p)}toggleLoadingIconSpinner(f=!1){var p;null==(p=this.loadingIconDiv)||p.classList.toggle("notVisible",!f)}draw(){var F,B,H,f=this;this.renderingState!==v.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:p,pdfPage:e}=this;if(!e)return this.renderingState=v.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=v.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=p.style.width,i.style.height=p.style.height,i.classList.add("canvasWrapper"),(null==(F=this.annotationLayer)?void 0:F.div)?p.insertBefore(i,this.annotationLayer.div):p.appendChild(i);let _=null;if(this.textLayerMode!==v.TextLayerMode.DISABLE&&this.textLayerFactory){const X=document.createElement("div");X.className="textLayer",X.style.width=i.style.width,X.style.height=i.style.height,(null==(B=this.annotationLayer)?void 0:B.div)?p.insertBefore(X,this.annotationLayer.div):p.appendChild(X),_=this.textLayerFactory.createTextLayerBuilder(X,this.id-1,this.viewport,this.textLayerMode===v.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=_,we(this,c)!==s.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(p,e,null,this.imageResourcesPath,we(this,c)===s.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(H=this.xfaLayer)?void 0:H.div)&&p.appendChild(this.xfaLayer.div);let m=null;this.renderingQueue&&(m=X=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=v.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=v.RenderingStates.RUNNING,X()});X()});const A=function(){var X=g(function*(K=null){if(T===f.paintTask&&(f.paintTask=null),K instanceof s.RenderingCancelledException)f._renderError=null;else if(f._renderError=K,f.renderingState=v.RenderingStates.FINISHED,f.loadingIconDiv&&(f.loadingIconDiv.remove(),delete f.loadingIconDiv),f._resetZoomLayer(!0),f.eventBus.dispatch("pagerendered",{source:f,pageNumber:f.id,cssTransform:!1,timestamp:performance.now(),error:f._renderError}),K)throw K});return function(){return X.apply(this,arguments)}}(),T=this.renderer===v.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);T.onRenderContinue=m,this.paintTask=T;const k=T.promise.then(()=>A(null).then(()=>{if(_){const X=e.streamTextContent({includeMarkedContent:!0});_.setTextContentStream(X),_.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(X){return A(X)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(p,e,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=X=>{X.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(K=>{if(!K||!this.canvas)return;const N=this.structTreeLayer.render(K);N.classList.add("structTree"),this.canvas.appendChild(N)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(e)),p.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),k}paintOnCanvas(f){const p=(0,s.createPromiseCapability)(),e={promise:p.promise,onRenderContinue(N){N()},cancel(){K.cancel()}},i=this.viewport,_=document.createElement("canvas");_.hidden=!0;let m=!0;const A=function(){m&&(_.hidden=!1,m=!1)};f.appendChild(_),this.canvas=_;const T=_.getContext("2d",{alpha:!1}),k=this.outputScale=new v.OutputScale;if(this.useOnlyCssZoom){const N=i.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});k.sx*=N.width/i.width,k.sy*=N.height/i.height}if(this.maxCanvasPixels>0){const $=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));k.sx>$||k.sy>$?(k.sx=$,k.sy=$,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,v.approximateFraction)(k.sx),B=(0,v.approximateFraction)(k.sy);_.width=(0,v.roundToDivide)(i.width*k.sx,F[0]),_.height=(0,v.roundToDivide)(i.height*k.sy,B[0]),_.style.width=(0,v.roundToDivide)(i.width,F[1])+"px",_.style.height=(0,v.roundToDivide)(i.height,B[1])+"px",this.paintedViewportMap.set(_,i);const X={canvasContext:T,transform:k.scaled?[k.sx,0,0,k.sy,0,0]:null,viewport:this.viewport,annotationMode:we(this,c),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},K=this.pdfPage.render(X);return K.onContinue=function(N){A(),e.onRenderContinue?e.onRenderContinue(N):N()},K.promise.then(function(){A(),p.resolve()},function(N){A(),p.reject(N)}),e}paintOnSvg(f){let p=!1;const e=()=>{if(p)throw new s.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,_=this.viewport.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:we(this,c)}).then(A=>(e(),new s.SVGGraphics(i.commonObjs,i.objs).getSVG(A,_).then(k=>{e(),this.svg=k,this.paintedViewportMap.set(k,_),k.style.width=f.style.width,k.style.height=f.style.height,this.renderingState=v.RenderingStates.FINISHED,f.appendChild(k)}))),onRenderContinue(A){A()},cancel(){p=!0}}}setPageLabel(f){this.pageLabel="string"==typeof f?f:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.compatibilityParams=d.OptionKind=d.AppOptions=void 0;const x=Object.create(null);d.compatibilityParams=x;{const r=navigator.userAgent||"",n=navigator.platform||"",c=navigator.maxTouchPoints||1,C=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===n&&c>1||C)&&(x.maxCanvasPixels=5242880)}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};d.OptionKind=s;const v={annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,compatibility:x.maxCanvasPixels,kind:s.VIEWER},pageColorsBackground:{value:"Canvas",kind:s.VIEWER+s.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:s.VIEWER+s.PREFERENCE},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},renderer:{value:"canvas",kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},useOnlyCssZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};v.disablePreferences={value:!1,kind:s.VIEWER},v.locale={value:navigator.language||"en-US",kind:s.VIEWER},v.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER},v.renderer.kind+=s.PREFERENCE;const S=Object.create(null);d.AppOptions=class o{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){var f;const c=S[n];if(void 0!==c)return c;const C=v[n];return void 0!==C?null!=(f=C.compatibility)?f:C.value:void 0}static getAll(n=null){var C;const c=Object.create(null);for(const f in v){const p=v[f];if(n){if(0==(n&p.kind))continue;if(n===s.PREFERENCE){const i=p.value,_=typeof i;if("boolean"===_||"string"===_||"number"===_&&Number.isInteger(i)){c[f]=i;continue}throw new Error(`Invalid type for preference: ${f}`)}}const e=S[f];c[f]=void 0!==e?e:null!=(C=p.compatibility)?C:p.value}return c}static set(n,c){S[n]=c}static setAll(n){for(const c in n)S[c]=n[c]}static remove(n){delete S[n]}static _hasUserOptions(){return Object.keys(S).length>0}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFRenderingQueue=void 0;var s=x(3),v=x(6);d.PDFRenderingQueue=class o{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){var c;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&(null==(c=this.pdfThumbnailViewer)?void 0:c.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,c,C,f=!1){const p=n.views,e=p.length;if(0===e)return null;for(let T=0;T<e;T++){const k=p[T].view;if(!this.isViewFinished(k))return k}const i=n.first.id,_=n.last.id;if(_-i+1>e){const T=n.ids;for(let k=1,F=_-i;k<F;k++){const B=C?i+k:_-k;if(T.has(B))continue;const H=c[B-1];if(!this.isViewFinished(H))return H}}let m=C?_:i-2,A=c[m];return A&&!this.isViewFinished(A)||f&&(m+=C?1:-1,A=c[m],A&&!this.isViewFinished(A))?A:null}isViewFinished(n){return n.renderingState===v.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case v.RenderingStates.FINISHED:return!1;case v.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case v.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case v.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(c=>{c instanceof s.RenderingCancelledException||console.error(`renderView: "${c}"`)})}return!0}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextHighlighter=void 0,d.TextHighlighter=class x{constructor({findController:v,eventBus:S,pageIndex:o}){this.findController=v,this.matches=[],this.eventBus=S,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(v,S){this.textDivs=v,this.textContentItemsStr=S}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=v=>{(v.pageIndex===this.pageIdx||-1===v.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(v,S){if(!v)return[];const{textContentItemsStr:o}=this;let r=0,n=0;const c=o.length-1,C=[];for(let f=0,p=v.length;f<p;f++){let e=v[f];for(;r!==c&&e>=n+o[r].length;)n+=o[r].length,r++;r===o.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:r,offset:e-n}};for(e+=S[f];r!==c&&e>n+o[r].length;)n+=o[r].length,r++;i.end={divIdx:r,offset:e-n},C.push(i)}return C}_renderMatches(v){if(0===v.length)return;const{findController:S,pageIdx:o}=this,{textContentItemsStr:r,textDivs:n}=this,c=o===S.selected.pageIdx,C=S.selected.matchIdx;let p=null;function i(T,k){const F=T.divIdx;return n[F].textContent="",_(F,0,T.offset,k)}function _(T,k,F,B){let H=n[T];if(H.nodeType===Node.TEXT_NODE){const N=document.createElement("span");H.parentNode.insertBefore(N,H),N.appendChild(H),n[T]=N,H=N}const X=r[T].substring(k,F),K=document.createTextNode(X);if(B){const N=document.createElement("span");return N.className=`${B} appended`,N.appendChild(K),H.appendChild(N),B.includes("selected")?N.offsetLeft:0}return H.appendChild(K),0}let m=C,A=m+1;if(S.state.highlightAll)m=0,A=v.length;else if(!c)return;for(let T=m;T<A;T++){const k=v[T],F=k.begin,B=k.end,H=c&&T===C,X=H?" selected":"";let K=0;if(p&&F.divIdx===p.divIdx?_(p.divIdx,p.offset,F.offset):(null!==p&&_(p.divIdx,p.offset,undefined),i(F)),F.divIdx===B.divIdx)K=_(F.divIdx,F.offset,B.offset,"highlight"+X);else{K=_(F.divIdx,F.offset,undefined,"highlight begin"+X);for(let N=F.divIdx+1,$=B.divIdx;N<$;N++)n[N].className="highlight middle"+X;i(B,"highlight end"+X)}p=B,H&&S.scrollMatchIntoView({element:n[F.divIdx],selectedLeft:K,pageIndex:o,matchIndex:C})}p&&_(p.divIdx,p.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:v,matches:S,pageIdx:o}=this,{textContentItemsStr:r,textDivs:n}=this;let c=-1;for(let p=0,e=S.length;p<e;p++){const i=S[p];for(let m=Math.max(c,i.begin.divIdx),A=i.end.divIdx;m<=A;m++){const T=n[m];T.textContent=r[m],T.className=""}c=i.end.divIdx+1}(null==v?void 0:v.highlightMatches)&&(this.matches=this._convertMatches(v.pageMatches[o]||null,v.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DownloadManager=void 0;var s=x(3);function v(o,r){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=o,n.target="_parent","download"in n&&(n.download=r),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}d.DownloadManager=class S{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,n){(0,s.createValidAbsoluteUrl)(r,"http://example.com")?v(r+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,n,c){v(URL.createObjectURL(new Blob([r],{type:c})),n)}openOrDownloadData(r,n,c){const C=(0,s.isPdfFile)(c),f=C?"application/pdf":"";if(C){let e,p=this._openBlobUrls.get(r);p||(p=URL.createObjectURL(new Blob([n],{type:f})),this._openBlobUrls.set(r,p)),e="?file="+encodeURIComponent(p+"#"+c);try{return window.open(e),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(p),this._openBlobUrls.delete(r)}}return this.downloadData(n,c,f),!1}download(r,n,c,C="download"){v(URL.createObjectURL(r),c)}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WaitOnType=d.EventBus=d.AutomationEventBus=void 0,d.waitOnEventOrTimeout=function s({target:o,name:r,delay:n=0}){return new Promise(function(c,C){if("object"!=typeof o||!r||"string"!=typeof r||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function f(_){o instanceof v?o._off(r,p):o.removeEventListener(r,p),i&&clearTimeout(i),c(_)}const p=f.bind(null,x.EVENT);o instanceof v?o._on(r,p):o.addEventListener(r,p);const e=f.bind(null,x.TIMEOUT),i=setTimeout(e,n)})};const x={EVENT:"event",TIMEOUT:"timeout"};d.WaitOnType=x;class v{constructor(){this._listeners=Object.create(null)}on(r,n,c=null){this._on(r,n,{external:!0,once:null==c?void 0:c.once})}off(r,n,c=null){this._off(r,n,{external:!0,once:null==c?void 0:c.once})}dispatch(r,n){const c=this._listeners[r];if(!c||0===c.length)return;let C;for(const{listener:f,external:p,once:e}of c.slice(0))e&&this._off(r,f),p?(C||(C=[])).push(f):f(n);if(C){for(const f of C)f(n);C=null}}_on(r,n,c=null){var f;((f=this._listeners)[r]||(f[r]=[])).push({listener:n,external:!0===(null==c?void 0:c.external),once:!0===(null==c?void 0:c.once)})}_off(r,n,c=null){const C=this._listeners[r];if(C)for(let f=0,p=C.length;f<p;f++)if(C[f].listener===n)return void C.splice(f,1)}}d.EventBus=v,d.AutomationEventBus=class S extends v{dispatch(r,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericL10n=void 0,x(19);var s=x(4);const v=document.webL10n;d.GenericL10n=class S{constructor(r){this._lang=r,this._ready=new Promise((n,c)=>{v.setLanguage((0,s.fixupLangCode)(r),()=>{n(v)})})}getLanguage(){var r=this;return g(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return g(function*(){return(yield r._ready).getDirection()})()}get(r,n=null,c=(0,s.getL10nFallback)(r,n)){var C=this;return g(function*(){return(yield C._ready).get(r,n,c)})()}translate(r){var n=this;return g(function*(){return(yield n._ready).translate(r)})()}}},()=>{document.webL10n=function(I,d,x){var s={},v="",S="textContent",o="",r={},n="loading";function i(N,$,ee){$=$||function(M){},ee=ee||function(){};var se=new XMLHttpRequest;se.open("GET",N,!0),se.overrideMimeType&&se.overrideMimeType("text/plain; charset=utf-8"),se.onreadystatechange=function(){4==se.readyState&&(200==se.status||0===se.status?$(se.responseText):ee())},se.onerror=ee,se.ontimeout=ee;try{se.send(null)}catch(he){ee()}}function m(N,$){N&&(N=N.toLowerCase()),$=$||function(){},function A(){s={},v="",o=""}(),o=N;var ee=function C(){return d.querySelectorAll('link[type="application/l10n"]')}(),se=ee.length;if(0!==se){var h,t=0;h=function(){++t>=se&&($(),n="complete")};for(var u=0;u<se;u++)new l(ee[u]).load(N,h)}else{var he=function f(){var N=d.querySelector('script[type="application/l10n"]');return N?JSON.parse(N.innerHTML):null}();if(he&&he.locales&&he.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(s=he.locales[N])){var M=he.default_locale.toLowerCase();for(var a in he.locales){if((a=a.toLowerCase())===N){s=he.locales[N];break}a===M&&(s=he.locales[M])}}$()}else console.log("no resource to load, early way out");n="complete"}function l(b){var E=b.href;this.load=function(V,G){!function _(N,$,ee,se){var he=N.replace(/[^\/]*$/,"")||"./";function M(h){return h.lastIndexOf("\\")<0?h:h.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(N,function(h){v+=h,function a(h,t){var l={},u=/^\s*|\s*$/,y=/^\s*#|^\s*$/,b=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function G(U,Y,Q){var de=U.replace(u,"").split(/[\r\n]+/),Ce="*",te=$.split("-",1)[0],oe=!1,ae="";!function P(){for(;;){if(!de.length)return void Q();var D=de.shift();if(!y.test(D)){if(Y){if(ae=b.exec(D)){Ce=ae[1].toLowerCase(),oe="*"!==Ce&&Ce!==$&&Ce!==te;continue}if(oe)continue;if(ae=E.exec(D))return void W(he+ae[1],P)}var z=D.match(V);z&&3==z.length&&(l[z[1]]=M(z[2]))}}}()}function W(U,Y){i(U,function(Q){G(Q,!1,Y)},function(){console.warn(U+" not found."),Y()})}G(h,!0,function(){t(l)})}(h,function(t){for(var l in t){var u,y,b=l.lastIndexOf(".");b>0?(u=l.substring(0,b),y=l.substring(b+1)):(u=l,y=S),s[u]||(s[u]={}),s[u][y]=t[l]}ee&&ee()})},se)}(E,V,G,function(){console.warn(E+" not found."),console.warn('"'+V+'" resource not found'),o="",G()})}}}function k(N,$,ee){var se=s[N];if(!se){if(console.warn("#"+N+" is undefined."),!ee)return null;se=ee}var he={};for(var M in se){var a=se[M];a=B(a=F(a,$,N,M),$,N),he[M]=a}return he}function F(N,$,ee,se){var M=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(N);if(!M||!M.length)return N;var t,a=M[1],h=M[2];return $&&h in $?t=$[h]:h in s&&(t=s[h]),a in r&&(N=(0,r[a])(N,t,ee,se)),N}function B(N,$,ee){return N.replace(/\{\{\s*(.+?)\s*\}\}/g,function(he,M){return $&&M in $?$[M]:M in s?s[M]:(console.log("argument {{"+M+"}} for #"+ee+" is undefined."),he)})}function H(N){var $=function e(N){if(!N)return{};var $=N.getAttribute("data-l10n-id"),ee=N.getAttribute("data-l10n-args"),se={};if(ee)try{se=JSON.parse(ee)}catch(he){console.warn("could not parse arguments for #"+$)}return{id:$,args:se}}(N);if($.id){var ee=k($.id,$.args);if(!ee)return void console.warn("#"+$.id+" is undefined.");if(ee[S]){if(0===function X(N){if(N.children)return N.children.length;if(void 0!==N.childElementCount)return N.childElementCount;for(var $=0,ee=0;ee<N.childNodes.length;ee++)$+=1===N.nodeType?1:0;return $}(N))N[S]=ee[S];else{for(var se=N.childNodes,he=!1,M=0,a=se.length;M<a;M++)3===se[M].nodeType&&/\S/.test(se[M].nodeValue)&&(he?se[M].nodeValue="":(se[M].nodeValue=ee[S],he=!0));if(!he){var h=d.createTextNode(ee[S]);N.insertBefore(h,N.firstChild)}}delete ee[S]}for(var t in ee)N[t]=ee[t]}}return r.plural=function(N,$,ee,se){var he=parseFloat($);if(isNaN(he)||se!=S)return N;r._pluralRules||(r._pluralRules=function T(N){function ee(a,h){return-1!==h.indexOf(a)}function se(a,h,t){return h<=a&&a<=t}var he={0:function(a){return"other"},1:function(a){return se(a%100,3,10)?"few":0===a?"zero":se(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return se(a,0,1)?"one":"other"},5:function(a){return se(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return se(a,3,6)?"few":se(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&se(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return se(a%10,2,9)&&!se(a%100,11,19)?"few":a%10!=1||se(a%100,11,19)?"other":"one"},11:function(a){return se(a%10,2,4)&&!se(a%100,12,14)?"few":a%10==0||se(a%10,5,9)||se(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return se(a,2,4)?"few":1==a?"one":"other"},13:function(a){return se(a%10,2,4)&&!se(a%100,12,14)?"few":1!=a&&se(a%10,0,1)||se(a%10,5,9)||se(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return se(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||se(a%100,2,10)?"few":se(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":se(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return se(a,2,10)?"few":se(a,0,1)?"one":"other"},20:function(a){return!se(a%10,3,4)&&a%10!=9||se(a%100,10,19)||se(a%100,70,79)||se(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||ee(a%100,[12,72,92])?a%10!=1||ee(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return se(a,0,1)||se(a,11,99)?"one":"other"},23:function(a){return se(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return se(a,3,10)||se(a,13,19)?"few":ee(a,[2,12])?"two":ee(a,[1,11])?"one":"other"}},M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[N.replace(/-.*$/,"")];return M in he?he[M]:(console.warn("plural form unknown for ["+N+"]"),function(){return"other"})}(o));var M="["+r._pluralRules(he)+"]";return 0===he&&ee+"[zero]"in s?N=s[ee+"[zero]"][se]:1==he&&ee+"[one]"in s?N=s[ee+"[one]"][se]:2==he&&ee+"[two]"in s?N=s[ee+"[two]"][se]:ee+M in s?N=s[ee+M][se]:ee+"[other]"in s&&(N=s[ee+"[other]"][se]),N},{get:function(N,$,ee){var M,se=N.lastIndexOf("."),he=S;se>0&&(he=N.substring(se+1),N=N.substring(0,se)),ee&&((M={})[he]=ee);var a=k(N,$,M);return a&&he in a?a[he]:"{{"+N+"}}"},getData:function(){return s},getText:function(){return v},getLanguage:function(){return o},setLanguage:function(N,$){m(N,function(){$&&$()})},getDirection:function(){var $=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf($)>=0?"rtl":"ltr"},translate:function K(N){for(var $=function p(N){return N?N.querySelectorAll("*[data-l10n-id]"):[]}(N=N||d.documentElement),ee=$.length,se=0;se<ee;se++)H($[se]);H(N)},getReadyState:function(){return n},ready:function(N){N&&("complete"==n||"interactive"==n?I.setTimeout(function(){N()}):d.addEventListener&&d.addEventListener("localized",function $(){d.removeEventListener("localized",$),N()}))}}}(window,document)},(I,d,x)=>{var B,Et,X,ot,N,lt,ee,Tt,he,Mt,a,Lt,t,ct,u,kt,b,Rt,V,Je,W,ze,Y,We,de,Ft,te,ht,ae,dt,D,Ze,ge,Ot,me,ut,Pe,Dt,ke,Xe;Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFindController=d.FindState=void 0;var s=x(6),v=x(3),S=x(21);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};d.FindState=o;const C={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},f=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),p=[...f.values()].map(ie=>String.fromCharCode(ie)).join(""),e=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,_=/([^\p{M}])\p{M}*$/u,m=/^\p{M}*([^\p{M}])/u;let A=null;function T(ie){if(!A){const j=Object.keys(C).join("");A=new RegExp(`([${j}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const R=[];let O;for(;null!==(O=e.exec(ie));)R.push([O[0].length,O.index]);let ce=ie.normalize("NFD");const fe=[[0,0]];let Ae=0,ye=0,q=0,_e=0,w=!1;return ce=ce.replace(A,(j,le,ve,Te,xe,Oe)=>{var Re;if(Oe-=q,le){const Ne=C[j],Ve=Ne.length;for(let Be=1;Be<Ve;Be++)fe.push([Oe-ye+Be,ye-Be]);return ye-=Ve-1,Ne}if(ve){const Ne=ve.endsWith("\n"),Ve=Ne?ve.length-2:ve.length;w=!0;let Be=Ve;Oe+_e===(null==(Re=R[Ae])?void 0:Re[1])&&(Be-=R[Ae][0],++Ae);for(let De=1;De<Be+1;De++)fe.push([Oe-1-ye+De,ye-De]);return ye-=Be,q+=Be,Ne?(fe.push([(Oe+=Ve-1)-ye+1,1+ye]),ye+=1,q+=1,_e+=1,ve.slice(0,Ve)):ve}return Te?(fe.push([Oe-ye+1,1+ye]),ye+=1,q+=1,_e+=1,Te.charAt(0)):(fe.push([Oe-ye+1,ye-1]),ye-=1,q+=1,_e+=1," ")}),fe.push([ce.length,ye]),[ce,fe,w]}function k(ie,R,O){if(!ie)return[R,O];const ce=R,fe=R+O;let Ae=(0,s.binarySearchFirstItem)(ie,q=>q[0]>=ce);ie[Ae][0]>ce&&--Ae;let ye=(0,s.binarySearchFirstItem)(ie,q=>q[0]>=fe,Ae);return ie[ye][0]>fe&&--ye,[ce+ie[Ae][1],O+ie[ye][1]-ie[Ae][1]]}B=new WeakSet,Et=function(R){if(!R)return;const O=this._pdfDocument,{type:ce}=R;(null===this._state||Ee(this,ee,Tt).call(this,R))&&(this._dirtyMatch=!0),this._state=R,"highlightallchange"!==ce&&Ee(this,ke,Xe).call(this,o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;Ee(this,b,Rt).call(this);const fe=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ce?this._dirtyMatch?Ee(this,Y,We).call(this):"again"===ce?(Ee(this,Y,We).call(this),fe&&this._state.highlightAll&&Ee(this,W,ze).call(this)):"highlightallchange"===ce?(Ae?Ee(this,Y,We).call(this):this._highlightMatches=!0,Ee(this,W,ze).call(this)):Ee(this,Y,We).call(this):this._findTimeout=setTimeout(()=>{Ee(this,Y,We).call(this),this._findTimeout=null},250)})},X=new WeakSet,ot=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,v.createPromiseCapability)()},N=new WeakSet,lt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=T(this._state.query)),this._normalizedQuery},ee=new WeakSet,Tt=function(R){if(R.query!==this._state.query)return!0;switch(R.type){case"again":const O=this._selected.pageIdx+1,ce=this._linkService;return O>=1&&O<=ce.pagesCount&&O!==ce.page&&!ce.isPageVisible(O);case"highlightallchange":return!1}return!0},he=new WeakSet,Mt=function(R,O,ce){let fe=R.slice(0,O).match(_);if(fe){const Ae=R.charCodeAt(O),ye=fe[1].charCodeAt(0);if((0,S.getCharacterType)(Ae)===(0,S.getCharacterType)(ye))return!1}if(fe=R.slice(O+ce).match(m),fe){const Ae=R.charCodeAt(O+ce-1),ye=fe[1].charCodeAt(0);if((0,S.getCharacterType)(Ae)===(0,S.getCharacterType)(ye))return!1}return!0},a=new WeakSet,Lt=function(R,O,ce,fe){const Ae=[],ye=[],q=this._pageDiffs[ce];let _e;for(;null!==(_e=R.exec(fe));){if(O&&!Ee(this,he,Mt).call(this,fe,_e.index,_e[0].length))continue;const[w,j]=k(q,_e.index,_e[0].length);j&&(Ae.push(w),ye.push(j))}this._pageMatches[ce]=Ae,this._pageMatchesLength[ce]=ye},t=new WeakSet,ct=function(R,O){const{matchDiacritics:ce}=this._state;let fe=!1;return(R=R.replace(i,(ye,q,_e,w,j,le)=>q?`[ ]*\\${q}[ ]*`:_e?`[ ]*${_e}[ ]*`:w?"[ ]+":ce?j||le:j?f.has(j.charCodeAt(0))?j:"":O?(fe=!0,`${le}\\p{M}*`):le)).endsWith("[ ]*")&&(R=R.slice(0,R.length-"[ ]*".length)),ce&&O&&(fe=!0,R=`${R}(?=[${p}]|[^\\p{M}]|$)`),[fe,R]},u=new WeakSet,kt=function(R){let O=we(this,N,lt);if(0===O.length)return;const{caseSensitive:ce,entireWord:fe,phraseSearch:Ae}=this._state,ye=this._pageContents[R],q=this._hasDiacritics[R];let _e=!1;if(Ae)[_e,O]=Ee(this,t,ct).call(this,O,q);else{const le=O.match(/\S+/g);le&&(O=le.sort().reverse().map(ve=>{const[Te,xe]=Ee(this,t,ct).call(this,ve,q);return _e||(_e=Te),`(${xe})`}).join("|"))}O=new RegExp(O,`g${_e?"u":""}${ce?"":"i"}`),Ee(this,a,Lt).call(this,O,fe,R,ye),this._state.highlightAll&&Ee(this,V,Je).call(this,R),this._resumePageIdx===R&&(this._resumePageIdx=null,Ee(this,te,ht).call(this));const j=this._pageMatches[R].length;j>0&&(this._matchesCountTotal+=j,Ee(this,Pe,Dt).call(this))},b=new WeakSet,Rt=function(){if(this._extractTextPromises.length>0)return;let R=Promise.resolve();for(let O=0,ce=this._linkService.pagesCount;O<ce;O++){const fe=(0,v.createPromiseCapability)();this._extractTextPromises[O]=fe.promise,R=R.then(()=>this._pdfDocument.getPage(O+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const ye=[];for(const q of Ae.items)ye.push(q.str),q.hasEOL&&ye.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=T(ye.join("")),fe.resolve()},Ae=>{console.error(`Unable to get text content for page ${O+1}`,Ae),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,fe.resolve()}))}},V=new WeakSet,Je=function(R){this._scrollMatches&&this._selected.pageIdx===R&&(this._linkService.page=R+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:R})},W=new WeakSet,ze=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Y=new WeakSet,We=function(){const R=this._state.findPrevious,O=this._linkService.page-1,ce=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Ee(this,W,ze).call(this);for(let Ae=0;Ae<ce;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),Ee(this,u,kt).call(this,Ae)}))}if(""===we(this,N,lt))return void Ee(this,ke,Xe).call(this,o.FOUND);if(this._resumePageIdx)return;const fe=this._offset;if(this._pagesToSearch=ce,null!==fe.matchIdx){const Ae=this._pageMatches[fe.pageIdx].length;if(!R&&fe.matchIdx+1<Ae||R&&fe.matchIdx>0)return fe.matchIdx=R?fe.matchIdx-1:fe.matchIdx+1,void Ee(this,D,Ze).call(this,!0);Ee(this,ae,dt).call(this,R)}Ee(this,te,ht).call(this)},de=new WeakSet,Ft=function(R){const O=this._offset,ce=R.length,fe=this._state.findPrevious;return ce?(O.matchIdx=fe?ce-1:0,Ee(this,D,Ze).call(this,!0),!0):(Ee(this,ae,dt).call(this,fe),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(Ee(this,D,Ze).call(this,!1),!0))},te=new WeakSet,ht=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let R=null;do{const O=this._offset.pageIdx;if(R=this._pageMatches[O],!R){this._resumePageIdx=O;break}}while(!Ee(this,de,Ft).call(this,R))},ae=new WeakSet,dt=function(R){const O=this._offset,ce=this._linkService.pagesCount;O.pageIdx=R?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=ce||O.pageIdx<0)&&(O.pageIdx=R?ce-1:0,O.wrapped=!0)},D=new WeakSet,Ze=function(R=!1){let O=o.NOT_FOUND;const ce=this._offset.wrapped;if(this._offset.wrapped=!1,R){const fe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=ce?o.WRAPPED:o.FOUND,-1!==fe&&fe!==this._selected.pageIdx&&Ee(this,V,Je).call(this,fe)}Ee(this,ke,Xe).call(this,O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Ee(this,V,Je).call(this,this._selected.pageIdx))},ge=new WeakSet,Ot=function(R){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Ee(this,ke,Xe).call(this,o.FOUND),this._highlightMatches=!1,Ee(this,W,ze).call(this))})},me=new WeakSet,ut=function(){var Ae;const{pageIdx:R,matchIdx:O}=this._selected;let ce=0,fe=this._matchesCountTotal;if(-1!==O){for(let ye=0;ye<R;ye++)ce+=(null==(Ae=this._pageMatches[ye])?void 0:Ae.length)||0;ce+=O+1}return(ce<1||ce>fe)&&(ce=fe=0),{current:ce,total:fe}},Pe=new WeakSet,Dt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Ee(this,me,ut).call(this)})},ke=new WeakSet,Xe=function(R,O=!1){var ce,fe;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:R,previous:O,matchesCount:Ee(this,me,ut).call(this),rawQuery:null!=(fe=null==(ce=this._state)?void 0:ce.query)?fe:null})},d.PDFFindController=class F{constructor({linkService:R,eventBus:O}){Me(this,B),Me(this,X),Me(this,N),Me(this,ee),Me(this,he),Me(this,a),Me(this,t),Me(this,u),Me(this,b),Me(this,V),Me(this,W),Me(this,Y),Me(this,de),Me(this,te),Me(this,ae),Me(this,D),Me(this,ge),Me(this,me),Me(this,Pe),Me(this,ke),this._linkService=R,this._eventBus=O,Ee(this,X,ot).call(this),O._on("find",Ee(this,B,Et).bind(this)),O._on("findbarclose",Ee(this,ge,Ot).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(R){this._pdfDocument&&Ee(this,X,ot).call(this),R&&(this._pdfDocument=R,this._firstPageCapability.resolve())}scrollMatchIntoView({element:R=null,selectedLeft:O=0,pageIndex:ce=-1,matchIndex:fe=-1}){this._scrollMatches&&R&&-1!==fe&&fe===this._selected.matchIdx&&-1!==ce&&ce===this._selected.pageIdx&&(this._scrollMatches=!1,(0,s.scrollIntoView)(R,{top:-50,left:O+-400},!0))}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterType=void 0,d.getCharacterType=function e(i){return function s(i){return i<11904}(i)?function v(i){return 0==(65408&i)}(i)?function r(i){return 32===i||9===i||13===i||10===i}(i)?x.SPACE:function S(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function o(i){return i>=48&&i<=57}(i)||95===i?x.ALPHA_LETTER:x.PUNCT:function p(i){return 3584==(65408&i)}(i)?x.THAI_LETTER:160===i?x.SPACE:x.ALPHA_LETTER:function n(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?x.HAN_LETTER:function c(i){return i>=12448&&i<=12543}(i)?x.KATAKANA_LETTER:function C(i){return i>=12352&&i<=12447}(i)?x.HIRAGANA_LETTER:function f(i){return i>=65376&&i<=65439}(i)?x.HALFWIDTH_KATAKANA_LETTER:x.ALPHA_LETTER};const x={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};d.CharacterType=x},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFHistory=void 0,d.isDestArraysEqual=f,d.isDestHashesEqual=C;var s=x(6),v=x(17);function n(){return document.location.hash}function C(p,e){return"string"==typeof p&&"string"==typeof e&&(p===e||(0,s.parseQueryString)(p).get("nameddest")===e)}function f(p,e){function i(_,m){if(typeof _!=typeof m||Array.isArray(_)||Array.isArray(m))return!1;if(null!==_&&"object"==typeof _&&null!==m){if(Object.keys(_).length!==Object.keys(m).length)return!1;for(const A in _)if(!i(_[A],m[A]))return!1;return!0}return _===m||Number.isNaN(_)&&Number.isNaN(m)}if(!Array.isArray(p)||!Array.isArray(e)||p.length!==e.length)return!1;for(let _=0,m=p.length;_<m;_++)if(!i(p[_],e[_]))return!1;return!0}d.PDFHistory=class c{constructor({linkService:e,eventBus:i}){this.linkService=e,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",_=>{this._isPagesLoaded=!!_.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:i=!1,updateUrl:_=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const m=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===_,this._initialized=!0,this._bindEvents();const A=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(A,!0)||i){const{hash:k,page:F,rotation:B}=this._parseCurrentHash(!0);return!k||m||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:k,page:F,rotation:B},!0)}const T=A.destination;this._updateInternalState(T,A.uid,!0),void 0!==T.rotation&&(this._initialRotation=T.rotation),T.dest?(this._initialBookmark=JSON.stringify(T.dest),this._destination.page=null):T.hash?this._initialBookmark=T.hash:T.page&&(this._initialBookmark=`page=${T.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:i,pageNumber:_}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(_)&&(null!==_||this._destination))return void console.error(`PDFHistory.push: "${_}" is not a valid pageNumber parameter.`);const m=e||JSON.stringify(i);if(!m)return;let A=!1;if(this._destination&&(C(this._destination.hash,m)||f(this._destination.dest,i))){if(this._destination.page)return;A=!0}this._popStateInProgress&&!A||(this._pushOrReplaceState({dest:i,hash:m,page:_,rotation:this.linkService.rotation},A),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var i;if(this._initialized){if(!this._isValidPage(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,i=!1){const _=i||!this._destination,m={fingerprint:this._fingerprint,uid:_?this._uid:this._uid+1,destination:e};let A;if(this._updateInternalState(e,m.uid),this._updateUrl&&(null==e?void 0:e.hash)){const T=document.location.href.split("#")[0];T.startsWith("file://")||(A=`${T}#${e.hash}`)}_?window.history.replaceState(m,"",A):window.history.pushState(m,"",A)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let i=this._position;if(e&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let _=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;_=!0}this._pushOrReplaceState(i,_)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,i=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[_]=performance.getEntriesByType("navigation");if("reload"!==(null==_?void 0:_.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}_updateInternalState(e,i,_=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),_&&(null==e?void 0:e.temporary)&&delete e.temporary,this._destination=e,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const i=unescape(n()).substring(1),_=(0,s.parseQueryString)(i),m=_.get("nameddest")||"";let A=0|_.get("page");return(!this._isValidPage(A)||e&&m.length>0)&&(A=null),{hash:i,page:A,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const i=n(),_=this._currentHash!==i;if(this._currentHash=i,!e){this._uid++;const{hash:A,page:T,rotation:k}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:A,page:T,rotation:k},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,_&&(this._blockHashChange++,(0,v.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const m=e.destination;this._updateInternalState(m,e.uid,!0),(0,s.isValidRotation)(m.rotation)&&(this.linkService.rotation=m.rotation),m.dest?this.linkService.goToDestination(m.dest):m.hash?this.linkService.setHash(m.hash):m.page&&(this.linkService.page=m.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFScriptingManager=void 0;var s=x(6),v=x(3);d.PDFScriptingManager=class S{constructor({eventBus:r,sandboxBundleSrc:n=null,scriptingFactory:c=null,docPropertiesLookup:C=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=n,this._scriptingFactory=c,this._docPropertiesLookup=C,this._scriptingFactory||window.addEventListener("updatefromsandbox",f=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:f.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var n=this;return g(function*(){var p;if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=r,!r)return;const[c,C,f]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(c||f){if(r===n._pdfDocument){try{n._scripting=n._createScripting()}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",e=>{(null==e?void 0:e.source)===window&&n._updateFromSandbox(e.detail)}),n._internalEvents.set("dispatcheventinsandbox",e=>{var i;null==(i=n._scripting)||i.dispatchEventInSandbox(e.detail)}),n._internalEvents.set("pagechanging",({pageNumber:e,previous:i})=>{e!==i&&(n._dispatchPageClose(i),n._dispatchPageOpen(e))}),n._internalEvents.set("pagerendered",({pageNumber:e})=>{!n._pageOpenPending.has(e)||e===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(e)}),n._internalEvents.set("pagesdestroy",function(){var e=g(function*(i){var _,m;yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield null==(_=n._scripting)?void 0:_.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(m=n._closeCapability)||m.resolve()});return function(i){return e.apply(this,arguments)}}()),n._domEvents.set("mousedown",e=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",e=>{n._mouseState.isDown=!1});for(const[e,i]of n._internalEvents)n._eventBus._on(e,i);for(const[e,i]of n._domEvents)window.addEventListener(e,i,!0);try{const e=yield n._getDocProperties();if(r!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:c,calculationOrder:C,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ye($e({},e),{actions:f})}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}yield null==(p=n._scripting)?void 0:p.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(r){var n=this;return g(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var n=this;return g(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var n=this;return g(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var n=this;return g(function*(){var c;return null==(c=n._scripting)?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var r;return(null==(r=this._destroyCapability)?void 0:r.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,v.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,v.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,v.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,v.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var n=this;return g(function*(){var _;const c=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:C,siblings:f,command:p,value:e}=r;if(!C){switch(p){case"clear":console.clear();break;case"error":console.error(e);break;case"layout":if(c)return;const m=(0,s.apiPageLayoutToViewerModes)(e);n._pdfViewer.spreadMode=m.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=e+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(e);break;case"zoom":if(c)return;n._pdfViewer.currentScaleValue=e;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(c)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(c)return;n._pdfViewer.decreaseScale()}return}if(c&&r.focus)return;delete r.id,delete r.siblings;const i=f?[C,...f]:[C];for(const m of i){const A=document.getElementById(m);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):null==(_=n._pdfDocument)||_.annotationStorage.setValue(m,r)}})()}_dispatchPageOpen(r,n=!1){var c=this;return g(function*(){const C=c._pdfDocument,f=c._visitedPages;if(n&&(c._closeCapability=(0,v.createPromiseCapability)()),!c._closeCapability)return;const p=c._pdfViewer.getPageView(r-1);if((null==p?void 0:p.renderingState)!==s.RenderingStates.FINISHED)return void c._pageOpenPending.add(r);c._pageOpenPending.delete(r);const e=g(function*(){var _,m;const i=yield f.has(r)?null:null==(_=p.pdfPage)?void 0:_.getJSActions();C===c._pdfDocument&&(yield null==(m=c._scripting)?void 0:m.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:i}))})();f.set(r,e)})()}_dispatchPageClose(r){var n=this;return g(function*(){var p;const c=n._pdfDocument,C=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(r))return;const f=C.get(r);!f||(C.set(r,null),yield f,c===n._pdfDocument&&(yield null==(p=n._scripting)?void 0:p.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return g(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:n}=x(24);return n(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,v.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=x(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return g(function*(){var n,c;if(!r._scripting)return r._pdfDocument=null,void(null==(n=r._destroyCapability)||n.resolve());r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(C=>{setTimeout(C,1e3)})]).catch(C=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch(C){}for(const[C,f]of r._internalEvents)r._eventBus._off(C,f);r._internalEvents.clear();for(const[C,f]of r._domEvents)window.removeEventListener(C,f,!0);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,null==(c=r._destroyCapability)||c.resolve()})()}}},(I,d,x)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericScripting=void 0,d.docPropertiesLookup=function v(r){return S.apply(this,arguments)};var s=x(3);function S(){return(S=g(function*(r){const c="".split("#")[0];let{info:C,metadata:f,contentDispositionFilename:p,contentLength:e}=yield r.getMetadata();if(!e){const{length:i}=yield r.getDownloadInfo();e=i}return Ye($e({},C),{baseURL:c,filesize:e,filename:p||(0,s.getPdfFilenameFromUrl)(""),metadata:null==f?void 0:f.getRaw(),authors:null==f?void 0:f.get("dc:creator"),numPages:r.numPages,URL:""})})).apply(this,arguments)}d.GenericScripting=class o{constructor(n){this._ready=(0,s.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var c=this;return g(function*(){(yield c._ready).create(n)})()}dispatchEventInSandbox(n){var c=this;return g(function*(){const C=yield c._ready;setTimeout(()=>C.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return g(function*(){(yield n._ready).nukeSandbox()})()}}}],re={};function Z(I){var d=re[I];if(void 0!==d)return d.exports;var x=re[I]={exports:{}};return pe[I](x,x.exports,Z),x.exports}var ne={};return(()=>{var I=ne;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return S.AnnotationLayerBuilder}}),Object.defineProperty(I,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return d.DefaultAnnotationLayerFactory}}),Object.defineProperty(I,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return d.DefaultStructTreeLayerFactory}}),Object.defineProperty(I,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return d.DefaultTextLayerFactory}}),Object.defineProperty(I,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return d.DefaultXfaLayerFactory}}),Object.defineProperty(I,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(I,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(I,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(I,"LinkTarget",{enumerable:!0,get:function(){return x.LinkTarget}}),Object.defineProperty(I,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(I,"PDFFindController",{enumerable:!0,get:function(){return C.PDFFindController}}),Object.defineProperty(I,"PDFHistory",{enumerable:!0,get:function(){return f.PDFHistory}}),Object.defineProperty(I,"PDFLinkService",{enumerable:!0,get:function(){return x.PDFLinkService}}),Object.defineProperty(I,"PDFPageView",{enumerable:!0,get:function(){return p.PDFPageView}}),Object.defineProperty(I,"PDFScriptingManager",{enumerable:!0,get:function(){return e.PDFScriptingManager}}),Object.defineProperty(I,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(I,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}}),Object.defineProperty(I,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(I,"SimpleLinkService",{enumerable:!0,get:function(){return x.SimpleLinkService}}),Object.defineProperty(I,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(I,"TextLayerBuilder",{enumerable:!0,get:function(){return _.TextLayerBuilder}}),Object.defineProperty(I,"XfaLayerBuilder",{enumerable:!0,get:function(){return m.XfaLayerBuilder}}),Object.defineProperty(I,"parseQueryString",{enumerable:!0,get:function(){return s.parseQueryString}});var d=Z(1),x=Z(5),s=Z(6),v=Z(10),S=Z(2),o=Z(16),r=Z(17),n=Z(18),c=Z(4),C=Z(20),f=Z(22),p=Z(12),e=Z(23),i=Z(7),_=Z(8),m=Z(9)})(),ne})(),be.exports=Z()},8926:be=>{function L(g,pe,re,Z,ne,I,d){try{var x=g[I](d),s=x.value}catch(v){return void re(v)}x.done?pe(s):Promise.resolve(s).then(Z,ne)}be.exports=function J(g){return function(){var pe=this,re=arguments;return new Promise(function(Z,ne){var I=g.apply(pe,re);function d(s){L(I,Z,ne,d,x,"next",s)}function x(s){L(I,Z,ne,d,x,"throw",s)}d(void 0)})}},be.exports.__esModule=!0,be.exports.default=be.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);