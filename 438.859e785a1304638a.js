var ft=Object.defineProperty,pt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,Xe=(de,k,ne)=>k in de?ft(de,k,{enumerable:!0,configurable:!0,writable:!0,value:ne}):de[k]=ne,$e=(de,k)=>{for(var ne in k||(k={}))_t.call(k,ne)&&Xe(de,ne,k[ne]);if(et)for(var ne of et(k))mt.call(k,ne)&&Xe(de,ne,k[ne]);return de},Ye=(de,k)=>pt(de,gt(k)),We=(de,k,ne)=>(Xe(de,"symbol"!=typeof k?k+"":k,ne),ne),Qe=(de,k,ne)=>{if(!k.has(de))throw TypeError("Cannot "+ne)},Ae=(de,k,ne)=>(Qe(de,k,"read from private field"),ne?ne.call(de):k.get(de)),ve=(de,k,ne)=>{if(k.has(de))throw TypeError("Cannot add the same private member more than once");k instanceof WeakSet?k.add(de):k.set(de,ne)},Te=(de,k,ne,p)=>(Qe(de,k,"write to private field"),p?p.call(de,ne):k.set(de,ne),ne),tt=(de,k,ne,p)=>({set _(oe){Te(de,k,oe,ne)},get _(){return Ae(de,k,p)}}),ye=(de,k,ne)=>(Qe(de,k,"access private method"),ne);(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[438],{6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,ne;ne=()=>(()=>{"use strict";var __webpack_modules__=[,(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.VerbosityLevel=k.Util=k.UnknownErrorException=k.UnexpectedResponseException=k.UNSUPPORTED_FEATURES=k.TextRenderingMode=k.StreamType=k.RenderingIntentFlag=k.PermissionFlag=k.PasswordResponses=k.PasswordException=k.PageActionEventType=k.OPS=k.MissingPDFException=k.InvalidPDFException=k.ImageKind=k.IDENTITY_MATRIX=k.FormatError=k.FontType=k.FeatureTest=k.FONT_IDENTITY_MATRIX=k.DocumentActionEventType=k.CMapCompressionType=k.BaseException=k.AnnotationType=k.AnnotationStateModelType=k.AnnotationReviewState=k.AnnotationReplyType=k.AnnotationMode=k.AnnotationMarkedState=k.AnnotationFlag=k.AnnotationFieldFlag=k.AnnotationBorderStyleType=k.AnnotationActionEventType=k.AbortException=void 0,k.arrayByteLength=W,k.arraysToBytes=function U(Z){const F=Z.length;if(1===F&&Z[0]instanceof Uint8Array)return Z[0];let O=0;for(let pe=0;pe<F;pe++)O+=W(Z[pe]);let se=0;const he=new Uint8Array(O);for(let pe=0;pe<F;pe++){let ge=Z[pe];ge instanceof Uint8Array||(ge="string"==typeof ge?V(ge):new Uint8Array(ge));const Pe=ge.byteLength;he.set(ge,se),se+=Pe}return he},k.assert=function G(Z,F){Z||B(F)},k.bytesToString=function T(Z){("object"!=typeof Z||null===Z||void 0===Z.length)&&B("Invalid argument for bytesToString");const F=Z.length,O=8192;if(F<O)return String.fromCharCode.apply(null,Z);const se=[];for(let he=0;he<F;he+=O){const pe=Math.min(he+O,F),ge=Z.subarray(he,pe);se.push(String.fromCharCode.apply(null,ge))}return se.join("")},k.createPromiseCapability=function Ee(){const Z=Object.create(null);let F=!1;return Object.defineProperty(Z,"settled",{get:()=>F}),Z.promise=new Promise(function(O,se){Z.resolve=function(he){F=!0,O(he)},Z.reject=function(he){F=!0,se(he)}}),Z},k.createValidAbsoluteUrl=function te(Z,F=null,O=null){if(!Z)return null;try{if(O&&"string"==typeof Z){if(O.addDefaultProtocol&&Z.startsWith("www.")){const he=Z.match(/\./g);he&&he.length>=2&&(Z=`http://${Z}`)}if(O.tryConvertEncoding)try{Z=fe(Z)}catch(he){}}const se=F?new URL(Z,F):new URL(Z);if(function $(Z){if(!Z)return!1;switch(Z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(se))return se}catch(se){}return null},k.escapeString=function z(Z){return Z.replace(/([()\\\n\r])/g,F=>"\n"===F?"\\n":"\r"===F?"\\r":`\\${F}`)},k.getModificationDate=function Ce(Z=new Date){return[Z.getUTCFullYear().toString(),(Z.getUTCMonth()+1).toString().padStart(2,"0"),Z.getUTCDate().toString().padStart(2,"0"),Z.getUTCHours().toString().padStart(2,"0"),Z.getUTCMinutes().toString().padStart(2,"0"),Z.getUTCSeconds().toString().padStart(2,"0")].join("")},k.getVerbosityLevel=function N(){return b},k.info=function j(Z){b>=_.INFOS&&console.log(`Info: ${Z}`)},k.isArrayBuffer=function be(Z){return"object"==typeof Z&&null!==Z&&void 0!==Z.byteLength},k.isArrayEqual=function Se(Z,F){if(Z.length!==F.length)return!1;for(let O=0,se=Z.length;O<se;O++)if(Z[O]!==F[O])return!1;return!0},k.isAscii=function ue(Z){return/^[\x00-\x7F]*$/.test(Z)},k.objectFromMap=function Q(Z){const F=Object.create(null);for(const[O,se]of Z)F[O]=se;return F},k.objectSize=function X(Z){return Object.keys(Z).length},k.setVerbosityLevel=function R(Z){Number.isInteger(Z)&&(b=Z)},k.shadow=ae,k.string32=function H(Z){return String.fromCharCode(Z>>24&255,Z>>16&255,Z>>8&255,255&Z)},k.stringToBytes=V,k.stringToPDFString=function I(Z){if(Z[0]>="\xef"){let O;if("\xfe"===Z[0]&&"\xff"===Z[1]?O="utf-16be":"\xff"===Z[0]&&"\xfe"===Z[1]?O="utf-16le":"\xef"===Z[0]&&"\xbb"===Z[1]&&"\xbf"===Z[2]&&(O="utf-8"),O)try{const se=new TextDecoder(O,{fatal:!0}),he=V(Z);return se.decode(he)}catch(se){q(`stringToPDFString: "${se}".`)}}const F=[];for(let O=0,se=Z.length;O<se;O++){const he=w[Z.charCodeAt(O)];F.push(he?String.fromCharCode(he):Z.charAt(O))}return F.join("")},k.stringToUTF16BEString=function ce(Z){const F=["\xfe\xff"];for(let O=0,se=Z.length;O<se;O++){const he=Z.charCodeAt(O);F.push(String.fromCharCode(he>>8&255),String.fromCharCode(255&he))}return F.join("")},k.stringToUTF8String=fe,k.unreachable=B,k.utf8StringToString=function me(Z){return unescape(encodeURIComponent(Z))},k.warn=q,ne(2),k.IDENTITY_MATRIX=[1,0,0,1,0,0],k.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],k.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},k.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},k.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},k.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},k.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},k.AnnotationReplyType={GROUP:"Group",REPLY:"R"},k.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},k.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},k.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},k.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},k.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},k.PageActionEventType={O:"PageOpen",C:"PageClose"},k.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},k.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const _={ERRORS:0,WARNINGS:1,INFOS:5};k.VerbosityLevel=_,k.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},k.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},k.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},k.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let b=_.WARNINGS;function q(Z){b>=_.WARNINGS&&console.log(`Warning: ${Z}`)}function B(Z){throw new Error(Z)}function ae(Z,F,O){return Object.defineProperty(Z,F,{value:O,enumerable:!0,configurable:!0,writable:!1}),O}const L=function(){function F(O,se){this.constructor===F&&B("Cannot initialize BaseException."),this.message=O,this.name=se}return F.prototype=new Error,F.constructor=F,F}();function V(Z){"string"!=typeof Z&&B("Invalid argument for stringToBytes");const F=Z.length,O=new Uint8Array(F);for(let se=0;se<F;++se)O[se]=255&Z.charCodeAt(se);return O}function W(Z){return void 0!==Z.length?Z.length:void 0!==Z.byteLength?Z.byteLength:void B("Invalid argument for arrayByteLength")}k.BaseException=L,k.PasswordException=class s extends L{constructor(F,O){super(F,"PasswordException"),this.code=O}},k.UnknownErrorException=class h extends L{constructor(F,O){super(F,"UnknownErrorException"),this.details=O}},k.InvalidPDFException=class n extends L{constructor(F){super(F,"InvalidPDFException")}},k.MissingPDFException=class o extends L{constructor(F){super(F,"MissingPDFException")}},k.UnexpectedResponseException=class u extends L{constructor(F,O){super(F,"UnexpectedResponseException"),this.status=O}},k.FormatError=class S extends L{constructor(F){super(F,"FormatError")}},k.AbortException=class A extends L{constructor(F){super(F,"AbortException")}},k.FeatureTest=class J{static get isLittleEndian(){return ae(this,"isLittleEndian",function le(){const Z=new Uint8Array(4);return Z[0]=1,1===new Uint32Array(Z.buffer,0,1)[0]}())}static get isEvalSupported(){return ae(this,"isEvalSupported",function _e(){try{return new Function(""),!0}catch(Z){return!1}}())}static get isOffscreenCanvasSupported(){return ae(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const re=[...Array(256).keys()].map(Z=>Z.toString(16).padStart(2,"0"));class ie{static makeHexColor(F,O,se){return`#${re[F]}${re[O]}${re[se]}`}static scaleMinMax(F,O){let se;F[0]?(F[0]<0&&(se=O[0],O[0]=O[1],O[1]=se),O[0]*=F[0],O[1]*=F[0],F[3]<0&&(se=O[2],O[2]=O[3],O[3]=se),O[2]*=F[3],O[3]*=F[3]):(se=O[0],O[0]=O[2],O[2]=se,se=O[1],O[1]=O[3],O[3]=se,F[1]<0&&(se=O[2],O[2]=O[3],O[3]=se),O[2]*=F[1],O[3]*=F[1],F[2]<0&&(se=O[0],O[0]=O[1],O[1]=se),O[0]*=F[2],O[1]*=F[2]),O[0]+=F[4],O[1]+=F[4],O[2]+=F[5],O[3]+=F[5]}static transform(F,O){return[F[0]*O[0]+F[2]*O[1],F[1]*O[0]+F[3]*O[1],F[0]*O[2]+F[2]*O[3],F[1]*O[2]+F[3]*O[3],F[0]*O[4]+F[2]*O[5]+F[4],F[1]*O[4]+F[3]*O[5]+F[5]]}static applyTransform(F,O){return[F[0]*O[0]+F[1]*O[2]+O[4],F[0]*O[1]+F[1]*O[3]+O[5]]}static applyInverseTransform(F,O){const se=O[0]*O[3]-O[1]*O[2];return[(F[0]*O[3]-F[1]*O[2]+O[2]*O[5]-O[4]*O[3])/se,(-F[0]*O[1]+F[1]*O[0]+O[4]*O[1]-O[5]*O[0])/se]}static getAxialAlignedBoundingBox(F,O){const se=ie.applyTransform(F,O),he=ie.applyTransform(F.slice(2,4),O),pe=ie.applyTransform([F[0],F[3]],O),ge=ie.applyTransform([F[2],F[1]],O);return[Math.min(se[0],he[0],pe[0],ge[0]),Math.min(se[1],he[1],pe[1],ge[1]),Math.max(se[0],he[0],pe[0],ge[0]),Math.max(se[1],he[1],pe[1],ge[1])]}static inverseTransform(F){const O=F[0]*F[3]-F[1]*F[2];return[F[3]/O,-F[1]/O,-F[2]/O,F[0]/O,(F[2]*F[5]-F[4]*F[3])/O,(F[4]*F[1]-F[5]*F[0])/O]}static apply3dTransform(F,O){return[F[0]*O[0]+F[1]*O[1]+F[2]*O[2],F[3]*O[0]+F[4]*O[1]+F[5]*O[2],F[6]*O[0]+F[7]*O[1]+F[8]*O[2]]}static singularValueDecompose2dScale(F){const O=[F[0],F[2],F[1],F[3]],se=F[0]*O[0]+F[1]*O[2],ge=F[2]*O[1]+F[3]*O[3],Pe=(se+ge)/2,we=Math.sqrt((se+ge)**2-4*(se*ge-(F[2]*O[0]+F[3]*O[2])*(F[0]*O[1]+F[1]*O[3])))/2,xe=Pe-we||1;return[Math.sqrt(Pe+we||1),Math.sqrt(xe)]}static normalizeRect(F){const O=F.slice(0);return F[0]>F[2]&&(O[0]=F[2],O[2]=F[0]),F[1]>F[3]&&(O[1]=F[3],O[3]=F[1]),O}static intersect(F,O){const se=Math.max(Math.min(F[0],F[2]),Math.min(O[0],O[2])),he=Math.min(Math.max(F[0],F[2]),Math.max(O[0],O[2]));if(se>he)return null;const pe=Math.max(Math.min(F[1],F[3]),Math.min(O[1],O[3])),ge=Math.min(Math.max(F[1],F[3]),Math.max(O[1],O[3]));return pe>ge?null:[se,pe,he,ge]}static bezierBoundingBox(F,O,se,he,pe,ge,Pe,we){const Me=[],xe=[[],[]];let Re,ke,Ie,Le,Oe,Be,Ne,Ve;for(let qe=0;qe<2;++qe)if(0===qe?(ke=6*F-12*se+6*pe,Re=-3*F+9*se-9*pe+3*Pe,Ie=3*se-3*F):(ke=6*O-12*he+6*ge,Re=-3*O+9*he-9*ge+3*we,Ie=3*he-3*O),Math.abs(Re)<1e-12){if(Math.abs(ke)<1e-12)continue;Le=-Ie/ke,0<Le&&Le<1&&Me.push(Le)}else Ne=ke*ke-4*Ie*Re,Ve=Math.sqrt(Ne),!(Ne<0)&&(Oe=(-ke+Ve)/(2*Re),0<Oe&&Oe<1&&Me.push(Oe),Be=(-ke-Ve)/(2*Re),0<Be&&Be<1&&Me.push(Be));let Fe,De=Me.length;const Ue=De;for(;De--;)Le=Me[De],Fe=1-Le,xe[0][De]=Fe*Fe*Fe*F+3*Fe*Fe*Le*se+3*Fe*Le*Le*pe+Le*Le*Le*Pe,xe[1][De]=Fe*Fe*Fe*O+3*Fe*Fe*Le*he+3*Fe*Le*Le*ge+Le*Le*Le*we;return xe[0][Ue]=F,xe[1][Ue]=O,xe[0][Ue+1]=Pe,xe[1][Ue+1]=we,xe[0].length=xe[1].length=Ue+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}k.Util=ie;const w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fe(Z){return decodeURIComponent(escape(Z))}},(de,k,ne)=>{ne(3)},(de,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.isNodeJS=void 0;const ne=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);k.isNodeJS=ne},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var de,ne,p,oe,ee,Y,K,D,c,nt,f;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:P,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=P,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}function setPDFNetworkStreamFactory(P){createPDFNetworkStream=P}function getDocument(P){const a=new PDFDocumentLoadingTask;let r;if("string"==typeof P||P instanceof URL)r={url:P};else if((0,_util.isArrayBuffer)(P))r={data:P};else if(P instanceof PDFDataRangeTransport)r={range:P};else{if("object"!=typeof P)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!P.url&&!P.data&&!P.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=P}const t=Object.create(null);let l=null,C=null;for(const g in r){const e=r[g];switch(g){case"url":if("undefined"!=typeof window)try{t[g]=new URL(e,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof e||e instanceof URL){t[g]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":l=e;continue;case"worker":C=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)t[g]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)t[g]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");t[g]=new Uint8Array(e)}else t[g]=new Uint8Array(e)}continue}t[g]=e}if(t.CMapReaderFactory=t.CMapReaderFactory||DefaultCMapReaderFactory,t.StandardFontDataFactory=t.StandardFontDataFactory||DefaultStandardFontDataFactory,t.ignoreErrors=!0!==t.stopAtErrors,t.fontExtraProperties=!0===t.fontExtraProperties,t.pdfBug=!0===t.pdfBug,t.enableXfa=!0===t.enableXfa,(!Number.isInteger(t.rangeChunkSize)||t.rangeChunkSize<1)&&(t.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof t.docBaseUrl||(0,_display_utils.isDataScheme)(t.docBaseUrl))&&(t.docBaseUrl=null),(!Number.isInteger(t.maxImageSize)||t.maxImageSize<-1)&&(t.maxImageSize=-1),"string"!=typeof t.cMapUrl&&(t.cMapUrl=null),"string"!=typeof t.standardFontDataUrl&&(t.standardFontDataUrl=null),"boolean"!=typeof t.useWorkerFetch&&(t.useWorkerFetch=t.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&t.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof t.isEvalSupported&&(t.isEvalSupported=!0),"boolean"!=typeof t.disableFontFace&&(t.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof t.useSystemFonts&&(t.useSystemFonts=!_is_node.isNodeJS&&!t.disableFontFace),("object"!=typeof t.ownerDocument||null===t.ownerDocument)&&(t.ownerDocument=globalThis.document),"boolean"!=typeof t.disableRange&&(t.disableRange=!1),"boolean"!=typeof t.disableStream&&(t.disableStream=!1),"boolean"!=typeof t.disableAutoFetch&&(t.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(t.verbosity),!C){const g={verbosity:t.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};C=g.port?PDFWorker.fromPort(g):new PDFWorker(g),a._worker=C}const d=a.docId;return C.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const g=_fetchDocument(C,t,l,d),e=new Promise(function(i){let _;l?_=new _transport_stream.PDFDataTransportStream({length:t.length,initialData:t.initialData,progressiveDone:t.progressiveDone,contentDispositionFilename:t.contentDispositionFilename,disableRange:t.disableRange,disableStream:t.disableStream},l):t.data||(_=createPDFNetworkStream({url:t.url,length:t.length,httpHeaders:t.httpHeaders,withCredentials:t.withCredentials,rangeChunkSize:t.rangeChunkSize,disableRange:t.disableRange,disableStream:t.disableStream})),i(_)});return Promise.all([g,e]).then(function([i,_]){if(a.destroyed)throw new Error("Loading aborted");const m=new _message_handler.MessageHandler(d,i,C.port),y=new WorkerTransport(m,a,_,t);a._transport=y,m.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(P,a,r,t){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(P,a,r,t){if(P.destroyed)throw new Error("Worker was destroyed");r&&(a.length=r.length,a.initialData=r.initialData,a.progressiveDone=r.progressiveDone,a.contentDispositionFilename=r.contentDispositionFilename);const l=yield P.messageHandler.sendWithPromise("GetDocRequest",{docId:t,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(P.destroyed)throw new Error("Worker was destroyed");return l})).apply(this,arguments)}const k=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+tt(k,de)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){var r;a.destroyed=!0,yield null==(r=a._transport)?void 0:r.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}};let PDFDocumentLoadingTask=k;de=new WeakMap,ve(PDFDocumentLoadingTask,de,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,r,t=!1,l=null){this.length=a,this.initialData=r,this.progressiveDone=t,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,r){for(const t of this._rangeListeners)t(a,r)}onDataProgress(a,r){this._readyCapability.promise.then(()=>{for(const t of this._progressListeners)t(a,r)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,r){var l,t=this;this._pdfInfo=a,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(l=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),t.stats||{streamTypes:{},fontTypes:{}}}),function(){return l.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,r,t,l,C=!1){this._pageIndex=a,this._pageInfo=r,this._ownerDocument=l,this._transport=t,this._stats=C?new _display_utils.StatTimer:null,this._pdfBug=C,this.commonObjs=t.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:r=this.rotate,offsetX:t=0,offsetY:l=0,dontFlip:C=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:r,offsetX:t,offsetY:l,dontFlip:C})}getAnnotations({intent:a="display"}={}){const r=this._transport.getRenderingIntent(a);let t=this._annotationPromises.get(r.cacheKey);return t||(t=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,t),t=t.then(l=>{for(const C of l)void 0!==C.titleObj&&Object.defineProperty(C,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),C.titleObj.str)}),void 0!==C.contentsObj&&Object.defineProperty(C,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),C.contentsObj.str)});return l})),t}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){var r;return(null==(r=a._transport._htmlForXfa)?void 0:r.children[a._pageIndex])||null})()}render({canvasContext:a,viewport:r,intent:t="display",annotationMode:l=_util.AnnotationMode.ENABLE,transform:C=null,imageLayer:d=null,canvasFactory:g=null,background:e=null,optionalContentConfigPromise:i=null,annotationCanvasMap:_=null,pageColors:m=null}){var q,B;void 0!==(null==(q=arguments[0])?void 0:q.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(B=arguments[0])?void 0:B.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const y=this._transport.getRenderingIntent(t,l);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let x=this._intentStates.get(y.cacheKey);x||(x=Object.create(null),this._intentStates.set(y.cacheKey,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const M=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),b=!!(y.renderingIntent&_util.RenderingIntentFlag.PRINT);x.displayReadyCapability||(x.displayReadyCapability=(0,_util.createPromiseCapability)(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(y));const R=G=>{x.renderTasks.delete(N),(this.cleanupAfterRender||b)&&(this.pendingCleanup=!0),this._tryCleanup(),G?(N.capability.reject(G),this._abortOperatorList({intentState:x,reason:G instanceof Error?G:new Error(G)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},N=new InternalRenderTask({callback:R,params:{canvasContext:a,viewport:r,transform:C,imageLayer:d,background:e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:_,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:M,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:m});(x.renderTasks||(x.renderTasks=new Set)).add(N);const j=N.task;return Promise.all([x.displayReadyCapability.promise,i]).then(([G,$])=>{this.pendingCleanup?R():(this._stats&&this._stats.time("Rendering"),N.initializeGraphics({transparency:G,optionalContentConfig:$}),N.operatorListChanged())}).catch(R),j}getOperatorList({intent:a="display",annotationMode:r=_util.AnnotationMode.ENABLE}={}){const l=this._transport.getRenderingIntent(a,r,!0);let d,C=this._intentStates.get(l.cacheKey);return C||(C=Object.create(null),this._intentStates.set(l.cacheKey,C)),C.opListReadCapability||(d=Object.create(null),d.operatorListChanged=function t(){C.operatorList.lastChunk&&(C.opListReadCapability.resolve(C.operatorList),C.renderTasks.delete(d))},C.opListReadCapability=(0,_util.createPromiseCapability)(),(C.renderTasks||(C.renderTasks=new Set)).add(d),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)),C.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===r},{highWaterMark:100,size:l=>l.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));const r=this.streamTextContent(a);return new Promise(function(t,l){const d=r.getReader(),g={items:[],styles:Object.create(null)};!function C(){d.read().then(function({value:e,done:i}){i?t(g):(Object.assign(g.styles,e.styles),g.items.push(...e.items),C())},l)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const t of r.renderTasks)a.push(t.completed),t.cancel();this.objs.clear();for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:r,operatorList:t}of this._intentStates.values())if(r.size>0||!t.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,r){const t=this._intentStates.get(r);!t||(this._stats&&this._stats.timeEnd("Page Request"),t.displayReadyCapability&&t.displayReadyCapability.resolve(a))}_renderPageChunk(a,r){for(let t=0,l=a.length;t<l;t++)r.operatorList.fnArray.push(a.fnArray[t]),r.operatorList.argsArray.push(a.argsArray[t]);r.operatorList.lastChunk=a.lastChunk;for(const t of r.renderTasks)t.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:r}){const l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:r,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),C=this._intentStates.get(r);C.streamReader=l;const d=()=>{l.read().then(({value:g,done:e})=>{e?C.streamReader=null:this._transport.destroyed||(this._renderPageChunk(g,C),d())},g=>{if(C.streamReader=null,!this._transport.destroyed){if(C.operatorList){C.operatorList.lastChunk=!0;for(const e of C.renderTasks)e.operatorListChanged();this._tryCleanup()}if(C.displayReadyCapability)C.displayReadyCapability.reject(g);else{if(!C.opListReadCapability)throw g;C.opListReadCapability.reject(g)}}})};d()}_abortOperatorList({intentState:a,reason:r,force:t=!1}){if(a.streamReader){if(!t){if(a.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:r,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[l,C]of this._intentStates)if(C===a){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,r){const t={data:structuredClone(a,r)};this._deferred.then(()=>{for(const l of this._listeners)l.call(this,t)})}addEventListener(a,r){this._listeners.push(r)}removeEventListener(a,r){const t=this._listeners.indexOf(r);this._listeners.splice(t,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const P=null==(ne=null==document?void 0:document.currentScript)?void 0:ne.src;P&&(PDFWorkerUtil.fallbackWorkerSrc=P.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(P,a){let r;try{if(r=new URL(P),!r.origin||"null"===r.origin)return!1}catch(l){return!1}const t=new URL(a,r);return r.origin===t.origin},PDFWorkerUtil.createCDNWrapper=function(P){return URL.createObjectURL(new Blob([`importScripts("${P}");`]))};const _PDFWorker=class{constructor({name:P=null,port:a=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(a&&Ae(_PDFWorker,p).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=P,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return Ae(_PDFWorker,p).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(P){this._port=P,this._messageHandler=new _message_handler.MessageHandler("main","worker",P),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let P=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,P)||(P=PDFWorkerUtil.createCDNWrapper(new URL(P,window.location).href));const a=new Worker(P),r=new _message_handler.MessageHandler("main","worker",a),t=()=>{a.removeEventListener("error",l),r.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=()=>{this._webWorker||t()};a.addEventListener("error",l),r.on("test",d=>{a.removeEventListener("error",l),this.destroyed?t():d?(this._messageHandler=r,this._port=a,this._webWorker=a,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),a.terminate())}),r.on("ready",d=>{if(a.removeEventListener("error",l),this.destroyed)t();else try{C()}catch(g){this._setupFakeWorker()}});const C=()=>{const d=new Uint8Array;r.send("test",d,[d.buffer])};return void C()}catch(a){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(P=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const r="fake"+PDFWorkerUtil.fakeWorkerId++,t=new _message_handler.MessageHandler(r+"_worker",r,a);P.setup(t,a);const l=new _message_handler.MessageHandler(r,r+"_worker",a);this._messageHandler=l,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})}).catch(P=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${P.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ae(_PDFWorker,p).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(P){if(!(null==P?void 0:P.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ae(this,p).has(P.port)?Ae(this,p).get(P.port):new _PDFWorker(P)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var P;try{return(null==(P=globalThis.pdfjsWorker)?void 0:P.WorkerMessageHandler)||null}catch(a){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function P(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;p=new WeakMap,ve(PDFWorker,p,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(a,r,t,l){ve(this,oe,null),ve(this,ee,new Map),ve(this,Y,new Map),ve(this,K,null),this.messageHandler=a,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this._params=l,l.useWorkerFetch||(this.CMapReaderFactory=new l.CMapReaderFactory({baseUrl:l.cMapUrl,isCompressed:l.cMapPacked}),this.StandardFontDataFactory=new l.StandardFontDataFactory({baseUrl:l.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ae(this,oe)}getRenderingIntent(a,r=_util.AnnotationMode.ENABLE,t=!1){let l=_util.RenderingIntentFlag.DISPLAY,C="";switch(a){case"any":l=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":l=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(r){case _util.AnnotationMode.DISABLE:l+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:l+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:l+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,C=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return t&&(l+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:l,cacheKey:`${l}_${C}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const t of Ae(this,ee).values())a.push(t._destroy());Ae(this,ee).clear(),Ae(this,Y).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return a.push(r),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Te(this,K,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:r}=this;a.on("GetReader",(t,l)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=C=>{this._lastProgress={loaded:C.loaded,total:C.total}},l.onPull=()=>{this._fullReader.read().then(function({value:C,done:d}){d?l.close():((0,_util.assert)((0,_util.isArrayBuffer)(C),"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(C),1,[C]))}).catch(C=>{l.error(C)})},l.onCancel=C=>{this._fullReader.cancel(C),l.ready.catch(d=>{if(!this.destroyed)throw d})}}),a.on("ReaderHeadersReady",t=>{const l=(0,_util.createPromiseCapability)(),C=this._fullReader;return C.headersReady.then(()=>{var d;(!C.isStreamingSupported||!C.isRangeSupported)&&(this._lastProgress&&(null==(d=r.onProgress)||d.call(r,this._lastProgress)),C.onProgress=g=>{var e;null==(e=r.onProgress)||e.call(r,{loaded:g.loaded,total:g.total})}),l.resolve({isStreamingSupported:C.isStreamingSupported,isRangeSupported:C.isRangeSupported,contentLength:C.contentLength})},l.reject),l.promise}),a.on("GetRangeReader",(t,l)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const C=this._networkStream.getRangeReader(t.begin,t.end);C?(l.onPull=()=>{C.read().then(function({value:d,done:g}){g?l.close():((0,_util.assert)((0,_util.isArrayBuffer)(d),"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(d),1,[d]))}).catch(d=>{l.error(d)})},l.onCancel=d=>{C.cancel(d),l.ready.catch(g=>{if(!this.destroyed)throw g})}):l.close()}),a.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(t,this))}),a.on("DocException",function(t){let l;switch(t.name){case"PasswordException":l=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":l=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":l=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":l=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":l=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(l)}),a.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){const l=C=>{C instanceof Error?this._passwordCapability.reject(C):this._passwordCapability.resolve({password:C})};try{r.onPassword(l,t.code)}catch(C){this._passwordCapability.reject(C)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),a.on("DataLoaded",t=>{var l;null==(l=r.onProgress)||l.call(r,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),a.on("StartRenderPage",t=>{this.destroyed||Ae(this,ee).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),a.on("commonobj",([t,l,C])=>{var d;if(!this.destroyed&&!this.commonObjs.has(t))switch(l){case"Font":const g=this._params;if("error"in C){const _=C.error;(0,_util.warn)(`Error during font loading: ${_}`),this.commonObjs.resolve(t,_);break}let e=null;g.pdfBug&&(null==(d=globalThis.FontInspector)?void 0:d.enabled)&&(e={registerFont(_,m){globalThis.FontInspector.fontAdded(_,m)}});const i=new _font_loader.FontFaceObject(C,{isEvalSupported:g.isEvalSupported,disableFontFace:g.disableFontFace,ignoreErrors:g.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(i).catch(_=>a.sendWithPromise("FontFallback",{id:t})).finally(()=>{!g.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(t,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(t,C);break;default:throw new Error(`Got unknown common object type ${l}`)}}),a.on("obj",([t,l,C,d])=>{var e;if(this.destroyed)return;const g=Ae(this,ee).get(l);if(!g.objs.has(t))switch(C){case"Image":g.objs.resolve(t,d);const i=8e6;if(d){let _;if(d.bitmap){const{bitmap:m,width:y,height:x}=d;_=y*x*4,g._bitmaps.add(m)}else _=(null==(e=d.data)?void 0:e.length)||0;_>i&&(g.cleanupAfterRender=!0)}break;case"Pattern":g.objs.resolve(t,d);break;default:throw new Error(`Got unknown object type ${C}`)}}),a.on("DocProgress",t=>{var l;this.destroyed||null==(l=r.onProgress)||l.call(r,{loaded:t.loaded,total:t.total})}),a.on("DocStats",t=>{this.destroyed||Te(this,oe,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){var r,t;this.destroyed||null==(t=(r=this.loadingTask).onUnsupportedFeature)||t.call(r,a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=a-1,t=Ae(this,Y).get(r);if(t)return t;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(C=>{if(this.destroyed)throw new Error("Transport destroyed");const d=new PDFPageProxy(r,C,this,this._params.ownerDocument,this._params.pdfBug);return Ae(this,ee).set(r,d),d});return Ae(this,Y).set(r,l),l}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:r})}saveDocument(){var a,r;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(r=null==(a=this._fullReader)?void 0:a.filename)?r:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ae(this,K)||Te(this,K,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>{var r,t,l,C;return{info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:null!=(t=null==(r=this._fullReader)?void 0:r.filename)?t:null,contentLength:null!=(C=null==(l=this._fullReader)?void 0:l.contentLength)?C:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var r=this;return _asyncToGenerator(function*(){if(yield r.messageHandler.sendWithPromise("Cleanup",null),!r.destroyed){for(const t of Ae(r,ee).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);r.commonObjs.clear(),a||r.fontLoader.clear(),Te(r,K,null),r._getFieldObjectsPromise=null,r._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}oe=new WeakMap,ee=new WeakMap,Y=new WeakMap,K=new WeakMap;class PDFObjects{constructor(){ve(this,c),ve(this,D,Object.create(null))}get(a,r=null){if(r){const l=ye(this,c,nt).call(this,a);return l.capability.promise.then(()=>r(l.data)),null}const t=Ae(this,D)[a];if(!(null==t?void 0:t.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${a}.`);return t.data}has(a){const r=Ae(this,D)[a];return(null==r?void 0:r.capability.settled)||!1}resolve(a,r=null){const t=ye(this,c,nt).call(this,a);t.data=r,t.capability.resolve()}clear(){Te(this,D,Object.create(null))}}D=new WeakMap,c=new WeakSet,nt=function(a){return Ae(this,D)[a]||(Ae(this,D)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const v=class{constructor({callback:a,params:r,objs:t,commonObjs:l,annotationCanvasMap:C,operatorList:d,pageIndex:g,canvasFactory:e,useRequestAnimationFrame:i=!1,pdfBug:_=!1,pageColors:m=null}){this.callback=a,this.params=r,this.objs=t,this.commonObjs=l,this.annotationCanvasMap=C,this.operatorListIdx=null,this.operatorList=d,this._pageIndex=g,this.canvasFactory=e,this._pdfBug=_,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:r}){var e;if(this.cancelled)return;if(this._canvas){if(Ae(v,f).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ae(v,f).add(this._canvas)}this._pdfBug&&(null==(e=globalThis.StepperManager)?void 0:e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:t,viewport:l,transform:C,imageLayer:d,background:g}=this.params;this.gfx=new _canvas.CanvasGraphics(t,this.commonObjs,this.objs,this.canvasFactory,d,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:C,viewport:l,transparency:a,background:g}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ae(v,f).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&Ae(v,f).delete(a._canvas),a.callback())))})()}};let InternalRenderTask=v;f=new WeakMap,ve(InternalRenderTask,f,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.StatTimer=k.RenderingCancelledException=k.PixelsPerInch=k.PageViewport=k.PDFDateString=k.DOMStandardFontDataFactory=k.DOMSVGFactory=k.DOMCanvasFactory=k.DOMCMapReaderFactory=void 0,k.deprecated=function i(M){console.log("Deprecated API usage: "+M)},k.getFilenameFromUrl=function l(M){const b=M.indexOf("#"),R=M.indexOf("?"),N=Math.min(b>0?b:M.length,R>0?R:M.length);return M.substring(M.lastIndexOf("/",N)+1,N)},k.getPdfFilenameFromUrl=function C(M,b="document.pdf"){if("string"!=typeof M)return b;if(r(M))return(0,oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),b;const N=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,j=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(M);let q=N.exec(j[1])||N.exec(j[2])||N.exec(j[3]);if(q&&(q=q[0],q.includes("%")))try{q=N.exec(decodeURIComponent(q))[0]}catch(B){}return q||b},k.getXfaPageViewport=function y(M,{scale:b=1,rotation:R=0}){const{width:N,height:j}=M.attributes.style,q=[0,0,parseInt(N),parseInt(j)];return new P({viewBox:q,scale:b,rotation:R})},k.isDataScheme=r,k.isPdfFile=function t(M){return"string"==typeof M&&/\.pdf$/i.test(M)},k.isValidFetchUrl=g,k.loadScript=function e(M,b=!1){return new Promise((R,N)=>{const j=document.createElement("script");j.src=M,j.onload=function(q){b&&j.remove(),R(q)},j.onerror=function(){N(new Error(`Cannot load script at: ${j.src}`))},(document.head||document.documentElement).appendChild(j)})};var p=ne(6),oe=ne(1);const x=class{};let _,Y=x;function D(M){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(function*(M,b=!1){if(g(M,document.baseURI)){const R=yield fetch(M);if(!R.ok)throw new Error(R.statusText);return b?new Uint8Array(yield R.arrayBuffer()):(0,oe.stringToBytes)(yield R.text())}return new Promise((R,N)=>{const j=new XMLHttpRequest;j.open("GET",M,!0),b&&(j.responseType="arraybuffer"),j.onreadystatechange=()=>{if(j.readyState===XMLHttpRequest.DONE){if(200===j.status||0===j.status){let q;if(b&&j.response?q=new Uint8Array(j.response):!b&&j.responseText&&(q=(0,oe.stringToBytes)(j.responseText)),q)return void R(q)}N(new Error(j.statusText))}},j.send(null)})})).apply(this,arguments)}We(Y,"CSS",96),We(Y,"PDF",72),We(Y,"PDF_TO_CSS_UNITS",x.CSS/x.PDF),k.PixelsPerInch=Y,k.DOMCanvasFactory=class K extends p.BaseCanvasFactory{constructor({ownerDocument:b=globalThis.document}={}){super(),this._document=b}_createCanvas(b,R){const N=this._document.createElement("canvas");return N.width=b,N.height=R,N}},k.DOMCMapReaderFactory=class E extends p.BaseCMapReaderFactory{_fetchData(b,R){return D(b,this.isCompressed).then(N=>({cMapData:N,compressionType:R}))}},k.DOMStandardFontDataFactory=class f extends p.BaseStandardFontDataFactory{_fetchData(b){return D(b,!0)}},k.DOMSVGFactory=class v extends p.BaseSVGFactory{_createSVG(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}};class P{constructor({viewBox:b,scale:R,rotation:N,offsetX:j=0,offsetY:q=0,dontFlip:B=!1}){this.viewBox=b,this.scale=R,this.rotation=N,this.offsetX=j,this.offsetY=q;const G=(b[2]+b[0])/2,$=(b[3]+b[1])/2;let te,ae,L,s,h,n,o,u;switch((N%=360)<0&&(N+=360),N){case 180:te=-1,ae=0,L=0,s=1;break;case 90:te=0,ae=1,L=1,s=0;break;case 270:te=0,ae=-1,L=-1,s=0;break;case 0:te=1,ae=0,L=0,s=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(L=-L,s=-s),0===te?(h=Math.abs($-b[1])*R+j,n=Math.abs(G-b[0])*R+q,o=Math.abs(b[3]-b[1])*R,u=Math.abs(b[2]-b[0])*R):(h=Math.abs(G-b[0])*R+j,n=Math.abs($-b[1])*R+q,o=Math.abs(b[2]-b[0])*R,u=Math.abs(b[3]-b[1])*R),this.transform=[te*R,ae*R,L*R,s*R,h-te*R*G-L*R*$,n-ae*R*G-s*R*$],this.width=o,this.height=u}clone({scale:b=this.scale,rotation:R=this.rotation,offsetX:N=this.offsetX,offsetY:j=this.offsetY,dontFlip:q=!1}={}){return new P({viewBox:this.viewBox.slice(),scale:b,rotation:R,offsetX:N,offsetY:j,dontFlip:q})}convertToViewportPoint(b,R){return oe.Util.applyTransform([b,R],this.transform)}convertToViewportRectangle(b){const R=oe.Util.applyTransform([b[0],b[1]],this.transform),N=oe.Util.applyTransform([b[2],b[3]],this.transform);return[R[0],R[1],N[0],N[1]]}convertToPdfPoint(b,R){return oe.Util.applyInverseTransform([b,R],this.transform)}}function r(M){const b=M.length;let R=0;for(;R<b&&""===M[R].trim();)R++;return"data:"===M.substring(R,R+5).toLowerCase()}function g(M,b){try{const{protocol:R}=b?new URL(M,b):new URL(M);return"http:"===R||"https:"===R}catch(R){return!1}}k.PageViewport=P,k.RenderingCancelledException=class a extends oe.BaseException{constructor(b,R){super(b,"RenderingCancelledException"),this.type=R}},k.StatTimer=class d{constructor(){this.started=Object.create(null),this.times=[]}time(b){b in this.started&&(0,oe.warn)(`Timer is already running for ${b}`),this.started[b]=Date.now()}timeEnd(b){b in this.started||(0,oe.warn)(`Timer has not been started for ${b}`),this.times.push({name:b,start:this.started[b],end:Date.now()}),delete this.started[b]}toString(){const b=[];let R=0;for(const N of this.times){const j=N.name;j.length>R&&(R=j.length)}for(const N of this.times){const j=N.end-N.start;b.push(`${N.name.padEnd(R)} ${j}ms\n`)}return b.join("")}},k.PDFDateString=class m{static toDateObject(b){if(!b||"string"!=typeof b)return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const R=_.exec(b);if(!R)return null;const N=parseInt(R[1],10);let j=parseInt(R[2],10);j=j>=1&&j<=12?j-1:0;let q=parseInt(R[3],10);q=q>=1&&q<=31?q:1;let B=parseInt(R[4],10);B=B>=0&&B<=23?B:0;let G=parseInt(R[5],10);G=G>=0&&G<=59?G:0;let $=parseInt(R[6],10);$=$>=0&&$<=59?$:0;const te=R[7]||"Z";let ae=parseInt(R[8],10);ae=ae>=0&&ae<=23?ae:0;let L=parseInt(R[9],10)||0;return L=L>=0&&L<=59?L:0,"-"===te?(B+=ae,G+=L):"+"===te&&(B-=ae,G-=L),new Date(Date.UTC(N,j,q,B,G,$))}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.BaseStandardFontDataFactory=k.BaseSVGFactory=k.BaseCanvasFactory=k.BaseCMapReaderFactory=void 0;var p=ne(1);class oe{constructor(){this.constructor===oe&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,E){if(c<=0||E<=0)throw new Error("Invalid canvas size");const f=this._createCanvas(c,E);return{canvas:f,context:f.getContext("2d")}}reset(c,E,f){if(!c.canvas)throw new Error("Canvas is not specified");if(E<=0||f<=0)throw new Error("Invalid canvas size");c.canvas.width=E,c.canvas.height=f}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,E){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}k.BaseCanvasFactory=oe;class ee{constructor({baseUrl:c=null,isCompressed:E=!1}){this.constructor===ee&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=E}fetch({name:c}){var E=this;return _asyncToGenerator(function*(){if(!E.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const f=E.baseUrl+c+(E.isCompressed?".bcmap":"");return E._fetchData(f,E.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(P=>{throw new Error(`Unable to load ${E.isCompressed?"binary ":""}CMap at: ${f}`)})})()}_fetchData(c,E){(0,p.unreachable)("Abstract method `_fetchData` called.")}}k.BaseCMapReaderFactory=ee;class Y{constructor({baseUrl:c=null}){this.constructor===Y&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch({filename:c}){var E=this;return _asyncToGenerator(function*(){if(!E.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const f=`${E.baseUrl}${c}`;return E._fetchData(f).catch(v=>{throw new Error(`Unable to load font data at: ${f}`)})})()}_fetchData(c){(0,p.unreachable)("Abstract method `_fetchData` called.")}}k.BaseStandardFontDataFactory=Y;class K{constructor(){this.constructor===K&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,E){if(c<=0||E<=0)throw new Error("Invalid SVG dimensions");const f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width",`${c}px`),f.setAttribute("height",`${E}px`),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${c} ${E}`),f}createElement(c){if("string"!=typeof c)throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,p.unreachable)("Abstract method `_createSVG` called.")}}k.BaseSVGFactory=K},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.FontLoader=k.FontFaceObject=void 0;var p=ne(1);class oe{constructor({docId:D,onUnsupportedFeature:c,ownerDocument:E=globalThis.document,styleElement:f=null}){this.constructor===oe&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=D,this._onUnsupportedFeature=c,this._document=E,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(D){this.nativeFontFaces.push(D),this._document.fonts.add(D)}insertRule(D){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(c));const E=c.sheet;E.insertRule(D,E.cssRules.length)}clear(){for(const D of this.nativeFontFaces)this._document.fonts.delete(D);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(D){var c=this;return _asyncToGenerator(function*(){if(D.attached||D.missingFile)return;if(D.attached=!0,c.isFontLoadingAPISupported){const f=D.createNativeFontFace();if(f){c.addNativeFontFace(f);try{yield f.loaded}catch(v){throw c._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${f.family}': '${v}'.`),D.disableFontFace=!0,v}}return}const E=D.createFontFaceRule();if(E){if(c.insertRule(E),c.isSyncFontLoadingSupported)return;yield new Promise(f=>{const v=c._queueLoadingCallback(f);c._prepareFontLoadEvent([E],[D],v)})}})()}_queueLoadingCallback(D){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var c;const D=!!(null==(c=this._document)?void 0:c.fonts);return(0,p.shadow)(this,"isFontLoadingAPISupported",D)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(D,c,E){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ee;k.FontLoader=ee,k.FontLoader=ee=class extends oe{constructor(D){super(D),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let D=!1;if("undefined"==typeof navigator)D=!0;else{const c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==c?void 0:c[1])>=14&&(D=!0)}return(0,p.shadow)(this,"isSyncFontLoadingSupported",D)}_queueLoadingCallback(D){const E=this.loadingContext,f={id:"pdfjs-font-loading-"+E.nextRequestId++,done:!1,complete:function c(){for((0,p.assert)(!f.done,"completeRequest() cannot be called twice."),f.done=!0;E.requests.length>0&&E.requests[0].done;){const v=E.requests.shift();setTimeout(v.callback,0)}},callback:D};return E.requests.push(f),f}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(D,c,E){function f(R,N){return R.charCodeAt(N)<<24|R.charCodeAt(N+1)<<16|R.charCodeAt(N+2)<<8|255&R.charCodeAt(N+3)}function v(R,N,j,q){return R.substring(0,N)+q+R.substring(N+j)}let P,a;const r=this._document.createElement("canvas");r.width=1,r.height=1;const t=r.getContext("2d");let l=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=v(g,976,d.length,d);const _=1482184792;let m=f(g,16);for(P=0,a=d.length-3;P<a;P+=4)m=m-_+f(d,P)|0;P<d.length&&(m=m-_+f(d+"XXX",P)|0),g=v(g,16,4,(0,p.string32)(m));const y=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${d}";src:${y}}`);const M=[];for(const R of c)M.push(R.loadedName);M.push(d);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const R of M){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=R,b.appendChild(N)}this._document.body.appendChild(b),function C(R,N){if(l++,l>30)return(0,p.warn)("Load test font never loaded."),void N();t.font="30px "+R,t.fillText(".",0,20),t.getImageData(0,0,1,1).data[3]>0?N():setTimeout(C.bind(null,R,N))}(d,()=>{b.remove(),E.complete()})}},k.FontFaceObject=class Y{constructor(D,{isEvalSupported:c=!0,disableFontFace:E=!1,ignoreErrors:f=!1,onUnsupportedFeature:v,fontRegistry:P=null}){this.compiledGlyphs=Object.create(null);for(const a in D)this[a]=D[a];this.isEvalSupported=!1!==c,this.disableFontFace=!0===E,this.ignoreErrors=!0===f,this._onUnsupportedFeature=v,this.fontRegistry=P}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let D;if(this.cssFontInfo){const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),D=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}else D=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),D}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const D=(0,p.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(D)});`;let E;if(this.cssFontInfo){let f=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(f+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),E=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${f}src:${c}}`}else E=`@font-face {font-family:"${this.loadedName}";src:${c}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,c),E}getPathGenerator(D,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];let E;try{E=D.get(this.loadedName+"_path_"+c)}catch(f){if(!this.ignoreErrors)throw f;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[c]=function(v,P){}}if(this.isEvalSupported&&p.FeatureTest.isEvalSupported){const f=[];for(const v of E){const P=void 0!==v.args?v.args.join(","):"";f.push("c.",v.cmd,"(",P,");\n")}return this.compiledGlyphs[c]=new Function("c","size",f.join(""))}return this.compiledGlyphs[c]=function(f,v){for(const P of E)"scale"===P.cmd&&(P.args=[v,-v]),f[P.cmd].apply(f,P.args)}}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationStorage=void 0;var p=ne(9),oe=ne(1);k.AnnotationStorage=class ee{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(K,D){const c=this._storage.get(K);return void 0===c?D:Object.assign(D,c)}getRawValue(K){return this._storage.get(K)}setValue(K,D){const c=this._storage.get(K);let E=!1;if(void 0!==c)for(const[f,v]of Object.entries(D))c[f]!==v&&(E=!0,c[f]=v);else E=!0,this._storage.set(K,D);E&&this._setModified()}getAll(){return this._storage.size>0?(0,oe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const K=new p.MurmurHash3_64;for(const[D,c]of this._storage)K.update(`${D}:${JSON.stringify(c)}`);return K.hexdigest()}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MurmurHash3_64=void 0;var p=ne(1);const oe=3285377520,ee=4294901760,Y=65535;k.MurmurHash3_64=class K{constructor(c){this.h1=c?4294967295&c:oe,this.h2=c?4294967295&c:oe}update(c){let E,f;if("string"==typeof c){E=new Uint8Array(2*c.length),f=0;for(let _=0,m=c.length;_<m;_++){const y=c.charCodeAt(_);y<=255?E[f++]=y:(E[f++]=y>>>8,E[f++]=255&y)}}else{if(!(0,p.isArrayBuffer)(c))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");E=c.slice(),f=E.byteLength}const v=f>>2,P=f-4*v,a=new Uint32Array(E.buffer,0,v);let r=0,t=0,l=this.h1,C=this.h2;const d=3432918353,g=461845907,e=d&Y,i=g&Y;for(let _=0;_<v;_++)1&_?(r=a[_],r=r*d&ee|r*e&Y,r=r<<15|r>>>17,r=r*g&ee|r*i&Y,l^=r,l=l<<13|l>>>19,l=5*l+3864292196):(t=a[_],t=t*d&ee|t*e&Y,t=t<<15|t>>>17,t=t*g&ee|t*i&Y,C^=t,C=C<<13|C>>>19,C=5*C+3864292196);switch(r=0,P){case 3:r^=E[4*v+2]<<16;case 2:r^=E[4*v+1]<<8;case 1:r^=E[4*v],r=r*d&ee|r*e&Y,r=r<<15|r>>>17,r=r*g&ee|r*i&Y,1&v?l^=r:C^=r}this.h1=l,this.h2=C}hexdigest(){let c=this.h1,E=this.h2;c^=E>>>1,c=3981806797*c&ee|36045*c&Y,E=4283543511*E&ee|(2950163797*(E<<16|c>>>16)&ee)>>>16,c^=E>>>1,c=444984403*c&ee|60499*c&Y,E=3301882366*E&ee|(3120437893*(E<<16|c>>>16)&ee)>>>16,c^=E>>>1;const f=(c>>>0).toString(16),v=(E>>>0).toString(16);return f.padStart(8,"0")+v.padStart(8,"0")}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CanvasGraphics=void 0;var p=ne(1),oe=ne(11),ee=ne(12),Y=ne(3),K=ne(5);const E=4096,r=16;function C(L){if(L._transformStack&&(L._transformStack=[]),!L.mozCurrentTransform){L._originalSave=L.save,L._originalRestore=L.restore,L._originalRotate=L.rotate,L._originalScale=L.scale,L._originalTranslate=L.translate,L._originalTransform=L.transform,L._originalSetTransform=L.setTransform,L._originalResetTransform=L.resetTransform,L._transformMatrix=L._transformMatrix||[1,0,0,1,0,0],L._transformStack=[];try{const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(L),"lineWidth");L._setLineWidth=s.set,L._getLineWidth=s.get,Object.defineProperty(L,"lineWidth",{set:function(n){this._setLineWidth(1.000001*n)},get:function(){return this._getLineWidth()}})}catch(s){}Object.defineProperty(L,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(L,"mozCurrentTransformInverse",{get:function(){const[h,n,o,u,S,A]=this._transformMatrix,T=h*u-n*o,V=n*o-h*u;return[u/T,n/V,o/V,h/T,(u*S-o*A)/V,(n*S-h*A)/T]}}),L.save=function(){const h=this._transformMatrix;this._transformStack.push(h),this._transformMatrix=h.slice(0,6),this._originalSave()},L.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const h=this._transformStack.pop();h&&(this._transformMatrix=h,this._originalRestore())},L.translate=function(h,n){const o=this._transformMatrix;o[4]=o[0]*h+o[2]*n+o[4],o[5]=o[1]*h+o[3]*n+o[5],this._originalTranslate(h,n)},L.scale=function(h,n){const o=this._transformMatrix;o[0]*=h,o[1]*=h,o[2]*=n,o[3]*=n,this._originalScale(h,n)},L.transform=function(h,n,o,u,S,A){const T=this._transformMatrix;this._transformMatrix=[T[0]*h+T[2]*n,T[1]*h+T[3]*n,T[0]*o+T[2]*u,T[1]*o+T[3]*u,T[0]*S+T[2]*A+T[4],T[1]*S+T[3]*A+T[5]],L._originalTransform(h,n,o,u,S,A)},L.setTransform=function(h,n,o,u,S,A){this._transformMatrix=[h,n,o,u,S,A],L._originalSetTransform(h,n,o,u,S,A)},L.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],L._originalResetTransform()},L.rotate=function(h){const n=Math.cos(h),o=Math.sin(h),u=this._transformMatrix;this._transformMatrix=[u[0]*n+u[2]*o,u[1]*n+u[3]*o,u[0]*-o+u[2]*n,u[1]*-o+u[3]*n,u[4],u[5]],this._originalRotate(h)}}}class d{constructor(s){this.canvasFactory=s,this.cache=Object.create(null)}getCanvas(s,h,n,o){let u;return void 0!==this.cache[s]?(u=this.cache[s],this.canvasFactory.reset(u,h,n),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(h,n),this.cache[s]=u),o&&C(u.context),u}delete(s){delete this.cache[s]}clear(){for(const s in this.cache)this.canvasFactory.destroy(this.cache[s]),delete this.cache[s]}}function g(L,s,h,n,o,u,S,A,T,V){const[W,U,H,X,Q,le]=L.mozCurrentTransform;if(0===U&&0===H){const ie=Math.round(S*W+Q),I=Math.round(A*X+le),ue=Math.abs(Math.round((S+T)*W+Q)-ie)||1,fe=Math.abs(Math.round((A+V)*X+le)-I)||1;return L.setTransform(Math.sign(W),0,0,Math.sign(X),ie,I),L.drawImage(s,h,n,o,u,0,0,ue,fe),L.setTransform(W,U,H,X,Q,le),[ue,fe]}if(0===W&&0===X){const ie=Math.round(A*H+Q),I=Math.round(S*U+le),ue=Math.abs(Math.round((A+V)*H+Q)-ie)||1,fe=Math.abs(Math.round((S+T)*U+le)-I)||1;return L.setTransform(0,Math.sign(U),Math.sign(H),0,ie,I),L.drawImage(s,h,n,o,u,0,0,fe,ue),L.setTransform(W,U,H,X,Q,le),[fe,ue]}return L.drawImage(s,h,n,o,u,S,A,T,V),[Math.hypot(W,U)*T,Math.hypot(H,X)*V]}class i{constructor(s,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,s,h])}clone(){const s=Object.create(this);return s.clipBox=this.clipBox.slice(),s}setCurrentPoint(s,h){this.x=s,this.y=h}updatePathMinMax(s,h,n){[h,n]=p.Util.applyTransform([h,n],s),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(s,h){const n=p.Util.applyTransform(h,s),o=p.Util.applyTransform(h.slice(2),s);this.minX=Math.min(this.minX,n[0],o[0]),this.minY=Math.min(this.minY,n[1],o[1]),this.maxX=Math.max(this.maxX,n[0],o[0]),this.maxY=Math.max(this.maxY,n[1],o[1])}updateScalingPathMinMax(s,h){p.Util.scaleMinMax(s,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(s,h,n,o,u,S,A,T,V,W){const U=p.Util.bezierBoundingBox(h,n,o,u,S,A,T,V);if(W)return W[0]=Math.min(W[0],U[0],U[2]),W[1]=Math.max(W[1],U[0],U[2]),W[2]=Math.min(W[2],U[1],U[3]),void(W[3]=Math.max(W[3],U[1],U[3]));this.updateRectMinMax(s,U)}getPathBoundingBox(s=oe.PathType.FILL,h=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(s===oe.PathType.STROKE){h||(0,p.unreachable)("Stroke bounding box must include transform.");const o=p.Util.singularValueDecompose2dScale(h),u=o[0]*this.lineWidth/2,S=o[1]*this.lineWidth/2;n[0]-=u,n[1]-=S,n[2]+=u,n[3]+=S}return n}updateClipFromPath(){const s=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(s||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(s){this.clipBox=s,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(s=oe.PathType.FILL,h=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(s,h))}}function _(L,s,h=null){if("undefined"!=typeof ImageData&&s instanceof ImageData)return void L.putImageData(s,0,0);const n=s.height,o=s.width,u=n%r,S=(n-u)/r,A=0===u?S:S+1,T=L.createImageData(o,r);let W,V=0;const U=s.data,H=T.data;let X,Q,le,_e,J,re,ie,w;if(h)switch(h.length){case 1:J=h[0],re=h[0],ie=h[0],w=h[0];break;case 4:J=h[0],re=h[1],ie=h[2],w=h[3]}if(s.kind===p.ImageKind.GRAYSCALE_1BPP){const I=U.byteLength,z=new Uint32Array(H.buffer,0,H.byteLength>>2),ue=z.length,ce=o+7>>3;let fe=4294967295,me=p.FeatureTest.isLittleEndian?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([fe,me]=[me,fe]),X=0;X<A;X++){for(le=X<S?r:u,W=0,Q=0;Q<le;Q++){const be=I-V;let Se=0;const Ce=be>ce?o:8*be-7,Ee=-8&Ce;let Z=0,F=0;for(;Se<Ee;Se+=8)F=U[V++],z[W++]=128&F?fe:me,z[W++]=64&F?fe:me,z[W++]=32&F?fe:me,z[W++]=16&F?fe:me,z[W++]=8&F?fe:me,z[W++]=4&F?fe:me,z[W++]=2&F?fe:me,z[W++]=1&F?fe:me;for(;Se<Ce;Se++)0===Z&&(F=U[V++],Z=128),z[W++]=F&Z?fe:me,Z>>=1}for(;W<ue;)z[W++]=0;L.putImageData(T,0,X*r)}}else if(s.kind===p.ImageKind.RGBA_32BPP){const I=!!(J||re||ie);for(Q=0,_e=o*r*4,X=0;X<S;X++){if(H.set(U.subarray(V,V+_e)),V+=_e,I)for(let z=0;z<_e;z+=4)J&&(H[z+0]=J[H[z+0]]),re&&(H[z+1]=re[H[z+1]]),ie&&(H[z+2]=ie[H[z+2]]);L.putImageData(T,0,Q),Q+=r}if(X<A){if(_e=o*u*4,H.set(U.subarray(V,V+_e)),I)for(let z=0;z<_e;z+=4)J&&(H[z+0]=J[H[z+0]]),re&&(H[z+1]=re[H[z+1]]),ie&&(H[z+2]=ie[H[z+2]]);L.putImageData(T,0,Q)}}else{if(s.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${s.kind}`);{const I=!!(J||re||ie);for(le=r,_e=o*le,X=0;X<A;X++){for(X>=S&&(le=u,_e=o*le),W=0,Q=_e;Q--;)H[W++]=U[V++],H[W++]=U[V++],H[W++]=U[V++],H[W++]=255;if(I)for(let z=0;z<W;z+=4)J&&(H[z+0]=J[H[z+0]]),re&&(H[z+1]=re[H[z+1]]),ie&&(H[z+2]=ie[H[z+2]]);L.putImageData(T,0,X*r)}}}}function m(L,s){if(s.bitmap)return void L.drawImage(s.bitmap,0,0);const h=s.height,n=s.width,o=h%r,u=(h-o)/r,S=0===o?u:u+1,A=L.createImageData(n,r);let T=0;const V=s.data,W=A.data;for(let U=0;U<S;U++){const H=U<u?r:o;({srcPos:T}=(0,ee.applyMaskImageData)({src:V,srcPos:T,dest:W,width:n,height:H})),L.putImageData(A,0,U*r)}}function y(L,s){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let n=0,o=h.length;n<o;n++){const u=h[n];void 0!==L[u]&&(s[u]=L[u])}void 0!==L.setLineDash&&(s.setLineDash(L.getLineDash()),s.lineDashOffset=L.lineDashOffset)}function x(L,s){L.strokeStyle=L.fillStyle=s||"#000000",L.fillRule="nonzero",L.globalAlpha=1,L.lineWidth=1,L.lineCap="butt",L.lineJoin="miter",L.miterLimit=10,L.globalCompositeOperation="source-over",L.font="10px sans-serif",void 0!==L.setLineDash&&(L.setLineDash([]),L.lineDashOffset=0)}function M(L,s,h,n){const o=L.length;for(let u=3;u<o;u+=4){const S=L[u];if(0===S)L[u-3]=s,L[u-2]=h,L[u-1]=n;else if(S<255){const A=255-S;L[u-3]=L[u-3]*S+s*A>>8,L[u-2]=L[u-2]*S+h*A>>8,L[u-1]=L[u-1]*S+n*A>>8}}}function b(L,s,h){const n=L.length;for(let u=3;u<n;u+=4)s[u]=s[u]*(h?h[L[u]]:L[u])*.00392156862745098|0}function R(L,s,h){const n=L.length;for(let o=3;o<n;o+=4){const u=77*L[o-3]+152*L[o-2]+28*L[o-1];s[o]=h?s[o]*h[u>>8]>>8:s[o]*u>>16}}function q(L,s){const h=p.Util.singularValueDecompose2dScale(L);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*K.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==s?s:h[0]<=n||h[1]<=n}const B=["butt","round","square"],G=["miter","round","bevel"],$={},te={};class ae{constructor(s,h,n,o,u,S,A,T){this.ctx=s,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=n,this.canvasFactory=o,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=S,this.cachedCanvases=new d(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==T?void 0:T.background)||null,this.foregroundColor=(null==T?void 0:T.foreground)||null,s&&C(s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(s,h=null){return"string"==typeof s?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):h}beginDrawing({transform:s,viewport:h,transparency:n=!1,background:o=null}){const u=this.ctx.canvas.width,S=this.ctx.canvas.height,A=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const T=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const V=this.backgroundColor=this.ctx.fillStyle;let W=!0,U=A;if(this.ctx.fillStyle=A,U=this.ctx.fillStyle,W="string"==typeof U&&/^#[0-9A-Fa-f]{6}$/.test(U),"#000000"===T&&"#ffffff"===V||T===V||!W)this.foregroundColor=this.backgroundColor=null;else{const H=parseInt(U.slice(1),16),Q=(H&&65280)>>8,le=H&&255,_e=re=>(re/=255)<=.03928?re/12.92:((re+.055)/1.055)**2.4,J=Math.round(.2126*_e((H&&16711680)>>16)+.7152*_e(Q)+.0722*_e(le));this.selectColor=(re,ie,w)=>{const I=.2126*_e(re)+.7152*_e(ie)+.0722*_e(w);return Math.round(I)===J?V:T}}}if(this.ctx.fillStyle=this.backgroundColor||A,this.ctx.fillRect(0,0,u,S),this.ctx.restore(),n){const T=this.cachedCanvases.getCanvas("transparent",u,S,!0);this.compositeCtx=this.ctx,this.transparentCanvas=T.canvas,this.ctx=T.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx,this.foregroundColor),s&&(this.ctx.transform.apply(this.ctx,s),this.outputScaleX=s[0],this.outputScaleY=s[0]),this.ctx.transform.apply(this.ctx,h.transform),this.viewportScale=h.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(s,h,n,o){const u=s.argsArray,S=s.fnArray;let A=h||0;const T=u.length;if(T===A)return A;const V=T-A>10&&"function"==typeof n,W=V?Date.now()+15:0;let U=0;const H=this.commonObjs,X=this.objs;let Q;for(;;){if(void 0!==o&&A===o.nextBreakPoint)return o.breakIt(A,n),A;if(Q=S[A],Q!==p.OPS.dependency)this[Q].apply(this,u[A]);else for(const le of u[A]){const _e=le.startsWith("g_")?H:X;if(!_e.has(le))return _e.get(le,n),A}if(A++,A===T)return A;if(V&&++U>10){if(Date.now()>W)return n(),A;U=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const s of this._cachedBitmapsMap.values()){for(const h of s.values())"undefined"!=typeof HTMLCanvasElement&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);s.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(s,h){const n=s.width,o=s.height;let W,U,u=Math.max(Math.hypot(h[0],h[1]),1),S=Math.max(Math.hypot(h[2],h[3]),1),A=n,T=o,V="prescale1";for(;u>2&&A>1||S>2&&T>1;){let H=A,X=T;u>2&&A>1&&(H=Math.ceil(A/2),u/=A/H),S>2&&T>1&&(X=Math.ceil(T/2),S/=T/X),W=this.cachedCanvases.getCanvas(V,H,X,!1),U=W.context,U.clearRect(0,0,H,X),U.drawImage(s,0,0,A,T,0,0,H,X),s=W.canvas,A=H,T=X,V="prescale1"===V?"prescale2":"prescale1"}return{img:s,paintWidth:A,paintHeight:T}}_createMaskCanvas(s){const h=this.ctx,{width:n,height:o}=s,u=this.current.fillColor,S=this.current.patternFill,A=h.mozCurrentTransform;let T,V,W,U;if((s.bitmap||s.data)&&s.count>1){const ue=s.bitmap||s.data.buffer,ce=A.slice(0,4);V=JSON.stringify(S?ce:[ce,u]),T=this._cachedBitmapsMap.get(ue),T||(T=new Map,this._cachedBitmapsMap.set(ue,T));const fe=T.get(V);if(fe&&!S)return{canvas:fe,offsetX:Math.round(Math.min(A[0],A[2])+A[4]),offsetY:Math.round(Math.min(A[1],A[3])+A[5])};W=fe}W||(U=this.cachedCanvases.getCanvas("maskCanvas",n,o,!1),m(U.context,s));let H=p.Util.transform(A,[1/n,0,0,-1/o,0,0]);H=p.Util.transform(H,[1,0,0,1,0,-o]);const X=p.Util.applyTransform([0,0],H),Q=p.Util.applyTransform([n,o],H),le=p.Util.normalizeRect([X[0],X[1],Q[0],Q[1]]),_e=Math.round(le[2]-le[0])||1,J=Math.round(le[3]-le[1])||1,re=this.cachedCanvases.getCanvas("fillCanvas",_e,J,!0),ie=re.context,w=Math.min(X[0],Q[0]),I=Math.min(X[1],Q[1]);ie.translate(-w,-I),ie.transform.apply(ie,H),W||(W=this._scaleImage(U.canvas,ie.mozCurrentTransformInverse),W=W.img,T&&S&&T.set(V,W)),ie.imageSmoothingEnabled=q(ie.mozCurrentTransform,s.interpolate),g(ie,W,0,0,W.width,W.height,0,0,n,o),ie.globalCompositeOperation="source-in";const z=p.Util.transform(ie.mozCurrentTransformInverse,[1,0,0,1,-w,-I]);return ie.fillStyle=S?u.getPattern(h,this,z,oe.PathType.FILL):u,ie.fillRect(0,0,n,o),T&&!S&&(this.cachedCanvases.delete("fillCanvas"),T.set(V,re.canvas)),{canvas:re.canvas,offsetX:Math.round(w),offsetY:Math.round(I)}}setLineWidth(s){s!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=s,this.ctx.lineWidth=s}setLineCap(s){this.ctx.lineCap=B[s]}setLineJoin(s){this.ctx.lineJoin=G[s]}setMiterLimit(s){this.ctx.miterLimit=s}setDash(s,h){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(s),n.lineDashOffset=h)}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(let h=0,n=s.length;h<n;h++){const o=s[h],S=o[1];switch(o[0]){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S[0],S[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=S;break;case"SMask":this.current.activeSMask=S?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=S}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const s=this.inSMaskMode;this.current.activeSMask&&!s?this.beginSMaskMode():!this.current.activeSMask&&s&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),y(this.suspendedCtx,u),function l(L,s){if(L._removeMirroring)throw new Error("Context is already forwarding operations.");L.__originalSave=L.save,L.__originalRestore=L.restore,L.__originalRotate=L.rotate,L.__originalScale=L.scale,L.__originalTranslate=L.translate,L.__originalTransform=L.transform,L.__originalSetTransform=L.setTransform,L.__originalResetTransform=L.resetTransform,L.__originalClip=L.clip,L.__originalMoveTo=L.moveTo,L.__originalLineTo=L.lineTo,L.__originalBezierCurveTo=L.bezierCurveTo,L.__originalRect=L.rect,L.__originalClosePath=L.closePath,L.__originalBeginPath=L.beginPath,L._removeMirroring=()=>{L.save=L.__originalSave,L.restore=L.__originalRestore,L.rotate=L.__originalRotate,L.scale=L.__originalScale,L.translate=L.__originalTranslate,L.transform=L.__originalTransform,L.setTransform=L.__originalSetTransform,L.resetTransform=L.__originalResetTransform,L.clip=L.__originalClip,L.moveTo=L.__originalMoveTo,L.lineTo=L.__originalLineTo,L.bezierCurveTo=L.__originalBezierCurveTo,L.rect=L.__originalRect,L.closePath=L.__originalClosePath,L.beginPath=L.__originalBeginPath,delete L._removeMirroring},L.save=function(){s.save(),this.__originalSave()},L.restore=function(){s.restore(),this.__originalRestore()},L.translate=function(n,o){s.translate(n,o),this.__originalTranslate(n,o)},L.scale=function(n,o){s.scale(n,o),this.__originalScale(n,o)},L.transform=function(n,o,u,S,A,T){s.transform(n,o,u,S,A,T),this.__originalTransform(n,o,u,S,A,T)},L.setTransform=function(n,o,u,S,A,T){s.setTransform(n,o,u,S,A,T),this.__originalSetTransform(n,o,u,S,A,T)},L.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},L.rotate=function(n){s.rotate(n),this.__originalRotate(n)},L.clip=function(n){s.clip(n),this.__originalClip(n)},L.moveTo=function(h,n){s.moveTo(h,n),this.__originalMoveTo(h,n)},L.lineTo=function(h,n){s.lineTo(h,n),this.__originalLineTo(h,n)},L.bezierCurveTo=function(h,n,o,u,S,A){s.bezierCurveTo(h,n,o,u,S,A),this.__originalBezierCurveTo(h,n,o,u,S,A)},L.rect=function(h,n,o,u){s.rect(h,n,o,u),this.__originalRect(h,n,o,u)},L.closePath=function(){s.closePath(),this.__originalClosePath()},L.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(s){this.current.activeSMask&&(s?(s[0]=Math.floor(s[0]),s[1]=Math.floor(s[1]),s[2]=Math.ceil(s[2]),s[3]=Math.ceil(s[3])):s=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function j(L,s,h,n){const o=n[0],u=n[1],S=n[2]-o,A=n[3]-u;0===S||0===A||(function N(L,s,h,n,o,u,S,A,T,V,W){const U=!!u,H=U?u[0]:0,X=U?u[1]:0,Q=U?u[2]:0;let le;le="Luminosity"===o?R:b;const J=Math.min(n,Math.ceil(1048576/h));for(let re=0;re<n;re+=J){const ie=Math.min(J,n-re),w=L.getImageData(A-V,re+(T-W),h,ie),I=s.getImageData(A,re+T,h,ie);U&&M(w.data,H,X,Q),le(w.data,I.data,S),s.putImageData(I,A,re+T)}}(s.context,h,S,A,s.subtype,s.backdrop,s.transferMap,o,u,s.offsetX,s.offsetY),L.save(),L.globalAlpha=1,L.globalCompositeOperation="source-over",L.setTransform(1,0,0,1,0,0),L.drawImage(h.canvas,0,0),L.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,s),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(s,h,n,o,u,S){this.ctx.transform(s,h,n,o,u,S),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(s,h,n){const o=this.ctx,u=this.current;let T,V,S=u.x,A=u.y;const W=o.mozCurrentTransform,U=0===W[0]&&0===W[3]||0===W[1]&&0===W[2],H=U?n.slice(0):null;for(let X=0,Q=0,le=s.length;X<le;X++)switch(0|s[X]){case p.OPS.rectangle:S=h[Q++],A=h[Q++];const _e=h[Q++],J=h[Q++],re=S+_e,ie=A+J;o.moveTo(S,A),0===_e||0===J?o.lineTo(re,ie):(o.lineTo(re,A),o.lineTo(re,ie),o.lineTo(S,ie)),U||u.updateRectMinMax(W,[S,A,re,ie]),o.closePath();break;case p.OPS.moveTo:S=h[Q++],A=h[Q++],o.moveTo(S,A),U||u.updatePathMinMax(W,S,A);break;case p.OPS.lineTo:S=h[Q++],A=h[Q++],o.lineTo(S,A),U||u.updatePathMinMax(W,S,A);break;case p.OPS.curveTo:T=S,V=A,S=h[Q+4],A=h[Q+5],o.bezierCurveTo(h[Q],h[Q+1],h[Q+2],h[Q+3],S,A),u.updateCurvePathMinMax(W,T,V,h[Q],h[Q+1],h[Q+2],h[Q+3],S,A,H),Q+=6;break;case p.OPS.curveTo2:T=S,V=A,o.bezierCurveTo(S,A,h[Q],h[Q+1],h[Q+2],h[Q+3]),u.updateCurvePathMinMax(W,T,V,S,A,h[Q],h[Q+1],h[Q+2],h[Q+3],H),S=h[Q+2],A=h[Q+3],Q+=4;break;case p.OPS.curveTo3:T=S,V=A,S=h[Q+2],A=h[Q+3],o.bezierCurveTo(h[Q],h[Q+1],S,A,S,A),u.updateCurvePathMinMax(W,T,V,h[Q],h[Q+1],S,A,S,A,H),Q+=4;break;case p.OPS.closePath:o.closePath()}U&&u.updateScalingPathMinMax(W,H),u.setCurrentPoint(S,A)}closePath(){this.ctx.closePath()}stroke(s){s=void 0===s||s;const h=this.ctx,n=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&(null==n?void 0:n.getPattern)?(h.save(),h.strokeStyle=n.getPattern(h,this,h.mozCurrentTransformInverse,oe.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),s&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(s){s=void 0===s||s;const h=this.ctx,n=this.current.fillColor;let u=!1;this.current.patternFill&&(h.save(),h.fillStyle=n.getPattern(h,this,h.mozCurrentTransformInverse,oe.PathType.FILL),u=!0);const S=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==S&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),u&&h.restore(),s&&this.consumePath(S)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$}eoClip(){this.pendingClip=te}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const s=this.pendingTextPaths,h=this.ctx;if(void 0!==s){h.save(),h.beginPath();for(let n=0;n<s.length;n++){const o=s[n];h.setTransform.apply(h,o.transform),h.translate(o.x,o.y),o.addToPath(h,o.fontSize)}h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}else h.beginPath()}setCharSpacing(s){this.current.charSpacing=s}setWordSpacing(s){this.current.wordSpacing=s}setHScale(s){this.current.textHScale=s/100}setLeading(s){this.current.leading=-s}setFont(s,h){const n=this.commonObjs.get(s),o=this.current;if(!n)throw new Error(`Can't find font for ${s}`);if(o.fontMatrix=n.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+s),h<0?(h=-h,o.fontDirection=-1):o.fontDirection=1,this.current.font=n,this.current.fontSize=h,n.isType3Font)return;let S="normal";n.black?S="900":n.bold&&(S="bold");const A=n.italic?"italic":"normal",T=`"${n.loadedName||"sans-serif"}", ${n.fallbackName}`;let V=h;h<16?V=16:h>100&&(V=100),this.current.fontSizeScale=h/V,this.ctx.font=`${A} ${S} ${V}px ${T}`}setTextRenderingMode(s){this.current.textRenderingMode=s}setTextRise(s){this.current.textRise=s}moveText(s,h){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=h}setLeadingMoveText(s,h){this.setLeading(-h),this.moveText(s,h)}setTextMatrix(s,h,n,o,u,S){this.current.textMatrix=[s,h,n,o,u,S],this.current.textMatrixScale=Math.hypot(s,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(s,h,n,o){const u=this.ctx,S=this.current,A=S.font,T=S.textRenderingMode,V=S.fontSize/S.fontSizeScale,W=T&p.TextRenderingMode.FILL_STROKE_MASK,U=!!(T&p.TextRenderingMode.ADD_TO_PATH_FLAG),H=S.patternFill&&!A.missingFile;let X;(A.disableFontFace||U||H)&&(X=A.getPathGenerator(this.commonObjs,s)),A.disableFontFace||H?(u.save(),u.translate(h,n),u.beginPath(),X(u,V),o&&u.setTransform.apply(u,o),(W===p.TextRenderingMode.FILL||W===p.TextRenderingMode.FILL_STROKE)&&u.fill(),(W===p.TextRenderingMode.STROKE||W===p.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((W===p.TextRenderingMode.FILL||W===p.TextRenderingMode.FILL_STROKE)&&u.fillText(s,h,n),(W===p.TextRenderingMode.STROKE||W===p.TextRenderingMode.FILL_STROKE)&&u.strokeText(s,h,n)),U&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:h,y:n,fontSize:V,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:s}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);s.scale(1.5,1),s.fillText("I",0,10);const h=s.getImageData(0,0,10,10).data;let n=!1;for(let o=3;o<h.length;o+=4)if(h[o]>0&&h[o]<255){n=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(s){const h=this.current,n=h.font;if(n.isType3Font)return this.showType3Text(s);const o=h.fontSize;if(0===o)return;const u=this.ctx,S=h.fontSizeScale,A=h.charSpacing,T=h.wordSpacing,V=h.fontDirection,W=h.textHScale*V,U=s.length,H=n.vertical,X=H?1:-1,Q=n.defaultVMetrics,le=o*h.fontMatrix[0],_e=h.textRenderingMode===p.TextRenderingMode.FILL&&!n.disableFontFace&&!h.patternFill;let J;if(u.save(),u.transform.apply(u,h.textMatrix),u.translate(h.x,h.y+h.textRise),u.scale(W,V>0?-1:1),h.patternFill){u.save();const z=h.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,oe.PathType.FILL);J=u.mozCurrentTransform,u.restore(),u.fillStyle=z}let re=h.lineWidth;const ie=h.textMatrixScale;if(0===ie||0===re){const z=h.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(z===p.TextRenderingMode.STROKE||z===p.TextRenderingMode.FILL_STROKE)&&(re=this.getSinglePixelWidth())}else re/=ie;1!==S&&(u.scale(S,S),re/=S),u.lineWidth=re;let I,w=0;for(I=0;I<U;++I){const z=s[I];if("number"==typeof z){w+=X*z*o/1e3;continue}let ue=!1;const ce=(z.isSpace?T:0)+A,fe=z.fontChar,me=z.accent;let be,Se,Ee,Ce=z.width;if(H){const Z=z.vmetric||Q,F=-(z.vmetric?Z[1]:.5*Ce)*le;Ce=Z?-Z[0]:Ce,be=F/S,Se=(w+Z[2]*le)/S}else be=w/S,Se=0;if(n.remeasure&&Ce>0){const Z=1e3*u.measureText(fe).width/o*S;if(Ce<Z&&this.isFontSubpixelAAEnabled){const F=Ce/Z;ue=!0,u.save(),u.scale(F,1),be/=F}else Ce!==Z&&(be+=(Ce-Z)/2e3*o/S)}this.contentVisible&&(z.isInFont||n.missingFile)&&(_e&&!me?u.fillText(fe,be,Se):(this.paintChar(fe,be,Se,J),me&&this.paintChar(me.fontChar,be+o*me.offset.x/S,Se-o*me.offset.y/S,J))),Ee=H?Ce*le-ce*V:Ce*le+ce*V,w+=Ee,ue&&u.restore()}H?h.y-=w:h.x+=w*W,u.restore(),this.compose()}showType3Text(s){const h=this.ctx,n=this.current,o=n.font,u=n.fontSize,S=n.fontDirection,A=o.vertical?1:-1,T=n.charSpacing,V=n.wordSpacing,W=n.textHScale*S,U=n.fontMatrix||p.FONT_IDENTITY_MATRIX,H=s.length;let Q,le,_e,J;if(n.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,h.save(),h.transform.apply(h,n.textMatrix),h.translate(n.x,n.y),h.scale(W,S),Q=0;Q<H;++Q){if(le=s[Q],"number"==typeof le){J=A*le*u/1e3,this.ctx.translate(J,0),n.x+=J*W;continue}const re=(le.isSpace?V:0)+T,ie=o.charProcOperatorList[le.operatorListId];ie?(this.contentVisible&&(this.processingType3=le,this.save(),h.scale(u,u),h.transform.apply(h,U),this.executeOperatorList(ie),this.restore()),_e=p.Util.applyTransform([le.width,0],U)[0]*u+re,h.translate(_e,0),n.x+=_e*W):(0,p.warn)(`Type3 character "${le.operatorListId}" is not available.`)}h.restore(),this.processingType3=null}}setCharWidth(s,h){}setCharWidthAndBounds(s,h,n,o,u,S){this.ctx.rect(n,o,u-n,S-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(s){let h;if("TilingPattern"===s[0]){const n=s[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();h=new oe.TilingPattern(s,n,this.ctx,{createCanvasGraphics:S=>new ae(S,this.commonObjs,this.objs,this.canvasFactory)},o)}else h=this._getPattern(s[1],s[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(s,h,n){var u;const o=(null==(u=this.selectColor)?void 0:u.call(this,s,h,n))||p.Util.makeHexColor(s,h,n);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(s,h,n){var u;const o=(null==(u=this.selectColor)?void 0:u.call(this,s,h,n))||p.Util.makeHexColor(s,h,n);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(s,h=null){let n;return this.cachedPatterns.has(s)?n=this.cachedPatterns.get(s):(n=(0,oe.getShadingPattern)(this.objs.get(s)),this.cachedPatterns.set(s,n)),h&&(n.matrix=h),n}shadingFill(s){if(!this.contentVisible)return;const h=this.ctx;this.save();const n=this._getPattern(s);h.fillStyle=n.getPattern(h,this,h.mozCurrentTransformInverse,oe.PathType.SHADING);const o=h.mozCurrentTransformInverse;if(o){const u=h.canvas,S=u.width,A=u.height,T=p.Util.applyTransform([0,0],o),V=p.Util.applyTransform([0,A],o),W=p.Util.applyTransform([S,0],o),U=p.Util.applyTransform([S,A],o),H=Math.min(T[0],V[0],W[0],U[0]),X=Math.min(T[1],V[1],W[1],U[1]),Q=Math.max(T[0],V[0],W[0],U[0]),le=Math.max(T[1],V[1],W[1],U[1]);this.ctx.fillRect(H,X,Q-H,le-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(s,h){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&6===s.length&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,h)&&(this.ctx.rect(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,h),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(s){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;s.isolated||(0,p.info)("TODO: Support non-isolated groups."),s.knockout&&(0,p.warn)("Knockout groups not supported.");const n=h.mozCurrentTransform;if(s.matrix&&h.transform.apply(h,s.matrix),!s.bbox)throw new Error("Bounding box is required.");let o=p.Util.getAxialAlignedBoundingBox(s.bbox,h.mozCurrentTransform);o=p.Util.intersect(o,[0,0,h.canvas.width,h.canvas.height])||[0,0,0,0];const S=Math.floor(o[0]),A=Math.floor(o[1]);let T=Math.max(Math.ceil(o[2])-S,1),V=Math.max(Math.ceil(o[3])-A,1),W=1,U=1;T>E&&(W=T/E,T=E),V>E&&(U=V/E,V=E),this.current.startNewPathAndClipBox([0,0,T,V]);let H="groupAt"+this.groupLevel;s.smask&&(H+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(H,T,V,!0),Q=X.context;Q.scale(1/W,1/U),Q.translate(-S,-A),Q.transform.apply(Q,n),s.smask?this.smaskStack.push({canvas:X.canvas,context:Q,offsetX:S,offsetY:A,scaleX:W,scaleY:U,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(S,A),h.scale(W,U),h.save()),y(h,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(s){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,s.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const u=p.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],o);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(s,h,n,o,u){if(this.save(),Array.isArray(h)&&4===h.length){const S=h[2]-h[0],A=h[3]-h[1];if(u&&this.annotationCanvasMap){(n=n.slice())[4]-=h[0],n[5]-=h[1],(h=h.slice())[0]=h[1]=0,h[2]=S,h[3]=A;const[T,V]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:W}=this,U=Math.ceil(S*this.outputScaleX*W),H=Math.ceil(A*this.outputScaleY*W);this.annotationCanvas=this.canvasFactory.create(U,H);const{canvas:X,context:Q}=this.annotationCanvas,le=`var(--zoom-factor) * ${K.PixelsPerInch.PDF_TO_CSS_UNITS}`;X.style.width=`calc(${S}px * ${le})`,X.style.height=`calc(${A}px * ${le})`,this.annotationCanvasMap.set(s,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.setTransform(T,0,0,-V,0,A*V),C(this.ctx),x(this.ctx,this.foregroundColor)}else x(this.ctx,this.foregroundColor),this.ctx.rect(h[0],h[1],S,A),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,n),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(s){if(!this.contentVisible)return;const h=s.count;(s=this.getObject(s.data,s)).count=h;const n=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function e(L){const{width:s,height:h}=L;if(s>1e3||h>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=s+1;let A,T,V,S=new Uint8Array(u*(h+1));const W=s+7&-8;let U=new Uint8Array(W*h),H=0;for(const ie of L.data){let w=128;for(;w>0;)U[H++]=ie&w?0:255,w>>=1}let X=0;for(H=0,0!==U[H]&&(S[0]=1,++X),T=1;T<s;T++)U[H]!==U[H+1]&&(S[T]=U[H]?2:1,++X),H++;for(0!==U[H]&&(S[T]=2,++X),A=1;A<h;A++){H=A*W,V=A*u,U[H-W]!==U[H]&&(S[V]=U[H]?1:8,++X);let ie=(U[H]?4:0)+(U[H-W]?8:0);for(T=1;T<s;T++)ie=(ie>>2)+(U[H+1]?4:0)+(U[H-W+1]?8:0),o[ie]&&(S[V+T]=o[ie],++X),H++;if(U[H-W]!==U[H]&&(S[V+T]=U[H]?2:4,++X),X>1e3)return null}for(H=W*(h-1),V=A*u,0!==U[H]&&(S[V]=8,++X),T=1;T<s;T++)U[H]!==U[H+1]&&(S[V+T]=U[H]?4:8,++X),H++;if(0!==U[H]&&(S[V+T]=4,++X),X>1e3)return null;const Q=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let le,_e,J;for(Y.isNodeJS?_e=[]:le=new Path2D,A=0;X&&A<=h;A++){let ie=A*u;const w=ie+s;for(;ie<w&&!S[ie];)ie++;if(ie===w)continue;le?le.moveTo(ie%u,A):J=[ie%u,A];const I=ie;let z=S[ie];do{const ue=Q[z];do{ie+=ue}while(!S[ie]);const ce=S[ie];5!==ce&&10!==ce?(z=ce,S[ie]=0):(z=ce&51*z>>4,S[ie]&=z>>2|z<<2),le?le.lineTo(ie%u,ie/u|0):J.push(ie%u,ie/u|0),S[ie]||--X}while(I!==ie);le||_e.push(J),--A}return U=null,S=null,function(ie){if(ie.save(),ie.scale(1/s,-1/h),ie.translate(0,-h),le)ie.fill(le);else{ie.beginPath();for(const w of _e){ie.moveTo(w[0],w[1]);for(let I=2,z=w.length;I<z;I+=2)ie.lineTo(w[I],w[I+1])}ie.fill()}ie.beginPath(),ie.restore()}}(s)),o.compiled))return void o.compiled(n);const u=this._createMaskCanvas(s),S=u.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(S,u.offsetX,u.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(s,h,n=0,o=0,u,S){if(!this.contentVisible)return;s=this.getObject(s.data,s);const A=this.ctx;A.save();const T=A.mozCurrentTransform;A.transform(h,n,o,u,0,0);const V=this._createMaskCanvas(s);A.setTransform(1,0,0,1,0,0);for(let W=0,U=S.length;W<U;W+=2){const H=p.Util.transform(T,[h,n,o,u,S[W],S[W+1]]),[X,Q]=p.Util.applyTransform([0,0],H);A.drawImage(V.canvas,X,Q)}A.restore(),this.compose()}paintImageMaskXObjectGroup(s){if(!this.contentVisible)return;const h=this.ctx,n=this.current.fillColor,o=this.current.patternFill;for(let u=0,S=s.length;u<S;u++){const A=s[u],T=A.width,V=A.height,W=this.cachedCanvases.getCanvas("maskCanvas",T,V,!1),U=W.context;U.save(),m(U,A),U.globalCompositeOperation="source-in",U.fillStyle=o?n.getPattern(U,this,h.mozCurrentTransformInverse,oe.PathType.FILL):n,U.fillRect(0,0,T,V),U.restore(),h.save(),h.transform.apply(h,A.transform),h.scale(1,-1),g(h,W.canvas,0,0,T,V,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(s){if(!this.contentVisible)return;const h=this.getObject(s);h?this.paintInlineImageXObject(h):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(s,h,n,o){if(!this.contentVisible)return;const u=this.getObject(s);if(!u)return void(0,p.warn)("Dependent image isn't ready yet");const S=u.width,A=u.height,T=[];for(let V=0,W=o.length;V<W;V+=2)T.push({transform:[h,0,0,n,o[V],o[V+1]],x:0,y:0,w:S,h:A});this.paintInlineImageXObjectGroup(u,T)}paintInlineImageXObject(s){if(!this.contentVisible)return;const h=s.width,n=s.height,o=this.ctx;let u;if(this.save(),o.scale(1/h,-1/n),"function"==typeof HTMLElement&&s instanceof HTMLElement||!s.data)u=s;else{const V=this.cachedCanvases.getCanvas("inlineImage",h,n,!1);_(V.context,s,this.current.transferMaps),u=V.canvas}const S=this._scaleImage(u,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=q(o.mozCurrentTransform,s.interpolate);const[A,T]=g(o,S.img,0,0,S.paintWidth,S.paintHeight,0,-n,h,n);if(this.imageLayer){const V=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:s,left:V[0],top:V[1],width:A,height:T})}this.compose(),this.restore()}paintInlineImageXObjectGroup(s,h){if(!this.contentVisible)return;const n=this.ctx,o=s.width,u=s.height,S=this.cachedCanvases.getCanvas("inlineImage",o,u,!1);_(S.context,s,this.current.transferMaps);for(let T=0,V=h.length;T<V;T++){const W=h[T];if(n.save(),n.transform.apply(n,W.transform),n.scale(1,-1),g(n,S.canvas,W.x,W.y,W.w,W.h,0,-1,1,1),this.imageLayer){const U=this.getCanvasPosition(W.x,W.y);this.imageLayer.appendImage({imgData:s,left:U[0],top:U[1],width:o,height:u})}n.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(s){}markPointProps(s,h){}beginMarkedContent(s){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(s,h){this.markedContentStack.push("OC"===s?{visible:this.optionalContentConfig.isVisible(h)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(s){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const n=this.ctx;this.pendingClip&&(h||(this.pendingClip===te?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const s=this.ctx.mozCurrentTransform;if(0===s[1]&&0===s[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(s[0]),Math.abs(s[3]));else{const h=Math.abs(s[0]*s[3]-s[2]*s[1]),n=Math.hypot(s[0],s[2]),o=Math.hypot(s[1],s[3]);this._cachedGetSinglePixelWidth=Math.max(n,o)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:s}=this.current,h=this.ctx.mozCurrentTransform;let n,o;if(0===h[1]&&0===h[2]){const u=Math.abs(h[0]),S=Math.abs(h[3]);if(0===s)n=1/u,o=1/S;else{const A=u*s,T=S*s;n=A<1?1/A:1,o=T<1?1/T:1}}else{const u=Math.abs(h[0]*h[3]-h[2]*h[1]),S=Math.hypot(h[0],h[1]),A=Math.hypot(h[2],h[3]);if(0===s)n=A/u,o=S/u;else{const T=s*u;n=A>T?A/T:1,o=S>T?S/T:1}}this._cachedScaleForStroking=[n,o]}return this._cachedScaleForStroking}rescaleAndStroke(s){const{ctx:h}=this,{lineWidth:n}=this.current,[o,u]=this.getScaleForStroking();if(h.lineWidth=n||1,1===o&&1===u)return void h.stroke();let S,A,T;s&&(S=h.mozCurrentTransform.slice(),A=h.getLineDash().slice(),T=h.lineDashOffset),h.scale(o,u);const V=Math.max(o,u);h.setLineDash(h.getLineDash().map(W=>W/V)),h.lineDashOffset/=V,h.stroke(),s&&(h.setTransform(...S),h.setLineDash(A),h.lineDashOffset=T)}getCanvasPosition(s,h){const n=this.ctx.mozCurrentTransform;return[n[0]*s+n[2]*h+n[4],n[1]*s+n[3]*h+n[5]]}isContentVisible(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}}k.CanvasGraphics=ae;for(const L in p.OPS)void 0!==ae.prototype[L]&&(ae.prototype[p.OPS[L]]=ae.prototype[L])},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.TilingPattern=k.PathType=void 0,k.getShadingPattern=function P(t){switch(t[0]){case"RadialAxial":return new D(t);case"Mesh":return new f(t);case"Dummy":return new v}throw new Error(`Unknown IR type: ${t[0]}`)};var p=ne(1),oe=ne(3);const ee={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Y(t,l){if(!l||oe.isNodeJS)return;const C=l[2]-l[0],d=l[3]-l[1],g=new Path2D;g.rect(l[0],l[1],C,d),t.clip(g)}k.PathType=ee;class K{constructor(){this.constructor===K&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class D extends K{constructor(l){super(),this._type=l[1],this._bbox=l[2],this._colorStops=l[3],this._p0=l[4],this._p1=l[5],this._r0=l[6],this._r1=l[7],this.matrix=null}_createGradient(l){let C;"axial"===this._type?C=l.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(C=l.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const d of this._colorStops)C.addColorStop(d[0],d[1]);return C}getPattern(l,C,d,g){let e;if(g===ee.STROKE||g===ee.FILL){const i=C.current.getClippedPathBoundingBox(g,l.mozCurrentTransform)||[0,0,0,0],_=Math.ceil(i[2]-i[0])||1,m=Math.ceil(i[3]-i[1])||1,y=C.cachedCanvases.getCanvas("pattern",_,m,!0),x=y.context;x.clearRect(0,0,x.canvas.width,x.canvas.height),x.beginPath(),x.rect(0,0,x.canvas.width,x.canvas.height),x.translate(-i[0],-i[1]),d=p.Util.transform(d,[1,0,0,1,i[0],i[1]]),x.transform.apply(x,C.baseTransform),this.matrix&&x.transform.apply(x,this.matrix),Y(x,this._bbox),x.fillStyle=this._createGradient(x),x.fill(),e=l.createPattern(y.canvas,"no-repeat");const M=new DOMMatrix(d);try{e.setTransform(M)}catch(b){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${null==b?void 0:b.message}".`)}}else Y(l,this._bbox),e=this._createGradient(l);return e}}function c(t,l,C,d,g,e,i,_){const m=l.coords,y=l.colors,x=t.data,M=4*t.width;let b;m[C+1]>m[d+1]&&(b=C,C=d,d=b,b=e,e=i,i=b),m[d+1]>m[g+1]&&(b=d,d=g,g=b,b=i,i=_,_=b),m[C+1]>m[d+1]&&(b=C,C=d,d=b,b=e,e=i,i=b);const R=(m[C]+l.offsetX)*l.scaleX,N=(m[C+1]+l.offsetY)*l.scaleY,j=(m[d]+l.offsetX)*l.scaleX,q=(m[d+1]+l.offsetY)*l.scaleY,B=(m[g]+l.offsetX)*l.scaleX,G=(m[g+1]+l.offsetY)*l.scaleY;if(N>=G)return;const $=y[e],te=y[e+1],ae=y[e+2],L=y[i],s=y[i+1],h=y[i+2],n=y[_],o=y[_+1],u=y[_+2],S=Math.round(N),A=Math.round(G);let T,V,W,U,H,X,Q,le;for(let _e=S;_e<=A;_e++){if(_e<q){let I;I=_e<N?0:(N-_e)/(N-q),T=R-(R-j)*I,V=$-($-L)*I,W=te-(te-s)*I,U=ae-(ae-h)*I}else{let I;I=_e>G?1:q===G?0:(q-_e)/(q-G),T=j-(j-B)*I,V=L-(L-n)*I,W=s-(s-o)*I,U=h-(h-u)*I}let J;J=_e<N?0:_e>G?1:(N-_e)/(N-G),H=R-(R-B)*J,X=$-($-n)*J,Q=te-(te-o)*J,le=ae-(ae-u)*J;const re=Math.round(Math.min(T,H)),ie=Math.round(Math.max(T,H));let w=M*_e+4*re;for(let I=re;I<=ie;I++)J=(T-I)/(T-H),J<0?J=0:J>1&&(J=1),x[w++]=V-(V-X)*J|0,x[w++]=W-(W-Q)*J|0,x[w++]=U-(U-le)*J|0,x[w++]=255}}function E(t,l,C){const d=l.coords,g=l.colors;let e,i;switch(l.type){case"lattice":const _=l.verticesPerRow,m=Math.floor(d.length/_)-1,y=_-1;for(e=0;e<m;e++){let x=e*_;for(let M=0;M<y;M++,x++)c(t,C,d[x],d[x+1],d[x+_],g[x],g[x+1],g[x+_]),c(t,C,d[x+_+1],d[x+1],d[x+_],g[x+_+1],g[x+1],g[x+_])}break;case"triangles":for(e=0,i=d.length;e<i;e+=3)c(t,C,d[e],d[e+1],d[e+2],g[e],g[e+1],g[e+2]);break;default:throw new Error("illegal figure")}}class f extends K{constructor(l){super(),this._coords=l[2],this._colors=l[3],this._figures=l[4],this._bounds=l[5],this._bbox=l[7],this._background=l[8],this.matrix=null}_createMeshCanvas(l,C,d){const _=Math.floor(this._bounds[0]),m=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-_,x=Math.ceil(this._bounds[3])-m,M=Math.min(Math.ceil(Math.abs(y*l[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(x*l[1]*1.1)),3e3),R=y/M,N=x/b,j={coords:this._coords,colors:this._colors,offsetX:-_,offsetY:-m,scaleX:1/R,scaleY:1/N},G=d.getCanvas("mesh",M+4,b+4,!1),$=G.context,te=$.createImageData(M,b);if(C){const L=te.data;for(let s=0,h=L.length;s<h;s+=4)L[s]=C[0],L[s+1]=C[1],L[s+2]=C[2],L[s+3]=255}for(const L of this._figures)E(te,L,j);return $.putImageData(te,2,2),{canvas:G.canvas,offsetX:_-2*R,offsetY:m-2*N,scaleX:R,scaleY:N}}getPattern(l,C,d,g){let e;if(Y(l,this._bbox),g===ee.SHADING)e=p.Util.singularValueDecompose2dScale(l.mozCurrentTransform);else if(e=p.Util.singularValueDecompose2dScale(C.baseTransform),this.matrix){const _=p.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*_[0],e[1]*_[1]]}const i=this._createMeshCanvas(e,g===ee.SHADING?null:this._background,C.cachedCanvases);return g!==ee.SHADING&&(l.setTransform.apply(l,C.baseTransform),this.matrix&&l.transform.apply(l,this.matrix)),l.translate(i.offsetX,i.offsetY),l.scale(i.scaleX,i.scaleY),l.createPattern(i.canvas,"no-repeat")}}class v extends K{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(l,C,d,g,e){this.operatorList=l[2],this.matrix=l[3]||[1,0,0,1,0,0],this.bbox=l[4],this.xstep=l[5],this.ystep=l[6],this.paintType=l[7],this.tilingType=l[8],this.color=C,this.ctx=d,this.canvasGraphicsFactory=g,this.baseTransform=e}createPatternCanvas(l){const C=this.operatorList,d=this.bbox,g=this.xstep,e=this.ystep,i=this.paintType,m=this.color,y=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const x=d[0],M=d[1],b=d[2],R=d[3],N=p.Util.singularValueDecompose2dScale(this.matrix),j=p.Util.singularValueDecompose2dScale(this.baseTransform),q=[N[0]*j[0],N[1]*j[1]],B=this.getSizeAndScale(g,this.ctx.canvas.width,q[0]),G=this.getSizeAndScale(e,this.ctx.canvas.height,q[1]),$=l.cachedCanvases.getCanvas("pattern",B.size,G.size,!0),te=$.context,ae=y.createCanvasGraphics(te);ae.groupLevel=l.groupLevel,this.setFillAndStrokeStyleToContext(ae,i,m);let L=x,s=M,h=b,n=R;return x<0&&(L=0,h+=Math.abs(x)),M<0&&(s=0,n+=Math.abs(M)),te.translate(-B.scale*L,-G.scale*s),ae.transform(B.scale,0,0,G.scale,0,0),te.save(),this.clipBbox(ae,L,s,h,n),ae.baseTransform=ae.ctx.mozCurrentTransform.slice(),ae.executeOperatorList(C),ae.endDrawing(),{canvas:$.canvas,scaleX:B.scale,scaleY:G.scale,offsetX:L,offsetY:s}}getSizeAndScale(l,C,d){l=Math.abs(l);const g=Math.max(r.MAX_PATTERN_SIZE,C);let e=Math.ceil(l*d);return e>=g?e=g:d=e/l,{scale:d,size:e}}clipBbox(l,C,d,g,e){l.ctx.rect(C,d,g-C,e-d),l.current.updateRectMinMax(l.ctx.mozCurrentTransform,[C,d,g,e]),l.clip(),l.endPath()}setFillAndStrokeStyleToContext(l,C,d){const g=l.ctx,e=l.current;switch(C){case 1:const i=this.ctx;g.fillStyle=i.fillStyle,g.strokeStyle=i.strokeStyle,e.fillColor=i.fillStyle,e.strokeColor=i.strokeStyle;break;case 2:const _=p.Util.makeHexColor(d[0],d[1],d[2]);g.fillStyle=_,g.strokeStyle=_,e.fillColor=_,e.strokeColor=_;break;default:throw new p.FormatError(`Unsupported paint type: ${C}`)}}getPattern(l,C,d,g){let e=d;g!==ee.SHADING&&(e=p.Util.transform(e,C.baseTransform),this.matrix&&(e=p.Util.transform(e,this.matrix)));const i=this.createPatternCanvas(C);let _=new DOMMatrix(e);_=_.translate(i.offsetX,i.offsetY),_=_.scale(1/i.scaleX,1/i.scaleY);const m=l.createPattern(i.canvas,"repeat");try{m.setTransform(_)}catch(y){(0,p.warn)(`TilingPattern.getPattern: "${null==y?void 0:y.message}".`)}return m}}k.TilingPattern=r},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.applyMaskImageData=function oe({src:ee,srcPos:Y=0,dest:K,destPos:D=0,width:c,height:E,inverseDecode:f=!1}){const v=p.FeatureTest.isLittleEndian?4278190080:255,[P,a]=f?[0,v]:[v,0],r=c>>3,t=7&c,l=ee.length;K=new Uint32Array(K.buffer);for(let C=0;C<E;C++){for(const g=Y+r;Y<g;Y++){const e=Y<l?ee[Y]:255;K[D++]=128&e?a:P,K[D++]=64&e?a:P,K[D++]=32&e?a:P,K[D++]=16&e?a:P,K[D++]=8&e?a:P,K[D++]=4&e?a:P,K[D++]=2&e?a:P,K[D++]=1&e?a:P}if(0===t)continue;const d=Y<l?ee[Y++]:255;for(let g=0;g<t;g++)K[D++]=d&1<<7-g?a:P}return{srcPos:Y,destPos:D}};var p=ne(1)},(de,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.GlobalWorkerOptions=void 0;const ne=Object.create(null);k.GlobalWorkerOptions=ne,ne.workerPort=void 0===ne.workerPort?null:ne.workerPort,ne.workerSrc=void 0===ne.workerSrc?"":ne.workerSrc},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MessageHandler=void 0;var p=ne(1);function Y(D){switch(D instanceof Error||"object"==typeof D&&null!==D||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new p.AbortException(D.message);case"MissingPDFException":return new p.MissingPDFException(D.message);case"PasswordException":return new p.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new p.UnknownErrorException(D.message,D.details);default:return new p.UnknownErrorException(D.message,D.toString())}}k.MessageHandler=class K{constructor(c,E,f){this.sourceName=c,this.targetName=E,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const P=v.data;if(P.targetName!==this.sourceName)return;if(P.stream)return void this._processStreamMessage(P);if(P.callback){const r=P.callbackId,t=this.callbackCapabilities[r];if(!t)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===P.callback)t.resolve(P.data);else{if(2!==P.callback)throw new Error("Unexpected callback case");t.reject(Y(P.reason))}return}const a=this.actionHandler[P.action];if(!a)throw new Error(`Unknown action from worker: ${P.action}`);if(P.callbackId){const r=this.sourceName,t=P.sourceName;new Promise(function(l){l(a(P.data))}).then(function(l){f.postMessage({sourceName:r,targetName:t,callback:1,callbackId:P.callbackId,data:l})},function(l){f.postMessage({sourceName:r,targetName:t,callback:2,callbackId:P.callbackId,reason:Y(l)})})}else P.streamId?this._createStreamSink(P):a(P.data)},f.addEventListener("message",this._onComObjOnMessage)}on(c,E){const f=this.actionHandler;if(f[c])throw new Error(`There is already an actionName called "${c}"`);f[c]=E}send(c,E,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:E},f)}sendWithPromise(c,E,f){const v=this.callbackId++,P=(0,p.createPromiseCapability)();this.callbackCapabilities[v]=P;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:v,data:E},f)}catch(a){P.reject(a)}return P.promise}sendWithStream(c,E,f,v){const P=this.streamId++,a=this.sourceName,r=this.targetName,t=this.comObj;return new ReadableStream({start:l=>{const C=(0,p.createPromiseCapability)();return this.streamControllers[P]={controller:l,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},t.postMessage({sourceName:a,targetName:r,action:c,streamId:P,data:E,desiredSize:l.desiredSize},v),C.promise},pull:l=>{const C=(0,p.createPromiseCapability)();return this.streamControllers[P].pullCall=C,t.postMessage({sourceName:a,targetName:r,stream:6,streamId:P,desiredSize:l.desiredSize}),C.promise},cancel:l=>{(0,p.assert)(l instanceof Error,"cancel must have a valid reason");const C=(0,p.createPromiseCapability)();return this.streamControllers[P].cancelCall=C,this.streamControllers[P].isClosed=!0,t.postMessage({sourceName:a,targetName:r,stream:1,streamId:P,reason:Y(l)}),C.promise}},f)}_createStreamSink(c){const E=c.streamId,f=this.sourceName,v=c.sourceName,P=this.comObj,a=this,r=this.actionHandler[c.action],t={enqueue(l,C=1,d){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=C,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),P.postMessage({sourceName:f,targetName:v,stream:4,streamId:E,chunk:l},d)},close(){this.isCancelled||(this.isCancelled=!0,P.postMessage({sourceName:f,targetName:v,stream:3,streamId:E}),delete a.streamSinks[E])},error(l){(0,p.assert)(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,P.postMessage({sourceName:f,targetName:v,stream:5,streamId:E,reason:Y(l)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};t.sinkCapability.resolve(),t.ready=t.sinkCapability.promise,this.streamSinks[E]=t,new Promise(function(l){l(r(c.data,t))}).then(function(){P.postMessage({sourceName:f,targetName:v,stream:8,streamId:E,success:!0})},function(l){P.postMessage({sourceName:f,targetName:v,stream:8,streamId:E,reason:Y(l)})})}_processStreamMessage(c){const E=c.streamId,f=this.sourceName,v=c.sourceName,P=this.comObj,a=this.streamControllers[E],r=this.streamSinks[E];switch(c.stream){case 8:c.success?a.startCall.resolve():a.startCall.reject(Y(c.reason));break;case 7:c.success?a.pullCall.resolve():a.pullCall.reject(Y(c.reason));break;case 6:if(!r){P.postMessage({sourceName:f,targetName:v,stream:7,streamId:E,success:!0});break}r.desiredSize<=0&&c.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=c.desiredSize,new Promise(function(t){t(r.onPull&&r.onPull())}).then(function(){P.postMessage({sourceName:f,targetName:v,stream:7,streamId:E,success:!0})},function(t){P.postMessage({sourceName:f,targetName:v,stream:7,streamId:E,reason:Y(t)})});break;case 4:if((0,p.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(c.chunk);break;case 3:if((0,p.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this._deleteStreamController(a,E);break;case 5:(0,p.assert)(a,"error should have stream controller"),a.controller.error(Y(c.reason)),this._deleteStreamController(a,E);break;case 2:c.success?a.cancelCall.resolve():a.cancelCall.reject(Y(c.reason)),this._deleteStreamController(a,E);break;case 1:if(!r)break;new Promise(function(t){t(r.onCancel&&r.onCancel(Y(c.reason)))}).then(function(){P.postMessage({sourceName:f,targetName:v,stream:2,streamId:E,success:!0})},function(t){P.postMessage({sourceName:f,targetName:v,stream:2,streamId:E,reason:Y(t)})}),r.sinkCapability.reject(Y(c.reason)),r.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,E){var f=this;return _asyncToGenerator(function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete f.streamControllers[E]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(de,k,ne)=>{var ee,Y;Object.defineProperty(k,"__esModule",{value:!0}),k.Metadata=void 0;var p=ne(1);ee=new WeakMap,Y=new WeakMap,k.Metadata=class oe{constructor({parsedData:D,rawData:c}){ve(this,ee,void 0),ve(this,Y,void 0),Te(this,ee,D),Te(this,Y,c)}getRaw(){return Ae(this,Y)}get(D){var c;return null!=(c=Ae(this,ee).get(D))?c:null}getAll(){return(0,p.objectFromMap)(Ae(this,ee))}has(D){return Ae(this,ee).has(D)}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.OptionalContentConfig=void 0;var p=ne(1);class oe{constructor(K,D){this.visible=!0,this.name=K,this.intent=D}}k.OptionalContentConfig=class ee{constructor(K){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==K){this.name=K.name,this.creator=K.creator,this._order=K.order;for(const D of K.groups)this._groups.set(D.id,new oe(D.name,D.intent));if("OFF"===K.baseState)for(const D of this._groups)D.visible=!1;for(const D of K.on)this._groups.get(D).visible=!0;for(const D of K.off)this._groups.get(D).visible=!1}}_evaluateVisibilityExpression(K){const D=K.length;if(D<2)return!0;const c=K[0];for(let E=1;E<D;E++){const f=K[E];let v;if(Array.isArray(f))v=this._evaluateVisibilityExpression(f);else{if(!this._groups.has(f))return(0,p.warn)(`Optional content group not found: ${f}`),!0;v=this._groups.get(f).visible}switch(c){case"And":if(!v)return!1;break;case"Or":if(v)return!0;break;case"Not":return!v;default:return!0}}return"And"===c}isVisible(K){if(0===this._groups.size)return!0;if(!K)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===K.type)return this._groups.has(K.id)?this._groups.get(K.id).visible:((0,p.warn)(`Optional content group not found: ${K.id}`),!0);if("OCMD"===K.type){if(K.expression)return this._evaluateVisibilityExpression(K.expression);if(!K.policy||"AnyOn"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!0}return!1}if("AllOn"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!1}return!0}if("AnyOff"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!0}return!1}if("AllOff"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${K.policy}.`),!0}return(0,p.warn)(`Unknown group type ${K.type}.`),!0}setVisibility(K,D=!0){this._groups.has(K)?this._groups.get(K).visible=!!D:(0,p.warn)(`Optional content group not found: ${K}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(K){return this._groups.get(K)||null}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFDataTransportStream=void 0;var p=ne(1),oe=ne(5);k.PDFDataTransportStream=class ee{constructor(c,E){(0,p.assert)(E,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;const f=c.initialData;if((null==f?void 0:f.length)>0){const v=new Uint8Array(f).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=E,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,P)=>{this._onReceiveData({begin:v,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((v,P)=>{this._onProgress({loaded:v,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){const E=new Uint8Array(c.chunk).buffer;if(void 0===c.begin)this._fullRequestReader?this._fullRequestReader._enqueue(E):this._queuedChunks.push(E);else{const f=this._rangeReaders.some(function(v){return v._begin===c.begin&&(v._enqueue(E),!0)});(0,p.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var c,E;return null!=(E=null==(c=this._fullRequestReader)?void 0:c._loaded)?E:0}_onProgress(c){if(void 0===c.total){const E=this._rangeReaders[0];(null==E?void 0:E.onProgress)&&E.onProgress({loaded:c.loaded})}else{const E=this._fullRequestReader;(null==E?void 0:E.onProgress)&&E.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const E=this._rangeReaders.indexOf(c);E>=0&&this._rangeReaders.splice(E,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new Y(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,E){if(E<=this._progressiveDataLength)return null;const f=new K(this,c,E);return this._pdfDataRangeTransport.requestDataRange(c,E),this._rangeReaders.push(f),f}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const E of this._rangeReaders.slice(0))E.cancel(c);this._pdfDataRangeTransport.abort()}};class Y{constructor(c,E,f=!1,v=null){this._stream=c,this._done=f||!1,this._filename=(0,oe.isPdfFile)(v)?v:null,this._queuedChunks=E||[],this._loaded=0;for(const P of this._queuedChunks)this._loaded+=P.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunks.length>0)return{value:c._queuedChunks.shift(),done:!1};if(c._done)return{value:void 0,done:!0};const E=(0,p.createPromiseCapability)();return c._requests.push(E),E.promise})()}cancel(c){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class K{constructor(c,E,f){this._stream=c,this._begin=E,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(0===this._requests.length)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunk){const f=c._queuedChunk;return c._queuedChunk=null,{value:f,done:!1}}if(c._done)return{value:void 0,done:!0};const E=(0,p.createPromiseCapability)();return c._requests.push(E),E.promise})()}cancel(c){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(de,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaText=void 0;class ne{static textContent(oe){const ee=[],Y={items:ee,styles:Object.create(null)};return function K(D){var f;if(!D)return;let c=null;const E=D.name;if("#text"===E)c=D.value;else{if(!ne.shouldBuildText(E))return;(null==(f=null==D?void 0:D.attributes)?void 0:f.textContent)?c=D.attributes.textContent:D.value&&(c=D.value)}if(null!==c&&ee.push({str:c}),D.children)for(const v of D.children)K(v)}(oe),Y}static shouldBuildText(oe){return!("textarea"===oe||"input"===oe||"option"===oe||"select"===oe)}}k.XfaText=ne},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.NodeStandardFontDataFactory=k.NodeCanvasFactory=k.NodeCMapReaderFactory=void 0;var p=ne(6);const oe=function(D){return new Promise((c,E)=>{__webpack_require__(172).readFile(D,(v,P)=>{!v&&P?c(new Uint8Array(P)):E(new Error(v))})})};k.NodeCanvasFactory=class ee extends p.BaseCanvasFactory{_createCanvas(c,E){return __webpack_require__(3414).createCanvas(c,E)}},k.NodeCMapReaderFactory=class Y extends p.BaseCMapReaderFactory{_fetchData(c,E){return oe(c).then(f=>({cMapData:f,compressionType:E}))}},k.NodeStandardFontDataFactory=class K extends p.BaseStandardFontDataFactory{_fetchData(c){return oe(c)}}},(de,k,ne)=>{var L,it;Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationLayer=void 0;var p=ne(1),oe=ne(5),ee=ne(8),Y=ne(21),K=ne(22);const D=1e3,c=new WeakSet;function E(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class f{static create(n){switch(n.data.annotationType){case p.AnnotationType.LINK:return new P(n);case p.AnnotationType.TEXT:return new a(n);case p.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new t(n);case"Btn":return n.data.radioButton?new C(n):n.data.checkBox?new l(n):new d(n);case"Ch":return new g(n)}return new r(n);case p.AnnotationType.POPUP:return new e(n);case p.AnnotationType.FREETEXT:return new _(n);case p.AnnotationType.LINE:return new m(n);case p.AnnotationType.SQUARE:return new y(n);case p.AnnotationType.CIRCLE:return new x(n);case p.AnnotationType.POLYLINE:return new M(n);case p.AnnotationType.CARET:return new R(n);case p.AnnotationType.INK:return new N(n);case p.AnnotationType.POLYGON:return new b(n);case p.AnnotationType.HIGHLIGHT:return new j(n);case p.AnnotationType.UNDERLINE:return new q(n);case p.AnnotationType.SQUIGGLY:return new B(n);case p.AnnotationType.STRIKEOUT:return new G(n);case p.AnnotationType.STAMP:return new $(n);case p.AnnotationType.FILEATTACHMENT:return new te(n);default:return new v(n)}}}class v{constructor(n,{isRenderable:o=!1,ignoreBorder:u=!1,createQuadrilaterals:S=!1}={}){this.isRenderable=o,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this._mouseState=n.mouseState,o&&(this.container=this._createContainer(u)),S&&(this.quadrilaterals=this._createQuadrilaterals(u))}_createContainer(n=!1){const o=this.data,u=this.page,S=this.viewport,A=document.createElement("section");let{width:T,height:V}=E(o.rect);A.setAttribute("data-annotation-id",o.id);const W=p.Util.normalizeRect([o.rect[0],u.view[3]-o.rect[1]+u.view[1],o.rect[2],u.view[3]-o.rect[3]+u.view[1]]);if(o.hasOwnCanvas){const U=S.transform.slice(),[H,X]=p.Util.singularValueDecompose2dScale(U);T=Math.ceil(T*H),V=Math.ceil(V*X),W[0]*=H,W[1]*=X;for(let Q=0;Q<4;Q++)U[Q]=Math.sign(U[Q]);A.style.transform=`matrix(${U.join(",")})`}else A.style.transform=`matrix(${S.transform.join(",")})`;if(A.style.transformOrigin=`${-W[0]}px ${-W[1]}px`,!n&&o.borderStyle.width>0){A.style.borderWidth=`${o.borderStyle.width}px`,o.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(T-=2*o.borderStyle.width,V-=2*o.borderStyle.width);const U=o.borderStyle.horizontalCornerRadius,H=o.borderStyle.verticalCornerRadius;switch((U>0||H>0)&&(A.style.borderRadius=`${U}px / ${H}px`),o.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:A.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:A.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:A.style.borderBottomStyle="solid"}o.borderColor||o.color?A.style.borderColor=p.Util.makeHexColor(0|o.color[0],0|o.color[1],0|o.color[2]):A.style.borderWidth=0}return A.style.left=`${W[0]}px`,A.style.top=`${W[1]}px`,o.hasOwnCanvas?A.style.width=A.style.height="auto":(A.style.width=`${T}px`,A.style.height=`${V}px`),A}get _commonActions(){const n=(o,u,S)=>{const A=S.detail[o];S.target.style[u]=Y.ColorConverters[`${A[0]}_HTML`](A.slice(1))};return(0,p.shadow)(this,"_commonActions",{display:o=>{const u=o.detail.display%2==1;o.target.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:u,print:0===o.detail.display||3===o.detail.display})},print:o=>{this.annotationStorage.setValue(this.data.id,{print:o.detail.print})},hidden:o=>{o.target.style.visibility=o.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o.detail.hidden})},focus:o=>{setTimeout(()=>o.target.focus({preventScroll:!1}),0)},userName:o=>{o.target.title=o.detail.userName},readonly:o=>{o.detail.readonly?o.target.setAttribute("readonly",""):o.target.removeAttribute("readonly")},required:o=>{o.detail.required?o.target.setAttribute("required",""):o.target.removeAttribute("required")},bgColor:o=>{n("bgColor","backgroundColor",o)},fillColor:o=>{n("fillColor","backgroundColor",o)},fgColor:o=>{n("fgColor","color",o)},textColor:o=>{n("textColor","color",o)},borderColor:o=>{n("borderColor","borderColor",o)},strokeColor:o=>{n("strokeColor","borderColor",o)}})}_dispatchEventFromSandbox(n,o){const u=this._commonActions;for(const S of Object.keys(o.detail)){const A=n[S]||u[S];A&&A(o)}}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const o=this.annotationStorage.getRawValue(this.data.id);if(!o)return;const u=this._commonActions;for(const[S,A]of Object.entries(o)){const T=u[S];T&&(T({detail:A,target:n}),delete o[S])}}_createQuadrilaterals(n=!1){if(!this.data.quadPoints)return null;const o=[],u=this.data.rect;for(const S of this.data.quadPoints)this.data.rect=[S[2].x,S[2].y,S[1].x,S[1].y],o.push(this._createContainer(n));return this.data.rect=u,o}_createPopup(n,o){let u=this.container;this.quadrilaterals&&(n=n||this.quadrilaterals,u=this.quadrilaterals[0]),n||((n=document.createElement("div")).style.height=u.style.height,n.style.width=u.style.width,u.appendChild(n));const A=new i({container:u,trigger:n,color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,hideWrapper:!0}).render();A.style.left=u.style.width,u.appendChild(A)}_renderQuadrilaterals(n){for(const o of this.quadrilaterals)o.className=n;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,o=null){const u=[];if(this._fieldObjects){const S=this._fieldObjects[n];if(S)for(const{page:A,id:T,exportValues:V}of S){if(-1===A||T===o)continue;const W="string"==typeof V?V:null,U=document.getElementById(T);!U||c.has(U)?u.push({id:T,exportValue:W,domElement:U}):(0,p.warn)(`_getElementsByName - element not allowed: ${T}`)}return u}for(const S of document.getElementsByName(n)){const{id:A,exportValue:T}=S;A!==o&&(!c.has(S)||u.push({id:A,exportValue:T,domElement:S}))}return u}static get platform(){const n="undefined"!=typeof navigator?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:n.includes("Win"),isMac:n.includes("Mac")})}}class P extends v{constructor(n,o=null){super(n,{isRenderable:!!(n.data.url||n.data.dest||n.data.action||n.data.isTooltipOnly||n.data.resetForm||n.data.actions&&(n.data.actions.Action||n.data.actions["Mouse Up"]||n.data.actions["Mouse Down"])),ignoreBorder:!!(null==o?void 0:o.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:n,linkService:o}=this,u=document.createElement("a");if(n.url)o.addLinkAttributes(u,n.url,n.newWindow);else if(n.action)this._bindNamedAction(u,n.action);else if(n.dest)this._bindLink(u,n.dest);else{let S=!1;n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(S=!0,this._bindJSAction(u,n)),n.resetForm?this._bindResetFormAction(u,n.resetForm):S||this._bindLink(u,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((S,A)=>{const T=0===A?u:u.cloneNode();return S.appendChild(T),S}):(this.container.className="linkAnnotation",this.container.appendChild(u),this.container)}_bindLink(n,o){n.href=this.linkService.getDestinationHash(o),n.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||""===o)&&(n.className="internalLink")}_bindNamedAction(n,o){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(o),!1),n.className="internalLink"}_bindJSAction(n,o){n.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const S of Object.keys(o.actions)){const A=u.get(S);!A||(n[A]=()=>{var T;return null==(T=this.linkService.eventBus)||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:S}}),!1})}n.onclick||(n.onclick=()=>!1),n.className="internalLink"}_bindResetFormAction(n,o){const u=n.onclick;if(u||(n.href=this.linkService.getAnchorUrl("")),n.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(n.onclick=()=>!1));n.onclick=()=>{var H;u&&u();const{fields:S,refs:A,include:T}=o,V=[];if(0!==S.length||0!==A.length){const X=new Set(A);for(const Q of S){const le=this._fieldObjects[Q]||[];for(const{id:_e}of le)X.add(_e)}for(const Q of Object.values(this._fieldObjects))for(const le of Q)X.has(le.id)===T&&V.push(le)}else for(const X of Object.values(this._fieldObjects))V.push(...X);const W=this.annotationStorage,U=[];for(const X of V){const{id:Q}=X;switch(U.push(Q),X.type){case"text":case"combobox":case"listbox":W.setValue(Q,{value:X.defaultValue||""});break;case"checkbox":case"radiobutton":W.setValue(Q,{value:X.defaultValue===X.exportValues});break;default:continue}const le=document.getElementById(Q);!le||!c.has(le)||le.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(H=this.linkService.eventBus)||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:U,name:"ResetForm"}})),!1}}}class a extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str))})}render(){this.container.className="textAnnotation";const n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(n,this.data),this.container.appendChild(n),this.container}}class r extends v{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(n){const{isWin:o,isMac:u}=v.platform;return o&&n.ctrlKey||u&&n.metaKey}_setEventListener(n,o,u,S){o.includes("mouse")?n.addEventListener(o,A=>{var T;null==(T=this.linkService.eventBus)||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:S(A),shift:A.shiftKey,modifier:this._getKeyModifier(A)}})}):n.addEventListener(o,A=>{var T;null==(T=this.linkService.eventBus)||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:S(A)}})})}_setEventListeners(n,o,u){var S;for(const[A,T]of o)("Action"===T||(null==(S=this.data.actions)?void 0:S[T]))&&this._setEventListener(n,A,T,u)}_setBackgroundColor(n){const o=this.data.backgroundColor||null;n.style.backgroundColor=null===o?"transparent":p.Util.makeHexColor(o[0],o[1],o[2])}}class t extends r{constructor(n){super(n,{isRenderable:n.renderForms||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,o,u,S){const A=this.annotationStorage;for(const T of this._getElementsByName(n.name,n.id))T.domElement&&(T.domElement[o]=u),A.setValue(T.id,{[S]:u})}render(){var S;const n=this.annotationStorage,o=this.data.id;this.container.className="textWidgetAnnotation";let u=null;if(this.renderForms){const A=n.getValue(o,{value:this.data.fieldValue}),T=A.formattedValue||A.value||"",V={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=T):(u=document.createElement("input"),u.type="text",u.setAttribute("value",T)),c.add(u),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=D,V.userValue=T,u.setAttribute("id",o),u.addEventListener("input",U=>{n.setValue(o,{value:U.target.value}),this.setPropertyOnSiblings(u,"value",U.target.value,"value")}),u.addEventListener("resetform",U=>{var X;const H=null!=(X=this.data.defaultFieldValue)?X:"";u.value=V.userValue=H,V.formattedValue=null});let W=U=>{const{formattedValue:H}=V;null!=H&&(U.target.value=H),U.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){u.addEventListener("focus",H=>{V.userValue&&(H.target.value=V.userValue),V.valueOnFocus=H.target.value}),u.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(Q){var le;V.userValue=null!=(le=Q.detail.value)?le:"",n.setValue(o,{value:V.userValue.toString()}),Q.target.value=V.userValue},formattedValue(Q){const{formattedValue:le}=Q.detail;V.formattedValue=le,null!=le&&Q.target!==document.activeElement&&(Q.target.value=le),n.setValue(o,{formattedValue:le})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},H)}),u.addEventListener("keydown",H=>{var le;let X=-1;if("Escape"===H.key?X=0:"Enter"===H.key?X=2:"Tab"===H.key&&(X=3),-1===X)return;const{value:Q}=H.target;V.valueOnFocus!==Q&&(V.userValue=Q,null==(le=this.linkService.eventBus)||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Q,willCommit:!0,commitKey:X,selStart:H.target.selectionStart,selEnd:H.target.selectionEnd}}))});const U=W;W=null,u.addEventListener("blur",H=>{var Q;const{value:X}=H.target;V.userValue=X,this._mouseState.isDown&&V.valueOnFocus!==X&&(null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:X,willCommit:!0,commitKey:1,selStart:H.target.selectionStart,selEnd:H.target.selectionEnd}})),U(H)}),(null==(S=this.data.actions)?void 0:S.Keystroke)&&u.addEventListener("beforeinput",H=>{var w;const{data:X,target:Q}=H,{value:le,selectionStart:_e,selectionEnd:J}=Q;let re=_e,ie=J;switch(H.inputType){case"deleteWordBackward":{const I=le.substring(0,_e).match(/\w*[^\w]*$/);I&&(re-=I[0].length);break}case"deleteWordForward":{const I=le.substring(_e).match(/^[^\w]*\w*/);I&&(ie+=I[0].length);break}case"deleteContentBackward":_e===J&&(re-=1);break;case"deleteContentForward":_e===J&&(ie+=1)}H.preventDefault(),null==(w=this.linkService.eventBus)||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:le,change:X||"",willCommit:!1,selStart:re,selEnd:ie}})}),this._setEventListeners(u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.value)}if(W&&u.addEventListener("blur",W),null!==this.data.maxLen&&(u.maxLength=this.data.maxLen),this.data.comb){const H=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;u.classList.add("comb"),u.style.letterSpacing=`calc(${H}px - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell";return this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.appendChild(u),this.container}_setTextStyle(n){const{fontSize:u,fontColor:S}=this.data.defaultAppearanceData,A=n.style;u&&(A.fontSize=`${u}px`),A.color=p.Util.makeHexColor(S[0],S[1],S[2]),null!==this.data.textAlignment&&(A.textAlign=["left","center","right"][this.data.textAlignment])}}class l extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,o=this.data,u=o.id;let S=n.getValue(u,{value:o.exportValue===o.fieldValue}).value;"string"==typeof S&&(S="Off"!==S,n.setValue(u,{value:S})),this.container.className="buttonWidgetAnnotation checkBox";const A=document.createElement("input");return c.add(A),A.disabled=o.readOnly,A.type="checkbox",A.name=o.fieldName,S&&A.setAttribute("checked",!0),A.setAttribute("id",u),A.setAttribute("exportValue",o.exportValue),A.tabIndex=D,A.addEventListener("change",T=>{const{name:V,checked:W}=T.target;for(const U of this._getElementsByName(V,u)){const H=W&&U.exportValue===o.exportValue;U.domElement&&(U.domElement.checked=H),n.setValue(U.id,{value:H})}n.setValue(u,{value:W})}),A.addEventListener("resetform",T=>{T.target.checked=(o.defaultFieldValue||"Off")===o.exportValue}),this.enableScripting&&this.hasJSActions&&(A.addEventListener("updatefromsandbox",T=>{this._dispatchEventFromSandbox({value(W){W.target.checked="Off"!==W.detail.value,n.setValue(u,{value:W.target.checked})}},T)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.checked)),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.appendChild(A),this.container}}class C extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const n=this.annotationStorage,o=this.data,u=o.id;let S=n.getValue(u,{value:o.fieldValue===o.buttonValue}).value;"string"==typeof S&&(S=S!==o.buttonValue,n.setValue(u,{value:S}));const A=document.createElement("input");if(c.add(A),A.disabled=o.readOnly,A.type="radio",A.name=o.fieldName,S&&A.setAttribute("checked",!0),A.setAttribute("id",u),A.tabIndex=D,A.addEventListener("change",T=>{const{name:V,checked:W}=T.target;for(const U of this._getElementsByName(V,u))n.setValue(U.id,{value:!1});n.setValue(u,{value:W})}),A.addEventListener("resetform",T=>{const V=o.defaultFieldValue;T.target.checked=null!=V&&V===o.buttonValue}),this.enableScripting&&this.hasJSActions){const T=o.buttonValue;A.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value:U=>{const H=T===U.detail.value;for(const X of this._getElementsByName(U.target.name)){const Q=H&&X.id===u;X.domElement&&(X.domElement.checked=Q),n.setValue(X.id,{value:Q})}}},V)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)}return this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.appendChild(A),this.container}}class d extends P{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(n),n}}class g extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const n=this.annotationStorage,o=this.data.id,u=n.getValue(o,{value:this.data.fieldValue});let{fontSize:S}=this.data.defaultAppearanceData;S||(S=9);const A=`calc(${S}px * var(--zoom-factor))`,T=document.createElement("select");c.add(T),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.setAttribute("id",o),T.tabIndex=D,T.style.fontSize=`${S}px`,this.data.combo||(T.size=this.data.options.length,this.data.multiSelect&&(T.multiple=!0)),T.addEventListener("resetform",U=>{const H=this.data.defaultFieldValue;for(const X of T.options)X.selected=X.value===H});for(const U of this.data.options){const H=document.createElement("option");H.textContent=U.displayValue,H.value=U.exportValue,this.data.combo&&(H.style.fontSize=A),u.value.includes(U.exportValue)&&H.setAttribute("selected",!0),T.appendChild(H)}const V=(U,H)=>{const X=H?"value":"textContent",Q=U.target.options;return U.target.multiple?Array.prototype.filter.call(Q,le=>le.selected).map(le=>le[X]):-1===Q.selectedIndex?null:Q[Q.selectedIndex][X]},W=U=>Array.prototype.map.call(U.target.options,X=>({displayValue:X.textContent,exportValue:X.value}));return this.enableScripting&&this.hasJSActions?(T.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(X){const Q=X.detail.value,le=new Set(Array.isArray(Q)?Q:[Q]);for(const _e of T.options)_e.selected=le.has(_e.value);n.setValue(o,{value:V(X,!0)})},multipleSelection(X){T.multiple=!0},remove(X){const Q=T.options,le=X.detail.remove;Q[le].selected=!1,T.remove(le),Q.length>0&&-1===Array.prototype.findIndex.call(Q,J=>J.selected)&&(Q[0].selected=!0),n.setValue(o,{value:V(X,!0),items:W(X)})},clear(X){for(;0!==T.length;)T.remove(0);n.setValue(o,{value:null,items:[]})},insert(X){const{index:Q,displayValue:le,exportValue:_e}=X.detail.insert,J=document.createElement("option");J.textContent=le,J.value=_e,T.insertBefore(J,T.children[Q]),n.setValue(o,{value:V(X,!0),items:W(X)})},items(X){const{items:Q}=X.detail;for(;0!==T.length;)T.remove(0);for(const le of Q){const{displayValue:_e,exportValue:J}=le,re=document.createElement("option");re.textContent=_e,re.value=J,T.appendChild(re)}T.options.length>0&&(T.options[0].selected=!0),n.setValue(o,{value:V(X,!0),items:W(X)})},indices(X){const Q=new Set(X.detail.indices);for(const le of X.target.options)le.selected=Q.has(le.index);n.setValue(o,{value:V(X,!0)})},editable(X){X.target.disabled=!X.detail.editable}},U)}),T.addEventListener("input",U=>{var Q;const H=V(U,!0),X=V(U,!1);n.setValue(o,{value:H}),null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:X,changeEx:H,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(T,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],U=>U.target.checked)):T.addEventListener("input",function(U){n.setValue(o,{value:V(U,!0)})}),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.appendChild(T),this.container}}class e extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!((null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const S=new i({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),A=this.page,T=p.Util.normalizeRect([this.data.parentRect[0],A.view[3]-this.data.parentRect[1]+A.view[1],this.data.parentRect[2],A.view[3]-this.data.parentRect[3]+A.view[1]]),V=T[0]+this.data.parentRect[2]-this.data.parentRect[0],W=T[1];return this.container.style.transformOrigin=`${-V}px ${-W}px`,this.container.style.left=`${V}px`,this.container.style.top=`${W}px`,this.container.appendChild(S.render()),this.container}}class i{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.titleObj=n.titleObj,this.modificationDate=n.modificationDate,this.contentsObj=n.contentsObj,this.richText=n.richText,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){var V,W;const o=document.createElement("div");o.className="popupWrapper",this.hideElement=this.hideWrapper?o:this.container,this.hideElement.hidden=!0;const u=document.createElement("div");u.className="popup";const S=this.color;S&&(u.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-S[0])+S[0],0|.7*(255-S[1])+S[1],0|.7*(255-S[2])+S[2]));const A=document.createElement("h1");A.dir=this.titleObj.dir,A.textContent=this.titleObj.str,u.appendChild(A);const T=oe.PDFDateString.toDateObject(this.modificationDate);if(T){const U=document.createElement("span");U.className="popupDate",U.textContent="{{date}}, {{time}}",U.dataset.l10nId="annotation_date_string",U.dataset.l10nArgs=JSON.stringify({date:T.toLocaleDateString(),time:T.toLocaleTimeString()}),u.appendChild(U)}if(!(null==(V=this.richText)?void 0:V.str)||(null==(W=this.contentsObj)?void 0:W.str)&&this.contentsObj.str!==this.richText.str){const U=this._formatContents(this.contentsObj);u.appendChild(U)}else K.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:u}),u.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const U of this.trigger)U.addEventListener("click",this._toggle.bind(this)),U.addEventListener("mouseover",this._show.bind(this,!1)),U.addEventListener("mouseout",this._hide.bind(this,!1));return u.addEventListener("click",this._hide.bind(this,!0)),o.appendChild(u),o}_formatContents({str:n,dir:o}){const u=document.createElement("p");u.className="popupContent",u.dir=o;const S=n.split(/(?:\r\n?|\n)/);for(let A=0,T=S.length;A<T;++A)u.appendChild(document.createTextNode(S[A])),A<T-1&&u.appendChild(document.createElement("br"));return u}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class _ extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class m extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const n=this.data,{width:o,height:u}=E(n.rect),S=this.svgFactory.create(o,u),A=this.svgFactory.createElement("svg:line");return A.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),A.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),A.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),A.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),A.setAttribute("stroke-width",n.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),S.appendChild(A),this.container.append(S),this._createPopup(A,n),this.container}}class y extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const n=this.data,{width:o,height:u}=E(n.rect),S=this.svgFactory.create(o,u),A=n.borderStyle.width,T=this.svgFactory.createElement("svg:rect");return T.setAttribute("x",A/2),T.setAttribute("y",A/2),T.setAttribute("width",o-A),T.setAttribute("height",u-A),T.setAttribute("stroke-width",A||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),S.appendChild(T),this.container.append(S),this._createPopup(T,n),this.container}}class x extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const n=this.data,{width:o,height:u}=E(n.rect),S=this.svgFactory.create(o,u),A=n.borderStyle.width,T=this.svgFactory.createElement("svg:ellipse");return T.setAttribute("cx",o/2),T.setAttribute("cy",u/2),T.setAttribute("rx",o/2-A/2),T.setAttribute("ry",u/2-A/2),T.setAttribute("stroke-width",A||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),S.appendChild(T),this.container.append(S),this._createPopup(T,n),this.container}}class M extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:o,height:u}=E(n.rect),S=this.svgFactory.create(o,u);let A=[];for(const V of n.vertices)A.push(V.x-n.rect[0]+","+(n.rect[3]-V.y));A=A.join(" ");const T=this.svgFactory.createElement(this.svgElementName);return T.setAttribute("points",A),T.setAttribute("stroke-width",n.borderStyle.width||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),S.appendChild(T),this.container.append(S),this._createPopup(T,n),this.container}}class b extends M{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class R extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class N extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:o,height:u}=E(n.rect),S=this.svgFactory.create(o,u);for(const A of n.inkLists){let T=[];for(const W of A)T.push(`${W.x-n.rect[0]},${n.rect[3]-W.y}`);T=T.join(" ");const V=this.svgFactory.createElement(this.svgElementName);V.setAttribute("points",T),V.setAttribute("stroke-width",n.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),this._createPopup(V,n),S.appendChild(V)}return this.container.append(S),this.container}}class j extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class q extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class B extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class G extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class $ extends v{constructor(n){var u,S,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(u=n.data.titleObj)?void 0:u.str)||(null==(S=n.data.contentsObj)?void 0:S.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends v{constructor(n){var S;super(n,{isRenderable:!0});const{filename:o,content:u}=this.data.file;this.filename=(0,oe.getFilenameFromUrl)(o),this.content=u,null==(S=this.linkService.eventBus)||S.dispatch("fileattachmentannotation",{source:this,filename:o,content:u})}render(){var o,u;this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(o=this.data.titleObj)?void 0:o.str)||(null==(u=this.data.contentsObj)?void 0:u.str)||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}_download(){var n;null==(n=this.downloadManager)||n.openOrDownloadData(this.container,this.content,this.filename)}}class ae{static render(n){const o=[],u=[];for(const A of n.annotations){if(!A)continue;const{width:T,height:V}=E(A.rect);if(!(T<=0||V<=0)){if(A.annotationType===p.AnnotationType.POPUP){u.push(A);continue}o.push(A)}}u.length&&o.push(...u);const S=n.div;for(const A of o){const T=f.create({data:A,layer:S,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new oe.DOMSVGFactory,annotationStorage:n.annotationStorage||new ee.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}});if(T.isRenderable){const V=T.render();if(A.hidden&&(V.style.visibility="hidden"),Array.isArray(V))for(const W of V)S.appendChild(W);else T instanceof e?S.prepend(V):S.appendChild(V)}}ye(this,L,it).call(this,S,n.annotationCanvasMap)}static update(n){const{page:o,viewport:u,annotations:S,annotationCanvasMap:A,div:T}=n,V=u.transform,W=`matrix(${V.join(",")})`;let U,H;for(const X of S){const Q=T.querySelectorAll(`[data-annotation-id="${X.id}"]`);if(Q)for(const le of Q)if(X.hasOwnCanvas){const _e=p.Util.normalizeRect([X.rect[0],o.view[3]-X.rect[1]+o.view[1],X.rect[2],o.view[3]-X.rect[3]+o.view[1]]);if(!H){U=Math.abs(V[0]||V[1]);const ie=V.slice();for(let w=0;w<4;w++)ie[w]=Math.sign(ie[w]);H=`matrix(${ie.join(",")})`}const J=_e[0]*U,re=_e[1]*U;le.style.left=`${J}px`,le.style.top=`${re}px`,le.style.transformOrigin=`${-J}px ${-re}px`,le.style.transform=H}else le.style.transform=W}ye(this,L,it).call(this,T,A),T.hidden=!1}}L=new WeakSet,it=function(n,o){if(o){for(const[u,S]of o){const A=n.querySelector(`[data-annotation-id="${u}"]`);if(!A)continue;const{firstChild:T}=A;"CANVAS"===T.nodeName?A.replaceChild(S,T):A.insertBefore(S,T)}o.clear()}},ve(ae,L),k.AnnotationLayer=ae},(de,k)=>{function ne(oe){return Math.floor(255*Math.max(0,Math.min(1,oe))).toString(16).padStart(2,"0")}Object.defineProperty(k,"__esModule",{value:!0}),k.ColorConverters=void 0,k.ColorConverters=class p{static CMYK_G([ee,Y,K,D]){return["G",1-Math.min(1,.3*ee+.59*K+.11*Y+D)]}static G_CMYK([ee]){return["CMYK",0,0,0,1-ee]}static G_RGB([ee]){return["RGB",ee,ee,ee]}static G_HTML([ee]){const Y=ne(ee);return`#${Y}${Y}${Y}`}static RGB_G([ee,Y,K]){return["G",.3*ee+.59*Y+.11*K]}static RGB_HTML([ee,Y,K]){return`#${ne(ee)}${ne(Y)}${ne(K)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ee,Y,K,D]){return["RGB",1-Math.min(1,ee+D),1-Math.min(1,K+D),1-Math.min(1,Y+D)]}static CMYK_HTML(ee){return this.RGB_HTML(this.CMYK_RGB(ee))}static RGB_CMYK([ee,Y,K]){const D=1-ee,c=1-Y,E=1-K;return["CMYK",D,c,E,Math.min(D,c,E)]}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaLayer=void 0;var p=ne(18);k.XfaLayer=class oe{static setupStorage(Y,K,D,c,E){const f=c.getValue(K,{value:null});switch(D.name){case"textarea":if(null!==f.value&&(Y.textContent=f.value),"print"===E)break;Y.addEventListener("input",v=>{c.setValue(K,{value:v.target.value})});break;case"input":if("radio"===D.attributes.type||"checkbox"===D.attributes.type){if(f.value===D.attributes.xfaOn?Y.setAttribute("checked",!0):f.value===D.attributes.xfaOff&&Y.removeAttribute("checked"),"print"===E)break;Y.addEventListener("change",v=>{c.setValue(K,{value:v.target.getAttribute(v.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==f.value&&Y.setAttribute("value",f.value),"print"===E)break;Y.addEventListener("input",v=>{c.setValue(K,{value:v.target.value})})}break;case"select":if(null!==f.value)for(const v of D.children)v.attributes.value===f.value&&(v.attributes.selected=!0);Y.addEventListener("input",v=>{const P=v.target.options;c.setValue(K,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}static setAttributes({html:Y,element:K,storage:D=null,intent:c,linkService:E}){const{attributes:f}=K,v=Y instanceof HTMLAnchorElement;"radio"===f.type&&(f.name=`${f.name}-${c}`);for(const[P,a]of Object.entries(f))if(null!=a&&"dataId"!==P)if("style"!==P)if("textContent"===P)Y.textContent=a;else if("class"===P)a.length&&Y.setAttribute(P,a.join(" "));else{if(v&&("href"===P||"newWindow"===P))continue;Y.setAttribute(P,a)}else Object.assign(Y.style,a);v&&E.addLinkAttributes(Y,f.href,f.newWindow),D&&f.dataId&&this.setupStorage(Y,f.dataId,K,D)}static render(Y){var r;const K=Y.annotationStorage,D=Y.linkService,c=Y.xfaHtml,E=Y.intent||"display",f=document.createElement(c.name);c.attributes&&this.setAttributes({html:f,element:c,intent:E,linkService:D});const v=[[c,-1,f]],P=Y.div;if(P.appendChild(f),Y.viewport){const t=`matrix(${Y.viewport.transform.join(",")})`;P.style.transform=t}"richText"!==E&&P.setAttribute("class","xfaLayer xfaFont");const a=[];for(;v.length>0;){const[t,l,C]=v[v.length-1];if(l+1===t.children.length){v.pop();continue}const d=t.children[++v[v.length-1][1]];if(null===d)continue;const{name:g}=d;if("#text"===g){const i=document.createTextNode(d.value);a.push(i),C.appendChild(i);continue}let e;if(e=(null==(r=null==d?void 0:d.attributes)?void 0:r.xmlns)?document.createElementNS(d.attributes.xmlns,g):document.createElement(g),C.appendChild(e),d.attributes&&this.setAttributes({html:e,element:d,storage:K,intent:E,linkService:D}),d.children&&d.children.length>0)v.push([d,-1,e]);else if(d.value){const i=document.createTextNode(d.value);p.XfaText.shouldBuildText(g)&&a.push(i),e.appendChild(i)}}for(const t of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))t.setAttribute("readOnly",!0);return{textDivs:a}}static update(Y){const K=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=K,Y.div.hidden=!1}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.renderTextLayer=function l(C){const d=new t({textContent:C.textContent,textContentStream:C.textContentStream,container:C.container,viewport:C.viewport,textDivs:C.textDivs,textContentItemsStr:C.textContentItemsStr,enhanceTextSelection:C.enhanceTextSelection});return d._render(C.timeout),d};var p=ne(1);const K=new Map,D=/^\s+$/g;function E(C,d,g,e){const i=document.createElement("span"),_=C._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==d.str,hasEOL:d.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==d.str,hasEOL:d.hasEOL};C._textDivs.push(i);const m=p.Util.transform(C._viewport.transform,d.transform);let y=Math.atan2(m[1],m[0]);const x=g[d.fontName];x.vertical&&(y+=Math.PI/2);const M=Math.hypot(m[2],m[3]),b=M*function c(C,d){const g=K.get(C);if(g)return g;d.save(),d.font=`30px ${C}`;const e=d.measureText("");let i=e.fontBoundingBoxAscent,_=Math.abs(e.fontBoundingBoxDescent);if(i){d.restore();const y=i/(i+_);return K.set(C,y),y}d.strokeStyle="red",d.clearRect(0,0,30,30),d.strokeText("g",0,0);let m=d.getImageData(0,0,30,30).data;_=0;for(let y=m.length-1-3;y>=0;y-=4)if(m[y]>0){_=Math.ceil(y/4/30);break}d.clearRect(0,0,30,30),d.strokeText("A",0,30),m=d.getImageData(0,0,30,30).data,i=0;for(let y=0,x=m.length;y<x;y+=4)if(m[y]>0){i=30-Math.floor(y/4/30);break}if(d.restore(),i){const y=i/(i+_);return K.set(C,y),y}return K.set(C,.8),.8}(x.fontFamily,e);let R,N;0===y?(R=m[4],N=m[5]-b):(R=m[4]+b*Math.sin(y),N=m[5]-b*Math.cos(y)),i.style.left=`${R}px`,i.style.top=`${N}px`,i.style.fontSize=`${M}px`,i.style.fontFamily=x.fontFamily,i.setAttribute("role","presentation"),i.textContent=d.str,i.dir=d.dir,C._fontInspectorEnabled&&(i.dataset.fontName=d.fontName),0!==y&&(_.angle=y*(180/Math.PI));let j=!1;if(d.str.length>1||C._enhanceTextSelection&&D.test(d.str))j=!0;else if(" "!==d.str&&d.transform[0]!==d.transform[3]){const q=Math.abs(d.transform[0]),B=Math.abs(d.transform[3]);q!==B&&Math.max(q,B)/Math.min(q,B)>1.5&&(j=!0)}if(j&&(_.canvasWidth=x.vertical?d.height*C._viewport.scale:d.width*C._viewport.scale),C._textDivProperties.set(i,_),C._textContentStream&&C._layoutText(i),C._enhanceTextSelection&&_.hasText){let q=1,B=0;0!==y&&(q=Math.cos(y),B=Math.sin(y));const G=(x.vertical?d.height:d.width)*C._viewport.scale,$=M;let te,ae;0!==y?(te=[q,B,-B,q,R,N],ae=p.Util.getAxialAlignedBoundingBox([0,0,G,$],te)):ae=[R,N,R+G,N+$],C._bounds.push({left:ae[0],top:ae[1],right:ae[2],bottom:ae[3],div:i,size:[G,$],m:te})}}function f(C){if(C._canceled)return;const d=C._textDivs,g=C._capability,e=d.length;if(e>1e5)return C._renderingDone=!0,void g.resolve();if(!C._textContentStream)for(let i=0;i<e;i++)C._layoutText(d[i]);C._renderingDone=!0,g.resolve()}function v(C,d,g){let e=0;for(let i=0;i<g;i++){const _=C[d++];_>0&&(e=e?Math.min(_,e):_)}return e}function r(C,d){d.sort(function(i,_){return i.x1-_.x1||i.index-_.index});const e=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of d){let _=0;for(;_<e.length&&e[_].end<=i.y1;)_++;let m=e.length-1;for(;m>=0&&e[m].start>=i.y2;)m--;let y,x,M,b,R=-1/0;for(M=_;M<=m;M++){let q;y=e[M],x=y.boundary,q=x.x2>i.x1?x.index>i.index?x.x1New:i.x1:void 0===x.x2New?(x.x2+i.x1)/2:x.x2New,q>R&&(R=q)}for(i.x1New=R,M=_;M<=m;M++)y=e[M],x=y.boundary,void 0===x.x2New?x.x2>i.x1?x.index>i.index&&(x.x2New=x.x2):x.x2New=R:x.x2New>R&&(x.x2New=Math.max(R,x.x2));const N=[];let j=null;for(M=_;M<=m;M++){y=e[M],x=y.boundary;const q=x.x2>i.x2?x:i;j===q?N[N.length-1].end=y.end:(N.push({start:y.start,end:y.end,boundary:q}),j=q)}for(e[_].start<i.y1&&(N[0].start=i.y1,N.unshift({start:e[_].start,end:i.y1,boundary:e[_].boundary})),i.y2<e[m].end&&(N[N.length-1].end=i.y2,N.push({start:i.y2,end:e[m].end,boundary:e[m].boundary})),M=_;M<=m;M++){if(y=e[M],x=y.boundary,void 0!==x.x2New)continue;let q=!1;for(b=_-1;!q&&b>=0&&e[b].start>=x.y1;b--)q=e[b].boundary===x;for(b=m+1;!q&&b<e.length&&e[b].end<=x.y2;b++)q=e[b].boundary===x;for(b=0;!q&&b<N.length;b++)q=N[b].boundary===x;q||(x.x2New=R)}Array.prototype.splice.apply(e,[_,m-_+1].concat(N))}for(const i of e){const _=i.boundary;void 0===_.x2New&&(_.x2New=Math.max(C,_.x2))}}class t{constructor({textContent:d,textContentStream:g,container:e,viewport:i,textDivs:_,textContentItemsStr:m,enhanceTextSelection:y}){var x;this._textContent=d,this._textContentStream=g,this._container=e,this._document=e.ownerDocument,this._viewport=i,this._textDivs=_||[],this._textContentItemsStr=m||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!(null==(x=globalThis.FontInspector)?void 0:x.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(d,g){for(let e=0,i=d.length;e<i;e++)if(void 0!==d[e].str)this._textContentItemsStr.push(d[e].str),E(this,d[e],g,this._layoutTextCtx);else if("beginMarkedContentProps"===d[e].type||"beginMarkedContent"===d[e].type){const _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==d[e].id&&this._container.setAttribute("id",`${d[e].id}`),_.appendChild(this._container)}else"endMarkedContent"===d[e].type&&(this._container=this._container.parentNode)}_layoutText(d){const g=this._textDivProperties.get(d);let e="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:i,fontFamily:_}=d.style;(i!==this._layoutTextLastFontSize||_!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${_}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=_);const{width:m}=this._layoutTextCtx.measureText(d.textContent);if(m>0){const y=g.canvasWidth/m;this._enhanceTextSelection&&(g.scale=y),e=`scaleX(${y})`}}if(0!==g.angle&&(e=`rotate(${g.angle}deg) ${e}`),e.length>0&&(this._enhanceTextSelection&&(g.originalTransform=e),d.style.transform=e),g.hasText&&this._container.appendChild(d),g.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(d=0){const g=(0,p.createPromiseCapability)();let e=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=30,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const _=()=>{this._reader.read().then(({value:m,done:y})=>{y?g.resolve():(Object.assign(e,m.styles),this._processItems(m.items,e),_())},g.reject)};this._reader=this._textContentStream.getReader(),_()}}g.promise.then(()=>{e=null,d?this._renderTimer=setTimeout(()=>{f(this),this._renderTimer=null},d):f(this)},this._capability.reject)}expandTextDivs(d=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function P(C){const d=C._bounds,g=C._viewport,e=function a(C,d,g){const e=g.map(function(_,m){return{x1:_.left,y1:_.top,x2:_.right,y2:_.bottom,index:m,x1New:void 0,x2New:void 0}});r(C,e);const i=new Array(g.length);for(const _ of e)i[_.index]={left:_.x1New,top:0,right:_.x2New,bottom:0};g.map(function(_,m){const y=i[m],x=e[m];x.x1=_.top,x.y1=C-y.right,x.x2=_.bottom,x.y2=C-y.left,x.index=m,x.x1New=void 0,x.x2New=void 0}),r(d,e);for(const _ of e){const m=_.index;i[m].top=_.x1New,i[m].bottom=_.x2New}return i}(g.width,g.height,d);for(let i=0;i<e.length;i++){const _=d[i].div,m=C._textDivProperties.get(_);if(0===m.angle){m.paddingLeft=d[i].left-e[i].left,m.paddingTop=d[i].top-e[i].top,m.paddingRight=e[i].right-d[i].right,m.paddingBottom=e[i].bottom-d[i].bottom,C._textDivProperties.set(_,m);continue}const y=e[i],x=d[i],M=x.m,b=M[0],R=M[1],N=[[0,0],[0,x.size[1]],[x.size[0],0],x.size],j=new Float64Array(64);for(let B=0,G=N.length;B<G;B++){const $=p.Util.applyTransform(N[B],M);j[B+0]=b&&(y.left-$[0])/b,j[B+4]=R&&(y.top-$[1])/R,j[B+8]=b&&(y.right-$[0])/b,j[B+12]=R&&(y.bottom-$[1])/R,j[B+16]=R&&(y.left-$[0])/-R,j[B+20]=b&&(y.top-$[1])/b,j[B+24]=R&&(y.right-$[0])/-R,j[B+28]=b&&(y.bottom-$[1])/b,j[B+32]=b&&(y.left-$[0])/-b,j[B+36]=R&&(y.top-$[1])/-R,j[B+40]=b&&(y.right-$[0])/-b,j[B+44]=R&&(y.bottom-$[1])/-R,j[B+48]=R&&(y.left-$[0])/R,j[B+52]=b&&(y.top-$[1])/-b,j[B+56]=R&&(y.right-$[0])/R,j[B+60]=b&&(y.bottom-$[1])/-b}const q=1+Math.min(Math.abs(b),Math.abs(R));m.paddingLeft=v(j,32,16)/q,m.paddingTop=v(j,48,16)/q,m.paddingRight=v(j,0,16)/q,m.paddingBottom=v(j,16,16)/q,C._textDivProperties.set(_,m)}}(this),this._bounds=null);const g=[],e=[];for(let i=0,_=this._textDivs.length;i<_;i++){const m=this._textDivs[i],y=this._textDivProperties.get(m);!y.hasText||(d?(g.length=0,e.length=0,y.originalTransform&&g.push(y.originalTransform),y.paddingTop>0?(e.push(`${y.paddingTop}px`),g.push(`translateY(${-y.paddingTop}px)`)):e.push(0),e.push(y.paddingRight>0?y.paddingRight/y.scale+"px":0),e.push(y.paddingBottom>0?`${y.paddingBottom}px`:0),y.paddingLeft>0?(e.push(y.paddingLeft/y.scale+"px"),g.push(`translateX(${-y.paddingLeft/y.scale}px)`)):e.push(0),m.style.padding=e.join(" "),g.length&&(m.style.transform=g.join(" "))):(m.style.padding=null,m.style.transform=y.originalTransform))}}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SVGGraphics=void 0;var p=ne(1),oe=ne(5),ee=ne(3);let Y=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};k.SVGGraphics=Y;{let r=function(e){let i=[];const _=[];for(const m of e)"save"!==m.fn?"restore"===m.fn?i=_.pop():i.push(m):(i.push({fnId:92,fn:"group",items:[]}),_.push(i),i=i[i.length-1].items);return i},t=function(e){if(Number.isInteger(e))return e.toString();const i=e.toFixed(10);let _=i.length-1;if("0"!==i[_])return i;do{_--}while("0"===i[_]);return i.substring(0,"."===i[_]?_:_+1)},l=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${t(e[0])} ${t(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const i=180*Math.acos(e[0])/Math.PI;return`rotate(${t(i)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${t(e[4])} ${t(e[5])})`;return`matrix(${t(e[0])} ${t(e[1])} ${t(e[2])} ${t(e[3])} ${t(e[4])} ${t(e[5])})`};const K={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",E=["butt","round","square"],f=["miter","round","bevel"],v=function(e,i="",_=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!_)return URL.createObjectURL(new Blob([e],{type:i}));const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${i};base64,`;for(let x=0,M=e.length;x<M;x+=3){const b=255&e[x],R=255&e[x+1],N=255&e[x+2];y+=m[b>>2]+m[(3&b)<<4|R>>4]+m[x+1<M?(15&R)<<2|N>>6:64]+m[x+2<M?63&N:64]}return y},P=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),_=new Int32Array(256);for(let N=0;N<256;N++){let j=N;for(let q=0;q<8;q++)j=1&j?3988292384^j>>1&2147483647:j>>1&2147483647;_[N]=j}function y(N,j,q,B){let G=B;const $=j.length;q[G]=$>>24&255,q[G+1]=$>>16&255,q[G+2]=$>>8&255,q[G+3]=255&$,G+=4,q[G]=255&N.charCodeAt(0),q[G+1]=255&N.charCodeAt(1),q[G+2]=255&N.charCodeAt(2),q[G+3]=255&N.charCodeAt(3),G+=4,q.set(j,G),G+=j.length;const te=function m(N,j,q){let B=-1;for(let G=j;G<q;G++)B=B>>>8^_[255&(B^N[G])];return-1^B}(q,B+4,G);q[G]=te>>24&255,q[G+1]=te>>16&255,q[G+2]=te>>8&255,q[G+3]=255&te}function b(N){let j=N.length;const q=65535,B=Math.ceil(j/q),G=new Uint8Array(2+j+5*B+4);let $=0;G[$++]=120,G[$++]=156;let te=0;for(;j>q;)G[$++]=0,G[$++]=255,G[$++]=255,G[$++]=0,G[$++]=0,G.set(N.subarray(te,te+q),$),$+=q,te+=q,j-=q;G[$++]=1,G[$++]=255&j,G[$++]=j>>8&255,G[$++]=255&~j,G[$++]=(65535&~j)>>8&255,G.set(N.subarray(te),$),$+=N.length-te;const ae=function x(N,j,q){let B=1,G=0;for(let $=j;$<q;++$)B=(B+(255&N[$]))%65521,G=(G+B)%65521;return G<<16|B}(N,0,N.length);return G[$++]=ae>>24&255,G[$++]=ae>>16&255,G[$++]=ae>>8&255,G[$++]=255&ae,G}return function(j,q,B){return function R(N,j,q,B){const G=N.width,$=N.height;let te,ae,L;const s=N.data;switch(j){case p.ImageKind.GRAYSCALE_1BPP:ae=0,te=1,L=G+7>>3;break;case p.ImageKind.RGB_24BPP:ae=2,te=8,L=3*G;break;case p.ImageKind.RGBA_32BPP:ae=6,te=8,L=4*G;break;default:throw new Error("invalid format")}const h=new Uint8Array((1+L)*$);let n=0,o=0;for(let W=0;W<$;++W)h[n++]=0,h.set(s.subarray(o,o+L),n),o+=L,n+=L;if(j===p.ImageKind.GRAYSCALE_1BPP&&B){n=0;for(let W=0;W<$;W++){n++;for(let U=0;U<L;U++)h[n++]^=255}}const u=new Uint8Array([G>>24&255,G>>16&255,G>>8&255,255&G,$>>24&255,$>>16&255,$>>8&255,255&$,te,ae,0,0,0]),S=function M(N){if(!ee.isNodeJS)return b(N);try{let j;j=parseInt(process.versions.node)>=8?N:Buffer.from(N);const q=__webpack_require__(2258).deflateSync(j,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(j){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+j)}return b(N)}(h),T=new Uint8Array(e.length+36+u.length+S.length);let V=0;return T.set(e,V),V+=e.length,y("IHDR",u,T,V),V+=12+u.length,y("IDATA",S,T,V),V+=12+S.length,y("IEND",new Uint8Array(0),T,V),v(T,"image/png",q)}(j,void 0===j.kind?p.ImageKind.GRAYSCALE_1BPP:j.kind,q,B)}}();class a{constructor(){this.fontSizeScale=1,this.fontWeight=K.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=K.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,_){this.x=i,this.y=_}}let C=0,d=0,g=0;k.SVGGraphics=Y=class{constructor(e,i,_=!1){this.svgFactory=new oe.DOMSVGFactory,this.current=new a,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_,this._operatorIdMapping=[];for(const m in p.OPS)this._operatorIdMapping[p.OPS[m]]=m}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const i=e.fnArray,_=e.argsArray;for(let m=0,y=i.length;m<y;m++)if(i[m]===p.OPS.dependency)for(const x of _[m]){const M=x.startsWith("g_")?this.commonObjs:this.objs,b=new Promise(R=>{M.get(x,R)});this.current.dependencies.push(b)}return Promise.all(this.current.dependencies)}transform(e,i,_,m,y,x){this.transformMatrix=p.Util.transform(this.transformMatrix,[e,i,_,m,y,x]),this.tgrp=null}getSVG(e,i){this.viewport=i;const _=this._initialize(i);return this.loadDependencies(e).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),_))}convertOpList(e){const i=this._operatorIdMapping,_=e.argsArray,m=e.fnArray,y=[];for(let x=0,M=m.length;x<M;x++){const b=m[x];y.push({fnId:b,fn:i[b],args:_[x]})}return r(y)}executeOpTree(e){for(const i of e){const _=i.fn,y=i.args;switch(0|i.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(y);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case p.OPS.setFont:this.setFont(y);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(y[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(y[0],y[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case p.OPS.setHScale:this.setHScale(y[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case p.OPS.setTextRise:this.setTextRise(y[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case p.OPS.setLineWidth:this.setLineWidth(y[0]);break;case p.OPS.setLineJoin:this.setLineJoin(y[0]);break;case p.OPS.setLineCap:this.setLineCap(y[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case p.OPS.setFillColorN:this.setFillColorN(y);break;case p.OPS.shadingFill:this.shadingFill(y[0]);break;case p.OPS.setDash:this.setDash(y[0],y[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case p.OPS.setFlatness:this.setFlatness(y[0]);break;case p.OPS.setGState:this.setGState(y[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case p.OPS.constructPath:this.constructPath(y[0],y[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,p.warn)(`Unimplemented operator ${_}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,i,_,m,y,x){const M=this.current;M.textMatrix=M.lineMatrix=[e,i,_,m,y,x],M.textMatrixScale=Math.hypot(e,i),M.x=M.lineX=0,M.y=M.lineY=0,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${t(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",t(-M.y)),M.txtElement=this.svgFactory.createElement("svg:text"),M.txtElement.appendChild(M.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=p.IDENTITY_MATRIX,e.lineMatrix=p.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,i){const _=this.current;_.x=_.lineX+=e,_.y=_.lineY+=i,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${t(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",t(-_.y))}showText(e){const i=this.current,_=i.font,m=i.fontSize;if(0===m)return;const y=i.fontSizeScale,x=i.charSpacing,M=i.wordSpacing,b=i.fontDirection,R=i.textHScale*b,N=_.vertical,j=N?1:-1,q=_.defaultVMetrics,B=m*i.fontMatrix[0];let G=0;for(const ae of e){if(null===ae){G+=b*M;continue}if("number"==typeof ae){G+=j*ae*m/1e3;continue}const L=(ae.isSpace?M:0)+x,s=ae.fontChar;let h,n,u,o=ae.width;if(N){let S;const A=ae.vmetric||q;S=ae.vmetric?A[1]:.5*o,S=-S*B,o=A?-A[0]:o,h=S/y,n=(G+A[2]*B)/y}else h=G/y,n=0;(ae.isInFont||_.missingFile)&&(i.xcoords.push(i.x+h),N&&i.ycoords.push(-i.y+n),i.tspan.textContent+=s),u=N?o*B-L*b:o*B+L*b,G+=u}i.tspan.setAttributeNS(null,"x",i.xcoords.map(t).join(" ")),i.tspan.setAttributeNS(null,"y",N?i.ycoords.map(t).join(" "):t(-i.y)),N?i.y-=G:i.x+=G*R,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${t(i.fontSize)}px`),i.fontStyle!==K.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==K.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const $=i.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;$===p.TextRenderingMode.FILL||$===p.TextRenderingMode.FILL_STROKE?(i.fillColor!==K.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),($===p.TextRenderingMode.STROKE||$===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let te=i.textMatrix;0!==i.textRise&&(te=te.slice(),te[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${l(te)} scale(${t(R)}, -1)`),i.txtElement.setAttributeNS(D,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=v(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${i}); }\n`}setFont(e){const i=this.current,_=this.commonObjs.get(e[0]);let m=e[1];i.font=_,this.embedFonts&&!_.missingFile&&!this.embeddedFonts[_.loadedName]&&(this.addFontStyle(_),this.embeddedFonts[_.loadedName]=_),i.fontMatrix=_.fontMatrix||p.FONT_IDENTITY_MATRIX;let y="normal";_.black?y="900":_.bold&&(y="bold");const x=_.italic?"italic":"normal";m<0?(m=-m,i.fontDirection=-1):i.fontDirection=1,i.fontSize=m,i.fontFamily=_.loadedName,i.fontWeight=y,i.fontStyle=x,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",t(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const e=this.current;e.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=e.txtElement)?void 0:i.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=E[e]}setLineJoin(e){this.current.lineJoin=f[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,i,_){this.current.strokeColor=p.Util.makeHexColor(e,i,_)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,i,_){this.current.fillColor=p.Util.makeHexColor(e,i,_),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const i=this.viewport.width,_=this.viewport.height,m=p.Util.inverseTransform(this.transformMatrix),y=p.Util.applyTransform([0,0],m),x=p.Util.applyTransform([0,_],m),M=p.Util.applyTransform([i,0],m),b=p.Util.applyTransform([i,_],m),R=Math.min(y[0],x[0],M[0],b[0]),N=Math.min(y[1],x[1],M[1],b[1]),j=Math.max(y[0],x[0],M[0],b[0]),q=Math.max(y[1],x[1],M[1],b[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",R),B.setAttributeNS(null,"y",N),B.setAttributeNS(null,"width",j-R),B.setAttributeNS(null,"height",q-N),B.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(B)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const i=e[1],_=e[2],m=e[3]||p.IDENTITY_MATRIX,[y,x,M,b]=e[4],R=e[5],N=e[6],j=e[7],q="shading"+g++,[B,G,$,te]=p.Util.normalizeRect([...p.Util.applyTransform([y,x],m),...p.Util.applyTransform([M,b],m)]),[ae,L]=p.Util.singularValueDecompose2dScale(m),s=R*ae,h=N*L,n=this.svgFactory.createElement("svg:pattern");n.setAttributeNS(null,"id",q),n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),n.setAttributeNS(null,"width",s),n.setAttributeNS(null,"height",h),n.setAttributeNS(null,"x",`${B}`),n.setAttributeNS(null,"y",`${G}`);const o=this.svg,u=this.transformMatrix,S=this.current.fillColor,A=this.current.strokeColor,T=this.svgFactory.create($-B,te-G);if(this.svg=T,this.transformMatrix=m,2===j){const V=p.Util.makeHexColor(...i);this.current.fillColor=V,this.current.strokeColor=V}return this.executeOpTree(this.convertOpList(_)),this.svg=o,this.transformMatrix=u,this.current.fillColor=S,this.current.strokeColor=A,n.appendChild(T.childNodes[0]),this.defs.appendChild(n),`url(#${q})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const i="shading"+g++,_=e[3];let m;switch(e[1]){case"axial":const y=e[4],x=e[5];m=this.svgFactory.createElement("svg:linearGradient"),m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"x1",y[0]),m.setAttributeNS(null,"y1",y[1]),m.setAttributeNS(null,"x2",x[0]),m.setAttributeNS(null,"y2",x[1]);break;case"radial":const M=e[4],b=e[5],R=e[6],N=e[7];m=this.svgFactory.createElement("svg:radialGradient"),m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"cx",b[0]),m.setAttributeNS(null,"cy",b[1]),m.setAttributeNS(null,"r",N),m.setAttributeNS(null,"fx",M[0]),m.setAttributeNS(null,"fy",M[1]),m.setAttributeNS(null,"fr",R);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const y of _){const x=this.svgFactory.createElement("svg:stop");x.setAttributeNS(null,"offset",y[0]),x.setAttributeNS(null,"stop-color",y[1]),m.appendChild(x)}return this.defs.appendChild(m),`url(#${i})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,i){this.current.dashArray=e,this.current.dashPhase=i}constructPath(e,i){const _=this.current;let m=_.x,y=_.y,x=[],M=0;for(const b of e)switch(0|b){case p.OPS.rectangle:m=i[M++],y=i[M++];const j=m+i[M++],q=y+i[M++];x.push("M",t(m),t(y),"L",t(j),t(y),"L",t(j),t(q),"L",t(m),t(q),"Z");break;case p.OPS.moveTo:m=i[M++],y=i[M++],x.push("M",t(m),t(y));break;case p.OPS.lineTo:m=i[M++],y=i[M++],x.push("L",t(m),t(y));break;case p.OPS.curveTo:m=i[M+4],y=i[M+5],x.push("C",t(i[M]),t(i[M+1]),t(i[M+2]),t(i[M+3]),t(m),t(y)),M+=6;break;case p.OPS.curveTo2:x.push("C",t(m),t(y),t(i[M]),t(i[M+1]),t(i[M+2]),t(i[M+3])),m=i[M+2],y=i[M+3],M+=4;break;case p.OPS.curveTo3:m=i[M+2],y=i[M+3],x.push("C",t(i[M]),t(i[M+1]),t(m),t(y),t(m),t(y)),M+=4;break;case p.OPS.closePath:x.push("Z")}x=x.join(" "),_.path&&e.length>0&&e[0]!==p.OPS.rectangle&&e[0]!==p.OPS.moveTo?x=_.path.getAttributeNS(null,"d")+x:(_.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(_.path)),_.path.setAttributeNS(null,"d",x),_.path.setAttributeNS(null,"fill","none"),_.element=_.path,_.setCurrentPoint(m,y)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const i="clippath"+C++,_=this.svgFactory.createElement("svg:clipPath");_.setAttributeNS(null,"id",i),_.setAttributeNS(null,"transform",l(this.transformMatrix));const m=e.element.cloneNode(!0);if(m.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,_.appendChild(m),this.defs.appendChild(_),e.activeClipUrl){e.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;_.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const i=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",i)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,_]of e)switch(i){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_);break;case"CA":this.setStrokeAlpha(_);break;case"ca":this.setFillAlpha(_);break;default:(0,p.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,i=1){const _=this.current;let m=_.dashArray;1!==i&&m.length>0&&(m=m.map(function(y){return i*y})),e.setAttributeNS(null,"stroke",_.strokeColor),e.setAttributeNS(null,"stroke-opacity",_.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",t(_.miterLimit)),e.setAttributeNS(null,"stroke-linecap",_.lineCap),e.setAttributeNS(null,"stroke-linejoin",_.lineJoin),e.setAttributeNS(null,"stroke-width",t(i*_.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",m.map(t).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",t(i*_.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);i?this.paintInlineImageXObject(i):(0,p.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,i){const _=e.width,m=e.height,y=P(e,this.forceDataSchema,!!i),x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",t(_)),x.setAttributeNS(null,"height",t(m)),this.current.element=x,this.clip("nonzero");const M=this.svgFactory.createElement("svg:image");M.setAttributeNS(c,"xlink:href",y),M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y",t(-m)),M.setAttributeNS(null,"width",t(_)+"px"),M.setAttributeNS(null,"height",t(m)+"px"),M.setAttributeNS(null,"transform",`scale(${t(1/_)} ${t(-1/m)})`),i?i.appendChild(M):this._ensureTransformGroup().appendChild(M)}paintImageMaskXObject(e){const i=this.current,_=e.width,m=e.height,y=i.fillColor;i.maskId="mask"+d++;const x=this.svgFactory.createElement("svg:mask");x.setAttributeNS(null,"id",i.maskId);const M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",t(_)),M.setAttributeNS(null,"height",t(m)),M.setAttributeNS(null,"fill",y),M.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(x),this._ensureTransformGroup().appendChild(M),this.paintInlineImageXObject(e,x)}paintFormXObjectBegin(e,i){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i){const _=i[2]-i[0],m=i[3]-i[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",i[0]),y.setAttributeNS(null,"y",i[1]),y.setAttributeNS(null,"width",t(_)),y.setAttributeNS(null,"height",t(m)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const i=this.svgFactory.create(e.width,e.height),_=this.svgFactory.createElement("svg:defs");i.appendChild(_),this.defs=_;const m=this.svgFactory.createElement("svg:g");return m.setAttributeNS(null,"transform",l(e.transform)),i.appendChild(m),this.svg=m,i}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNodeStream=void 0;var p=ne(1),oe=ne(26);const ee=__webpack_require__(172),Y=__webpack_require__(2001),K=__webpack_require__(3779),D=__webpack_require__(6558),c=/^file:\/\/\/[a-zA-Z]:\//;k.PDFNodeStream=class f{constructor(g){this.source=g,this.url=function E(d){const g=D.parse(d);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(d)?D.parse(`file:///${d}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g,e;return null!=(e=null==(g=this._fullRequestReader)?void 0:g._loaded)?e:0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new l(this):new r(this),this._fullRequestReader}getRangeReader(g,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new C(this,g,e):new t(this,g,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const e of this._rangeRequestReaders.slice(0))e.cancel(g)}};class v{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=g.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const e=g._readableStream.read();return null===e?(g._readCapability=(0,p.createPromiseCapability)(),g.read()):(g._loaded+=e.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class P{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const e=g._readableStream.read();return null===e?(g._readCapability=(0,p.createPromiseCapability)(),g.read()):(g._loaded+=e.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function a(d,g){return{protocol:d.protocol,auth:d.auth,host:d.hostname,port:d.port,path:d.path,method:"GET",headers:g}}class r extends v{constructor(g){super(g);const e=i=>{if(404===i.statusCode){const x=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=x,void this._headersCapability.reject(x)}this._headersCapability.resolve(),this._setReadableStream(i);const _=x=>this._readableStream.headers[x.toLowerCase()],{allowRangeRequests:m,suggestedLength:y}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=y||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(_)};this._request=null,this._request="http:"===this._url.protocol?Y.request(a(this._url,g.httpHeaders),e):K.request(a(this._url,g.httpHeaders),e),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class t extends P{constructor(g,e,i){super(g),this._httpHeaders={};for(const m in g.httpHeaders){const y=g.httpHeaders[m];void 0!==y&&(this._httpHeaders[m]=y)}this._httpHeaders.Range=`bytes=${e}-${i-1}`;const _=m=>{if(404!==m.statusCode)this._setReadableStream(m);else{const y=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};this._request=null,this._request="http:"===this._url.protocol?Y.request(a(this._url,this._httpHeaders),_):K.request(a(this._url,this._httpHeaders),_),this._request.on("error",m=>{this._storedError=m}),this._request.end()}}class l extends v{constructor(g){super(g);let e=decodeURIComponent(this._url.path);c.test(this._url.href)&&(e=e.replace(/^\//,"")),ee.lstat(e,(i,_)=>{if(i)return"ENOENT"===i.code&&(i=new p.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=_.size,this._setReadableStream(ee.createReadStream(e)),this._headersCapability.resolve()})}}class C extends P{constructor(g,e,i){super(g);let _=decodeURIComponent(this._url.path);c.test(this._url.href)&&(_=_.replace(/^\//,"")),this._setReadableStream(ee.createReadStream(_,{start:e,end:i-1}))}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.createResponseStatusError=function D(E,f){return 404===E||0===E&&f.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+f+'".'):new p.UnexpectedResponseException(`Unexpected server response (${E}) while retrieving PDF "${f}".`,E)},k.extractFilenameFromHeader=function K(E){const f=E("Content-Disposition");if(f){let v=(0,oe.getFilenameFromContentDispositionHeader)(f);if(v.includes("%"))try{v=decodeURIComponent(v)}catch(P){}if((0,ee.isPdfFile)(v))return v}return null},k.validateRangeRequestCapabilities=function Y({getResponseHeader:E,isHttp:f,rangeChunkSize:v,disableRange:P}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(E("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*v)||P||!f||"bytes"!==E("Accept-Ranges")||"identity"!==(E("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a},k.validateResponseStatus=function c(E){return 200===E||206===E};var p=ne(1),oe=ne(27),ee=ne(5)},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.getFilenameFromContentDispositionHeader=function oe(ee){let Y=!0,K=D("filename\\*","i").exec(ee);if(K){K=K[1];let r=v(K);return r=unescape(r),r=P(r),r=a(r),E(r)}if(K=function f(r){const t=[];let l;const C=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(l=C.exec(r));){let[,g,e,i]=l;if(g=parseInt(g,10),g in t){if(0===g)break}else t[g]=[e,i]}const d=[];for(let g=0;g<t.length&&g in t;++g){let[e,i]=t[g];i=v(i),e&&(i=unescape(i),0===g&&(i=P(i))),d.push(i)}return d.join("")}(ee),K)return E(a(K));if(K=D("filename","i").exec(ee),K){K=K[1];let r=v(K);return r=a(r),E(r)}function D(r,t){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function c(r,t){if(r){if(!/^[\x00-\xFF]+$/.test(t))return t;try{const l=new TextDecoder(r,{fatal:!0}),C=(0,p.stringToBytes)(t);t=l.decode(C),Y=!1}catch(l){}}return t}function E(r){return Y&&/[\x80-\xff]/.test(r)&&(r=c("utf-8",r),Y&&(r=c("iso-8859-1",r))),r}function v(r){if(r.startsWith('"')){const t=r.slice(1).split('\\"');for(let l=0;l<t.length;++l){const C=t[l].indexOf('"');-1!==C&&(t[l]=t[l].slice(0,C),t.length=l+1),t[l]=t[l].replace(/\\(.)/g,"$1")}r=t.join('"')}return r}function P(r){const t=r.indexOf("'");return-1===t?r:c(r.slice(0,t),r.slice(t+1).replace(/^[^']*'/,""))}function a(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(t,l,C,d){if("q"===C||"Q"===C)return c(l,d=(d=d.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,e){return String.fromCharCode(parseInt(e,16))}));try{d=atob(d)}catch(g){}return c(l,d)})}return""};var p=ne(1)},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNetworkStream=void 0;var p=ne(1),oe=ne(26);class D{constructor(P,a={}){this.url=P,this.isHttp=/^https?:/i.test(P),this.httpHeaders=this.isHttp&&a.httpHeaders||Object.create(null),this.withCredentials=a.withCredentials||!1,this.getXhr=a.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(P,a,r){const t={begin:P,end:a};for(const l in r)t[l]=r[l];return this.request(t)}requestFull(P){return this.request(P)}request(P){const a=this.getXhr(),r=this.currXhrId++,t=this.pendingRequests[r]={xhr:a};a.open("GET",this.url),a.withCredentials=this.withCredentials;for(const l in this.httpHeaders){const C=this.httpHeaders[l];void 0!==C&&a.setRequestHeader(l,C)}return this.isHttp&&"begin"in P&&"end"in P?(a.setRequestHeader("Range",`bytes=${P.begin}-${P.end-1}`),t.expectedStatus=206):t.expectedStatus=200,a.responseType="arraybuffer",P.onError&&(a.onerror=function(l){P.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,r),a.onprogress=this.onProgress.bind(this,r),t.onHeadersReceived=P.onHeadersReceived,t.onDone=P.onDone,t.onError=P.onError,t.onProgress=P.onProgress,a.send(null),r}onProgress(P,a){var t;const r=this.pendingRequests[P];!r||null==(t=r.onProgress)||t.call(r,a)}onStateChange(P,a){var g,e,i;const r=this.pendingRequests[P];if(!r)return;const t=r.xhr;if(t.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==t.readyState||!(P in this.pendingRequests))return;if(delete this.pendingRequests[P],0===t.status&&this.isHttp)return void(null==(g=r.onError)||g.call(r,t.status));const l=t.status||200;if((200!==l||206!==r.expectedStatus)&&l!==r.expectedStatus)return void(null==(e=r.onError)||e.call(r,t.status));const d=function K(v){const P=v.response;return"string"!=typeof P?P:(0,p.stringToBytes)(P).buffer}(t);if(206===l){const _=t.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);r.onDone({begin:parseInt(m[1],10),chunk:d})}else d?r.onDone({begin:0,chunk:d}):null==(i=r.onError)||i.call(r,t.status)}getRequestXhr(P){return this.pendingRequests[P].xhr}isPendingRequest(P){return P in this.pendingRequests}abortRequest(P){const a=this.pendingRequests[P].xhr;delete this.pendingRequests[P],a.abort()}}k.PDFNetworkStream=class c{constructor(P){this._source=P,this._manager=new D(P.url,{httpHeaders:P.httpHeaders,withCredentials:P.withCredentials}),this._rangeChunkSize=P.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(P){const a=this._rangeRequestReaders.indexOf(P);a>=0&&this._rangeRequestReaders.splice(a,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E(this._manager,this._source),this._fullRequestReader}getRangeReader(P,a){const r=new f(this._manager,P,a);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(P){var a;null==(a=this._fullRequestReader)||a.cancel(P);for(const r of this._rangeRequestReaders.slice(0))r.cancel(P)}};class E{constructor(P,a){this._manager=P;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._fullRequestId=P.requestFull(r),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=a.disableRange||!1,this._contentLength=a.length,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const P=this._fullRequestId,a=this._manager.getRequestXhr(P),r=C=>a.getResponseHeader(C),{allowRangeRequests:t,suggestedLength:l}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});t&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}_onDone(P){if(P&&(this._requests.length>0?this._requests.shift().resolve({value:P.chunk,done:!1}):this._cachedChunks.push(P.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(P){this._storedError=(0,oe.createResponseStatusError)(P,this._url),this._headersReceivedCapability.reject(this._storedError);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(P){var a;null==(a=this.onProgress)||a.call(this,{loaded:P.loaded,total:P.lengthComputable?P.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(P._cachedChunks.length>0)return{value:P._cachedChunks.shift(),done:!1};if(P._done)return{value:void 0,done:!0};const a=(0,p.createPromiseCapability)();return P._requests.push(a),a.promise})()}cancel(P){this._done=!0,this._headersReceivedCapability.reject(P);for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(P,a,r){this._manager=P;const t={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._requestId=P.requestRange(a,r,t),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var P;null==(P=this.onClosed)||P.call(this,this)}_onDone(P){const a=P.chunk;this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(P){this._storedError=(0,oe.createResponseStatusError)(P,this._url);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(P){var a;this.isStreamingSupported||null==(a=this.onProgress)||a.call(this,{loaded:P.loaded})}get isStreamingSupported(){return!1}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(null!==P._queuedChunk){const r=P._queuedChunk;return P._queuedChunk=null,{value:r,done:!1}}if(P._done)return{value:void 0,done:!0};const a=(0,p.createPromiseCapability)();return P._requests.push(a),a.promise})()}cancel(P){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(de,k,ne)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFFetchStream=void 0;var p=ne(1),oe=ne(26);function ee(E,f,v){return{method:"GET",headers:E,signal:null==v?void 0:v.signal,mode:"cors",credentials:f?"include":"same-origin",redirect:"follow"}}function Y(E){const f=new Headers;for(const v in E){const P=E[v];void 0!==P&&f.append(v,P)}return f}k.PDFFetchStream=class K{constructor(f){this.source=f,this.isHttp=/^https?:/i.test(f.url),this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var f,v;return null!=(v=null==(f=this._fullRequestReader)?void 0:f._loaded)?v:0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D(this),this._fullRequestReader}getRangeReader(f,v){if(v<=this._progressiveDataLength)return null;const P=new c(this,f,v);return this._rangeRequestReaders.push(P),P}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const v of this._rangeRequestReaders.slice(0))v.cancel(f)}};class D{constructor(f){this._stream=f,this._reader=null,this._loaded=0,this._filename=null;const v=f.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=Y(this._stream.httpHeaders);const P=v.url;fetch(P,ee(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,oe.validateResponseStatus)(a.status))throw(0,oe.createResponseStatusError)(a.status,P);this._reader=a.body.getReader(),this._headersCapability.resolve();const r=C=>a.headers.get(C),{allowRangeRequests:t,suggestedLength:l}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=t,this._contentLength=l||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._headersCapability.promise;const{value:v,done:P}=yield f._reader.read();return P?{value:v,done:P}:(f._loaded+=v.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded,total:f._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}class c{constructor(f,v,P){this._stream=f,this._reader=null,this._loaded=0;const a=f.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${P-1}`);const r=a.url;fetch(r,ee(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,oe.validateResponseStatus)(t.status))throw(0,oe.createResponseStatusError)(t.status,r);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._readCapability.promise;const{value:v,done:P}=yield f._reader.read();return P?{value:v,done:P}:(f._loaded+=v.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(de){var k=__webpack_module_cache__[de];if(void 0!==k)return k.exports;var ne=__webpack_module_cache__[de]={exports:{}};return __webpack_modules__[de](ne,ne.exports,__w_pdfjs_require__),ne.exports}var __webpack_exports__={};return(()=>{var de=__webpack_exports__;Object.defineProperty(de,"__esModule",{value:!0}),Object.defineProperty(de,"AnnotationLayer",{enumerable:!0,get:function(){return oe.AnnotationLayer}}),Object.defineProperty(de,"AnnotationMode",{enumerable:!0,get:function(){return k.AnnotationMode}}),Object.defineProperty(de,"CMapCompressionType",{enumerable:!0,get:function(){return k.CMapCompressionType}}),Object.defineProperty(de,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ee.GlobalWorkerOptions}}),Object.defineProperty(de,"InvalidPDFException",{enumerable:!0,get:function(){return k.InvalidPDFException}}),Object.defineProperty(de,"LoopbackPort",{enumerable:!0,get:function(){return ne.LoopbackPort}}),Object.defineProperty(de,"MissingPDFException",{enumerable:!0,get:function(){return k.MissingPDFException}}),Object.defineProperty(de,"OPS",{enumerable:!0,get:function(){return k.OPS}}),Object.defineProperty(de,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ne.PDFDataRangeTransport}}),Object.defineProperty(de,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(de,"PDFWorker",{enumerable:!0,get:function(){return ne.PDFWorker}}),Object.defineProperty(de,"PasswordResponses",{enumerable:!0,get:function(){return k.PasswordResponses}}),Object.defineProperty(de,"PermissionFlag",{enumerable:!0,get:function(){return k.PermissionFlag}}),Object.defineProperty(de,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(de,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(de,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(de,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return k.UNSUPPORTED_FEATURES}}),Object.defineProperty(de,"UnexpectedResponseException",{enumerable:!0,get:function(){return k.UnexpectedResponseException}}),Object.defineProperty(de,"Util",{enumerable:!0,get:function(){return k.Util}}),Object.defineProperty(de,"VerbosityLevel",{enumerable:!0,get:function(){return k.VerbosityLevel}}),Object.defineProperty(de,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(de,"build",{enumerable:!0,get:function(){return ne.build}}),Object.defineProperty(de,"createPromiseCapability",{enumerable:!0,get:function(){return k.createPromiseCapability}}),Object.defineProperty(de,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return k.createValidAbsoluteUrl}}),Object.defineProperty(de,"getDocument",{enumerable:!0,get:function(){return ne.getDocument}}),Object.defineProperty(de,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(de,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(de,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(de,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(de,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(de,"renderTextLayer",{enumerable:!0,get:function(){return K.renderTextLayer}}),Object.defineProperty(de,"shadow",{enumerable:!0,get:function(){return k.shadow}}),Object.defineProperty(de,"version",{enumerable:!0,get:function(){return ne.version}});var k=__w_pdfjs_require__(1),ne=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),oe=__w_pdfjs_require__(20),ee=__w_pdfjs_require__(13),Y=__w_pdfjs_require__(3),K=__w_pdfjs_require__(23),D=__w_pdfjs_require__(24),c=__w_pdfjs_require__(22);if(Y.isNodeJS){const{PDFNodeStream:v}=__w_pdfjs_require__(25);(0,ne.setPDFNetworkStreamFactory)(P=>new v(P))}else{const{PDFNetworkStream:v}=__w_pdfjs_require__(28),{PDFFetchStream:P}=__w_pdfjs_require__(29);(0,ne.setPDFNetworkStreamFactory)(a=>(0,p.isValidFetchUrl)(a.url)?new P(a):new v(a))}})(),__webpack_exports__})(),module.exports=ne()},2813:function(de,k,ne){var Y,p=ne(8926).default;Y=()=>(()=>{"use strict";var oe=[,(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultXfaLayerFactory=c.DefaultTextLayerFactory=c.DefaultStructTreeLayerFactory=c.DefaultAnnotationLayerFactory=void 0;var f=E(2),v=E(4),P=E(5),a=E(7),r=E(8),t=E(9);c.DefaultAnnotationLayerFactory=class l{createAnnotationLayerBuilder(i,_,m=null,y="",x=!0,M=v.NullL10n,b=!1,R=null,N=null,j=null,q=null){return new f.AnnotationLayerBuilder({pageDiv:i,pdfPage:_,imageResourcesPath:y,renderForms:x,linkService:new P.SimpleLinkService,l10n:M,annotationStorage:m,enableScripting:b,hasJSActionsPromise:R,fieldObjectsPromise:j,mouseState:N,annotationCanvasMap:q})}},c.DefaultStructTreeLayerFactory=class C{createStructTreeLayerBuilder(i){return new a.StructTreeLayerBuilder({pdfPage:i})}},c.DefaultTextLayerFactory=class d{createTextLayerBuilder(i,_,m,y=!1,x,M){return new r.TextLayerBuilder({textLayerDiv:i,pageIndex:_,viewport:m,enhanceTextSelection:y,eventBus:x,highlighter:M})}},c.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(i,_,m=null,y=null){return new t.XfaLayerBuilder({pageDiv:i,pdfPage:_,annotationStorage:m,linkService:new P.SimpleLinkService,xfaHtml:y})}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayerBuilder=void 0;var f=E(3),v=E(4);c.AnnotationLayerBuilder=class P{constructor({pageDiv:r,pdfPage:t,linkService:l,downloadManager:C,annotationStorage:d=null,imageResourcesPath:g="",renderForms:e=!0,l10n:i=v.NullL10n,enableScripting:_=!1,hasJSActionsPromise:m=null,fieldObjectsPromise:y=null,mouseState:x=null,annotationCanvasMap:M=null}){this.pageDiv=r,this.pdfPage=t,this.linkService=l,this.downloadManager=C,this.imageResourcesPath=g,this.renderForms=e,this.l10n=i,this.annotationStorage=d,this.enableScripting=_,this._hasJSActionsPromise=m,this._fieldObjectsPromise=y,this._mouseState=x,this._annotationCanvasMap=M,this.div=null,this._cancelled=!1}render(r,t="display"){var l=this;return p(function*(){const[C,d=!1,g=null]=yield Promise.all([l.pdfPage.getAnnotations({intent:t}),l._hasJSActionsPromise,l._fieldObjectsPromise]);if(l._cancelled||0===C.length)return;const e={viewport:r.clone({dontFlip:!0}),div:l.div,annotations:C,page:l.pdfPage,imageResourcesPath:l.imageResourcesPath,renderForms:l.renderForms,linkService:l.linkService,downloadManager:l.downloadManager,annotationStorage:l.annotationStorage,enableScripting:l.enableScripting,hasJSActions:d,fieldObjects:g,mouseState:l._mouseState,annotationCanvasMap:l._annotationCanvasMap};l.div?f.AnnotationLayer.update(e):(l.div=document.createElement("div"),l.div.className="annotationLayer",l.pageDiv.appendChild(l.div),e.div=l.div,f.AnnotationLayer.render(e),l.l10n.translate(l.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},D=>{let c;c="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ne(6036),D.exports=c},(D,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.fixupLangCode=function P(t){return v[null==t?void 0:t.toLowerCase()]||t},c.getL10nFallback=f;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function f(t,l){switch(t){case"find_match_count":t=`find_match_count[${1===l.total?"one":"other"}]`;break;case"find_match_count_limit":t=`find_match_count_limit[${1===l.limit?"one":"other"}]`}return E[t]||""}const v={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};c.NullL10n={getLanguage:()=>p(function*(){return"en-us"})(),getDirection:()=>p(function*(){return"ltr"})(),get:(t,l=null,C=f(t,l))=>p(function*(){return function a(t,l){return l?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(C,d)=>d in l?l[d]:"{{"+d+"}}"):t}(C,l)})(),translate:t=>p(function*(){})()}},(D,c,E)=>{var l,C,rt,g,bt;Object.defineProperty(c,"__esModule",{value:!0}),c.SimpleLinkService=c.PDFLinkService=c.LinkTarget=void 0;var f=E(6);const P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function a(_,{url:m,target:y,rel:x,enabled:M=!0}={}){if(!m||"string"!=typeof m)throw new Error('A valid "url" parameter must provided.');const b=(0,f.removeNullCharacters)(m);M?_.href=_.title=b:(_.href="",_.title=`Disabled: ${b}`,_.onclick=()=>!1);let R="";switch(y){case P.NONE:break;case P.SELF:R="_self";break;case P.BLANK:R="_blank";break;case P.PARENT:R="_parent";break;case P.TOP:R="_top"}_.target=R,_.rel="string"==typeof x?x:"noopener noreferrer nofollow"}c.LinkTarget=P;const i=class{constructor({eventBus:m,externalLinkTarget:y=null,externalLinkRel:x=null,ignoreDestinationZoom:M=!1}={}){ve(this,C),ve(this,l,new Map),this.eventBus=m,this.externalLinkTarget=y,this.externalLinkRel=x,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=M,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(m,y=null){this.baseUrl=y,this.pdfDocument=m,Ae(this,l).clear()}setViewer(m){this.pdfViewer=m}setHistory(m){this.pdfHistory=m}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(m){this.pdfViewer.currentPageNumber=m}get rotation(){return this.pdfViewer.pagesRotation}set rotation(m){this.pdfViewer.pagesRotation=m}goToDestination(m){var y=this;return p(function*(){var b;if(!y.pdfDocument)return;let x,M;"string"==typeof m?(x=m,M=yield y.pdfDocument.getDestination(m)):(x=null,M=yield m),Array.isArray(M)?ye(b=y,C,rt).call(b,m,x,M):console.error(`PDFLinkService.goToDestination: "${M}" is not a valid destination array, for dest="${m}".`)})()}goToPage(m){if(!this.pdfDocument)return;const y="string"==typeof m&&this.pdfViewer.pageLabelToPageNumber(m)||0|m;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${m}" is not a valid page.`)}addLinkAttributes(m,y,x=!1){a(m,{url:y,target:x?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(m){if("string"==typeof m){if(m.length>0)return this.getAnchorUrl("#"+escape(m))}else if(Array.isArray(m)){const y=JSON.stringify(m);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(m){return(this.baseUrl||"")+m}setHash(m){var M;if(!this.pdfDocument)return;let y,x;if(m.includes("=")){const b=(0,f.parseQueryString)(m);if(b.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:b.get("search").replace(/"/g,""),phraseSearch:"true"===b.get("phrase")}),b.has("page")&&(y=0|b.get("page")||1),b.has("zoom")){const R=b.get("zoom").split(","),N=R[0],j=parseFloat(N);N.includes("Fit")?"Fit"===N||"FitB"===N?x=[null,{name:N}]:"FitH"===N||"FitBH"===N||"FitV"===N||"FitBV"===N?x=[null,{name:N},R.length>1?0|R[1]:null]:"FitR"===N?5!==R.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):x=[null,{name:N},0|R[1],0|R[2],0|R[3],0|R[4]]:console.error(`PDFLinkService.setHash: "${N}" is not a valid zoom value.`):x=[null,{name:"XYZ"},R.length>1?0|R[1]:null,R.length>2?0|R[2]:null,j?j/100:N]}x?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:x,allowNegativeOffset:!0}):y&&(this.page=y),b.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:b.get("pagemode")}),b.has("nameddest")&&this.goToDestination(b.get("nameddest"))}else{x=unescape(m);try{x=JSON.parse(x),Array.isArray(x)||(x=x.toString())}catch(b){}if("string"==typeof x||ye(M=i,g,bt).call(M,x))return void this.goToDestination(x);console.error(`PDFLinkService.setHash: "${unescape(m)}" is not a valid destination.`)}}executeNamedAction(m){var y,x;switch(m){case"GoBack":null==(y=this.pdfHistory)||y.back();break;case"GoForward":null==(x=this.pdfHistory)||x.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:m})}cachePageRef(m,y){if(!y)return;const x=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;Ae(this,l).set(x,m)}_cachedPageNumber(m){if(!m)return null;const y=0===m.gen?`${m.num}R`:`${m.num}R${m.gen}`;return Ae(this,l).get(y)||null}isPageVisible(m){return this.pdfViewer.isPageVisible(m)}isPageCached(m){return this.pdfViewer.isPageCached(m)}};let r=i;l=new WeakMap,C=new WeakSet,rt=function(m,y=null,x){const M=x[0];let b;if("object"==typeof M&&null!==M){if(b=this._cachedPageNumber(M),!b)return void this.pdfDocument.getPageIndex(M).then(R=>{this.cachePageRef(R+1,M),ye(this,C,rt).call(this,m,y,x)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${M}" is not a valid page reference, for dest="${m}".`)})}else{if(!Number.isInteger(M))return void console.error(`PDFLinkService.#goToDestinationHelper: "${M}" is not a valid destination reference, for dest="${m}".`);b=M+1}!b||b<1||b>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${b}" is not a valid page number, for dest="${m}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:x,pageNumber:b})),this.pdfViewer.scrollPageIntoView({pageNumber:b,destArray:x,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,bt=function(m){if(!Array.isArray(m))return!1;const y=m.length;if(y<2)return!1;const x=m[0];if(!("object"==typeof x&&Number.isInteger(x.num)&&Number.isInteger(x.gen)||Number.isInteger(x)&&x>=0))return!1;const M=m[1];if("object"!=typeof M||"string"!=typeof M.name)return!1;let b=!0;switch(M.name){case"XYZ":if(5!==y)return!1;break;case"Fit":case"FitB":return 2===y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==y)return!1;break;case"FitR":if(6!==y)return!1;b=!1;break;default:return!1}for(let R=2;R<y;R++){const N=m[R];if(!("number"==typeof N||b&&null===N))return!1}return!0},ve(r,g),c.PDFLinkService=r,c.SimpleLinkService=class t{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(m){}get rotation(){return 0}set rotation(m){}goToDestination(m){return p(function*(){})()}goToPage(m){}addLinkAttributes(m,y,x=!1){a(m,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(m){return"#"}getAnchorUrl(m){return"#"}setHash(m){}executeNamedAction(m){}cachePageRef(m,y){}isPageVisible(m){return!0}isPageCached(m){return!0}}},(D,c)=>{var le,At;Object.defineProperty(c,"__esModule",{value:!0}),c.animationStarted=c.VERTICAL_PADDING=c.UNKNOWN_SCALE=c.TextLayerMode=c.SpreadMode=c.SidebarView=c.ScrollMode=c.SCROLLBAR_PADDING=c.RenderingStates=c.RendererType=c.ProgressBar=c.PresentationModeState=c.OutputScale=c.MIN_SCALE=c.MAX_SCALE=c.MAX_AUTO_SCALE=c.DEFAULT_SCALE_VALUE=c.DEFAULT_SCALE_DELTA=c.DEFAULT_SCALE=c.AutoPrintRegExp=void 0,c.apiPageLayoutToViewerModes=function X(J){let re=m.VERTICAL,ie=y.NONE;switch(J){case"SinglePage":re=m.PAGE;break;case"OneColumn":break;case"TwoPageLeft":re=m.PAGE;case"TwoColumnLeft":ie=y.ODD;break;case"TwoPageRight":re=m.PAGE;case"TwoColumnRight":ie=y.EVEN}return{scrollMode:re,spreadMode:ie}},c.apiPageModeToSidebarView=function Q(J){switch(J){case"UseNone":return e.NONE;case"UseThumbs":return e.THUMBS;case"UseOutlines":return e.OUTLINE;case"UseAttachments":return e.ATTACHMENTS;case"UseOC":return e.LAYERS}return e.NONE},c.approximateFraction=function $(J){if(Math.floor(J)===J)return[J,1];const re=1/J;if(re>8)return[1,8];if(Math.floor(re)===re)return[1,re];const w=J>1?re:J;let fe,I=0,z=1,ue=1,ce=1;for(;;){const me=I+ue,be=z+ce;if(be>8)break;w<=me/be?(ue=me,ce=be):(I=me,z=be)}return fe=w-I/z<ue/ce-w?w===J?[I,z]:[z,I]:w===J?[ue,ce]:[ce,ue],fe},c.backtrackBeforeAllVisibleElements=L,c.binarySearchFirstItem=G,c.getActiveOrFocusedElement=function H(){let J=document,re=J.activeElement||J.querySelector(":focus");for(;null==re?void 0:re.shadowRoot;)J=re.shadowRoot,re=J.activeElement||J.querySelector(":focus");return re},c.getPageSizeInches=function ae({view:J,userUnit:re,rotate:ie}){const[w,I,z,ue]=J,ce=ie%180!=0,fe=(z-w)/72*re,me=(ue-I)/72*re;return{width:ce?me:fe,height:ce?fe:me}},c.getVisibleElements=function s({scrollEl:J,views:re,sortByVisibility:ie=!1,horizontal:w=!1,rtl:I=!1}){const z=J.scrollTop,ue=z+J.clientHeight,ce=J.scrollLeft,fe=ce+J.clientWidth,Se=[],Ce=new Set,Ee=re.length;let Z=G(re,w?function be(he){const pe=he.div,ge=pe.offsetLeft+pe.clientLeft;return I?ge<fe:ge+pe.clientWidth>ce}:function me(he){const pe=he.div;return pe.offsetTop+pe.clientTop+pe.clientHeight>z});Z>0&&Z<Ee&&!w&&(Z=L(Z,re,z));let F=w?fe:-1;for(let he=Z;he<Ee;he++){const pe=re[he],ge=pe.div,Pe=ge.offsetLeft+ge.clientLeft,we=ge.offsetTop+ge.clientTop,Me=ge.clientWidth,xe=ge.clientHeight,Re=Pe+Me,ke=we+xe;if(-1===F)ke>=ue&&(F=ke);else if((w?Pe:we)>F)break;if(ke<=z||we>=ue||Re<=ce||Pe>=fe)continue;const Ie=Math.max(0,z-we)+Math.max(0,ke-ue),Be=(Me-(Math.max(0,ce-Pe)+Math.max(0,Re-fe)))/Me;Se.push({id:pe.id,x:Pe,y:we,view:pe,percent:(xe-Ie)/xe*Be*100|0,widthPercent:100*Be|0}),Ce.add(pe.id)}const O=Se[0],se=Se[Se.length-1];return ie&&Se.sort(function(he,pe){const ge=he.percent-pe.percent;return Math.abs(ge)>.001?-ge:he.id-pe.id}),{first:O,last:se,views:Se,ids:Ce}},c.isPortraitOrientation=function T(J){return J.width<=J.height},c.isValidRotation=function u(J){return Number.isInteger(J)&&J%90==0},c.isValidScrollMode=function S(J){return Number.isInteger(J)&&Object.values(m).includes(J)&&J!==m.UNKNOWN},c.isValidSpreadMode=function A(J){return Number.isInteger(J)&&Object.values(y).includes(J)&&J!==y.UNKNOWN},c.noContextMenuHandler=function h(J){J.preventDefault()},c.normalizeWheelEventDelta=function o(J){let re=n(J);return 0===J.deltaMode?re/=900:1===J.deltaMode&&(re/=30),re},c.normalizeWheelEventDirection=n,c.parseQueryString=function N(J){const re=new Map;for(const[ie,w]of new URLSearchParams(J))re.set(ie.toLowerCase(),w);return re},c.removeNullCharacters=function B(J,re=!1){return"string"!=typeof J?(console.error("The argument must be a string."),J):(re&&(J=J.replace(q," ")),J.replace(j,""))},c.roundToDivide=function te(J,re){const ie=J%re;return 0===ie?J:Math.round(J-ie+re)},c.scrollIntoView=function b(J,re,ie=!1){let w=J.offsetParent;if(!w)return void console.error("offsetParent is not set -- cannot scroll");let I=J.offsetTop+J.clientTop,z=J.offsetLeft+J.clientLeft;for(;w.clientHeight===w.scrollHeight&&w.clientWidth===w.scrollWidth||ie&&(w.classList.contains("markedContent")||"hidden"===getComputedStyle(w).overflow);)if(I+=w.offsetTop,z+=w.offsetLeft,w=w.offsetParent,!w)return;re&&(void 0!==re.top&&(I+=re.top),void 0!==re.left&&(z+=re.left,w.scrollLeft=z)),w.scrollTop=I},c.watchScroll=function R(J,re){const ie=function(z){I||(I=window.requestAnimationFrame(function(){I=null;const ce=J.scrollLeft,fe=w.lastX;ce!==fe&&(w.right=ce>fe),w.lastX=ce;const me=J.scrollTop,be=w.lastY;me!==be&&(w.down=me>be),w.lastY=me,re(w)}))},w={right:!0,down:!0,lastX:J.scrollLeft,lastY:J.scrollTop,_eventHandler:ie};let I=null;return J.addEventListener("scroll",ie,!0),w},c.DEFAULT_SCALE_VALUE="auto",c.DEFAULT_SCALE=1,c.DEFAULT_SCALE_DELTA=1.1,c.MIN_SCALE=.1,c.MAX_SCALE=10,c.UNKNOWN_SCALE=0,c.MAX_AUTO_SCALE=1.25,c.SCROLLBAR_PADDING=40,c.VERTICAL_PADDING=5,c.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const e={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};c.SidebarView=e,c.RendererType={CANVAS:"canvas",SVG:"svg"},c.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const m={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};c.ScrollMode=m;const y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};c.SpreadMode=y,c.AutoPrintRegExp=/\bprint\s*\(/,c.OutputScale=class M{constructor(){const re=window.devicePixelRatio||1;this.sx=re,this.sy=re}get scaled(){return 1!==this.sx||1!==this.sy}};const j=/\x00/g,q=/[\x01-\x1F]/g;function G(J,re,ie=0){let w=ie,I=J.length-1;if(I<0||!re(J[I]))return J.length;if(re(J[w]))return w;for(;w<I;){const z=w+I>>1;re(J[z])?I=z:w=z+1}return w}function L(J,re,ie){if(J<2)return J;let w=re[J].div,I=w.offsetTop+w.clientTop;I>=ie&&(w=re[J-1].div,I=w.offsetTop+w.clientTop);for(let z=J-2;z>=0&&(w=re[z].div,!(w.offsetTop+w.clientTop+w.clientHeight<=I));--z)J=z;return J}function n(J){let re=Math.hypot(J.deltaX,J.deltaY);const ie=Math.atan2(J.deltaY,J.deltaX);return-.25*Math.PI<ie&&ie<.75*Math.PI&&(re=-re),re}const V=new Promise(function(J){window.requestAnimationFrame(J)});c.animationStarted=V,le=new WeakSet,At=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},c.ProgressBar=class U{constructor(re){if(ve(this,le),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(re+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(re){this._indeterminate=isNaN(re),this._percent=function W(J,re,ie){return Math.min(Math.max(J,re),ie)}(re,0,100),ye(this,le,At).call(this)}setWidth(re){if(!re)return;const w=re.parentNode.offsetWidth-re.offsetWidth;w>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${w}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(D,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StructTreeLayerBuilder=void 0;const E={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},f=/^H(\d+)$/;c.StructTreeLayerBuilder=class v{constructor({pdfPage:a}){this.pdfPage=a}render(a){return this._walk(a)}_setAttributes(a,r){void 0!==a.alt&&r.setAttribute("aria-label",a.alt),void 0!==a.id&&r.setAttribute("aria-owns",a.id),void 0!==a.lang&&r.setAttribute("lang",a.lang)}_walk(a){if(!a)return null;const r=document.createElement("span");if("role"in a){const{role:t}=a,l=t.match(f);l?(r.setAttribute("role","heading"),r.setAttribute("aria-level",l[1])):E[t]&&r.setAttribute("role",E[t])}if(this._setAttributes(a,r),a.children)if(1===a.children.length&&"id"in a.children[0])this._setAttributes(a.children[0],r);else for(const t of a.children)r.appendChild(this._walk(t));return r}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerBuilder=void 0;var f=E(3);c.TextLayerBuilder=class P{constructor({textLayerDiv:r,eventBus:t,pageIndex:l,viewport:C,highlighter:d=null,enhanceTextSelection:g=!1}){this.textLayerDiv=r,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=l+1,this.viewport=C,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=d,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){var l;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(l=this.highlighter)||l.setTextMapping(this.textDivs,this.textContentItemsStr);const t=document.createDocumentFragment();this.textLayerRenderTask=(0,f.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var C;this.textLayerDiv.appendChild(t),this._finishRendering(),null==(C=this.highlighter)||C.enable()},function(C){})}cancel(){var r;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(r=this.highlighter)||r.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let t=null;r.addEventListener("mousedown",l=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const C=r.querySelector(".endOfContent");if(!C)return;let d=l.target!==r;if(d=d&&"none"!==window.getComputedStyle(C).getPropertyValue("-moz-user-select"),d){const g=r.getBoundingClientRect(),e=Math.max(0,(l.pageY-g.top)/g.height);C.style.top=(100*e).toFixed(2)+"%"}C.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null},300));const l=r.querySelector(".endOfContent");!l||(l.style.top="",l.classList.remove("active"))})}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayerBuilder=void 0;var f=E(3);c.XfaLayerBuilder=class v{constructor({pageDiv:a,pdfPage:r,annotationStorage:t=null,linkService:l,xfaHtml:C=null}){this.pageDiv=a,this.pdfPage=r,this.annotationStorage=t,this.linkService=l,this.xfaHtml=C,this.div=null,this._cancelled=!1}render(a,r="display"){if("print"===r){const t={viewport:a.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},l=document.createElement("div");this.pageDiv.appendChild(l),t.div=l;const C=f.XfaLayer.render(t);return Promise.resolve(C)}return this.pdfPage.getXfa().then(t=>{if(this._cancelled||!t)return{textDivs:[]};const l={viewport:a.clone({dontFlip:!0}),div:this.div,xfaHtml:t,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?f.XfaLayer.update(l):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),l.div=this.div,f.XfaLayer.render(l))}).catch(t=>{console.error(t)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFViewer=c.PDFSinglePageViewer=void 0;var f=E(6),v=E(11);c.PDFViewer=class P extends v.BaseViewer{},c.PDFSinglePageViewer=class a extends v.BaseViewer{_resetView(){super._resetView(),this._scrollMode=f.ScrollMode.PAGE,this._spreadMode=f.SpreadMode.NONE}set scrollMode(t){}_updateScrollMode(){}set spreadMode(t){}_updateSpreadMode(){}}},(D,c,E)=>{var M,b,R,st,j,q,B,G,$,te,ae,L,yt,h,vt,o,He,S,Ke,T,St,W,at,H,Pt,Q,Ct,_e,wt;Object.defineProperty(c,"__esModule",{value:!0}),c.PagesCountLimit=c.PDFPageViewBuffer=c.BaseViewer=void 0;var f=E(3),v=E(6),P=E(2),a=E(4),r=E(12),t=E(14),l=E(5),C=E(7),d=E(15),g=E(8),e=E(9);const _="enablePermissions",m={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};c.PagesCountLimit=m;class y{constructor(w){ve(this,R),ve(this,M,new Set),ve(this,b,0),Te(this,b,w)}push(w){const I=Ae(this,M);I.has(w)&&I.delete(w),I.add(w),I.size>Ae(this,b)&&ye(this,R,st).call(this)}resize(w,I=null){Te(this,b,w);const z=Ae(this,M);if(I){const ue=z.size;let ce=1;for(const fe of z)if(I.has(fe.id)&&(z.delete(fe),z.add(fe)),++ce>ue)break}for(;z.size>Ae(this,b);)ye(this,R,st).call(this)}has(w){return Ae(this,M).has(w)}[Symbol.iterator](){return Ae(this,M).keys()}}M=new WeakMap,b=new WeakMap,R=new WeakSet,st=function(){const w=Ae(this,M).keys().next().value;null==w||w.destroy(),Ae(this,M).delete(w)},c.PDFPageViewBuffer=y;const re=class{constructor(w){var z,ue,ce,fe;if(ve(this,L),ve(this,h),ve(this,o),ve(this,S),ve(this,T),ve(this,W),ve(this,H),ve(this,Q),ve(this,_e),ve(this,j,null),ve(this,q,f.AnnotationMode.ENABLE_FORMS),ve(this,B,null),ve(this,G,!1),ve(this,$,0),ve(this,te,null),ve(this,ae,null),this.constructor===re)throw new Error("Cannot initialize BaseViewer.");const I="2.14.305";if(f.version!==I)throw new Error(`The API version "${f.version}" does not match the Viewer version "${I}".`);if(this.container=w.container,this.viewer=w.viewer||w.container.firstElementChild,"DIV"!==(null==(z=this.container)?void 0:z.tagName.toUpperCase())||"DIV"!==(null==(ue=this.viewer)?void 0:ue.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=w.eventBus,this.linkService=w.linkService||new l.SimpleLinkService,this.downloadManager=w.downloadManager||null,this.findController=w.findController||null,this._scriptingManager=w.scriptingManager||null,this.removePageBorders=w.removePageBorders||!1,this.textLayerMode=null!=(ce=w.textLayerMode)?ce:v.TextLayerMode.ENABLE,Te(this,q,null!=(fe=w.annotationMode)?fe:f.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=w.imageResourcesPath||"",this.enablePrintAutoRotate=w.enablePrintAutoRotate||!1,this.renderer=w.renderer||v.RendererType.CANVAS,this.useOnlyCssZoom=w.useOnlyCssZoom||!1,this.maxCanvasPixels=w.maxCanvasPixels,this.l10n=w.l10n||a.NullL10n,Te(this,G,w.enablePermissions||!1),this.pageColors=w.pageColors||null,w.pageColors&&(!CSS.supports("color",w.pageColors.background)||!CSS.supports("color",w.pageColors.foreground))&&((w.pageColors.background||w.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!w.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new t.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=w.renderingQueue,this._doc=document.documentElement,this.scroll=(0,v.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=v.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(w){return this._pages[w]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(w){return null==w?void 0:w.pdfPage})}get renderForms(){return Ae(this,q)===f.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(w){if(!Number.isInteger(w))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(w,!0)||console.error(`currentPageNumber: "${w}" is not a valid page.`)}_setCurrentPageNumber(w,I=!1){var ue,ce;if(this._currentPageNumber===w)return I&&ye(this,W,at).call(this),!0;if(!(0<w&&w<=this.pagesCount))return!1;const z=this._currentPageNumber;return this._currentPageNumber=w,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:w,pageLabel:null!=(ce=null==(ue=this._pageLabels)?void 0:ue[w-1])?ce:null,previous:z}),I&&ye(this,W,at).call(this),!0}get currentPageLabel(){var w,I;return null!=(I=null==(w=this._pageLabels)?void 0:w[this._currentPageNumber-1])?I:null}set currentPageLabel(w){if(!this.pdfDocument)return;let I=0|w;if(this._pageLabels){const z=this._pageLabels.indexOf(w);z>=0&&(I=z+1)}this._setCurrentPageNumber(I,!0)||console.error(`currentPageLabel: "${w}" is not a valid page.`)}get currentScale(){return this._currentScale!==v.UNKNOWN_SCALE?this._currentScale:v.DEFAULT_SCALE}set currentScale(w){if(isNaN(w))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(w,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(w){!this.pdfDocument||this._setScale(w,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(w){if(!(0,v.isValidRotation)(w))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((w%=360)<0&&(w+=360),this._pagesRotation===w))return;this._pagesRotation=w;const I=this._currentPageNumber,z={rotation:w};for(const ue of this._pages)ue.update(z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:w,pageNumber:I}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(w){var I=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=w,!w)return;const z=w.isPureXfa,ue=w.numPages,ce=w.getPage(1),fe=w.getOptionalContentConfig(),me=Ae(this,G)?w.getPermissions():Promise.resolve();if(ue>m.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const be=this._scrollMode=v.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ue})},()=>{}),this._onBeforeDraw=be=>{const Se=this._pages[be.pageNumber-1];!Se||Ae(this,j).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=be=>{be.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:be.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ae(this,ae)&&(document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ce,me]).then(([be,Se])=>{if(w!==this.pdfDocument)return;this._firstPageCapability.resolve(be),this._optionalContentConfigPromise=fe,ye(this,L,yt).call(this,Se);const Ce=this._scrollMode===v.ScrollMode.PAGE?null:this.viewer,Ee=this.currentScale,Z=be.getViewport({scale:Ee*f.PixelsPerInch.PDF_TO_CSS_UNITS}),F=this.textLayerMode===v.TextLayerMode.DISABLE||z?null:this,O=Ae(this,q)!==f.AnnotationMode.DISABLE?this:null,se=z?this:null;for(let pe=1;pe<=ue;++pe){const ge=new r.PDFPageView({container:Ce,eventBus:this.eventBus,id:pe,scale:Ee,defaultViewport:Z.clone(),optionalContentConfigPromise:fe,renderingQueue:this.renderingQueue,textLayerFactory:F,textLayerMode:this.textLayerMode,annotationLayerFactory:O,annotationMode:Ae(this,q),xfaLayerFactory:se,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ge)}const he=this._pages[0];he&&(he.setPdfPage(be),this.linkService.cachePageRef(1,be.ref)),this._scrollMode===v.ScrollMode.PAGE?ye(this,o,He).call(this):this._spreadMode!==v.SpreadMode.NONE&&this._updateSpreadMode(),ye(this,h,vt).call(this).then(p(function*(){if(I.findController&&I.findController.setDocument(w),I._scriptingManager&&I._scriptingManager.setDocument(w),w.loadingParams.disableAutoFetch||ue>m.FORCE_LAZY_PAGE_INIT)return void I._pagesCapability.resolve();let pe=ue-1;if(pe<=0)I._pagesCapability.resolve();else for(let ge=2;ge<=ue;++ge){const Pe=w.getPage(ge).then(we=>{const Me=I._pages[ge-1];Me.pdfPage||Me.setPdfPage(we),I.linkService.cachePageRef(ge,we.ref),0==--pe&&I._pagesCapability.resolve()},we=>{console.error(`Unable to get page ${ge} to initialize viewer`,we),0==--pe&&I._pagesCapability.resolve()});ge%m.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),w.getMetadata().then(({info:pe})=>{w===this.pdfDocument&&pe.Language&&(this.viewer.lang=pe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(be=>{console.error("Unable to initialize viewer",be),this._pagesCapability.reject(be)})}setPageLabels(w){var I,z;if(this.pdfDocument){w?Array.isArray(w)&&this.pdfDocument.numPages===w.length?this._pageLabels=w:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ue=0,ce=this._pages.length;ue<ce;ue++)this._pages[ue].setPageLabel(null!=(z=null==(I=this._pageLabels)?void 0:I[ue])?z:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=v.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Te(this,j,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,f.createPromiseCapability)(),this._onePageRenderedCapability=(0,f.createPromiseCapability)(),this._pagesCapability=(0,f.createPromiseCapability)(),this._scrollMode=v.ScrollMode.VERTICAL,this._previousScrollMode=v.ScrollMode.UNKNOWN,this._spreadMode=v.SpreadMode.NONE,Te(this,te,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ae(this,ae)&&(document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(_),null!==Ae(this,B)&&(Te(this,q,Ae(this,B)),Te(this,B,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(w,I,z=!1,ue=!1){if(this._currentScaleValue=I.toString(),ye(this,T,St).call(this,w))return void(ue&&this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:I}));this._doc.style.setProperty("--zoom-factor",w);const ce={scale:w};for(const fe of this._pages)fe.update(ce);if(this._currentScale=w,!z){let me,fe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(fe=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:fe,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:ue?I:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL?2:1}_setScale(w,I=!1){let z=parseFloat(w);if(z>0)this._setScaleUpdatePages(z,w,I,!1);else{const ue=this._pages[this._currentPageNumber-1];if(!ue)return;let ce=v.SCROLLBAR_PADDING,fe=v.VERTICAL_PADDING;this.isInPresentationMode?ce=fe=4:this.removePageBorders?ce=fe=0:this._scrollMode===v.ScrollMode.HORIZONTAL&&([ce,fe]=[fe,ce]);const me=(this.container.clientWidth-ce)/ue.width*ue.scale/this._pageWidthScaleFactor,be=(this.container.clientHeight-fe)/ue.height*ue.scale;switch(w){case"page-actual":z=1;break;case"page-width":z=me;break;case"page-height":z=be;break;case"page-fit":z=Math.min(me,be);break;case"auto":const Se=(0,v.isPortraitOrientation)(ue)?me:Math.min(be,me);z=Math.min(v.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${w}" is an unknown zoom value.`)}this._setScaleUpdatePages(z,w,I,!0)}}pageLabelToPageNumber(w){if(!this._pageLabels)return null;const I=this._pageLabels.indexOf(w);return I<0?null:I+1}scrollPageIntoView({pageNumber:w,destArray:I=null,allowNegativeOffset:z=!1,ignoreDestinationZoom:ue=!1}){if(!this.pdfDocument)return;const ce=Number.isInteger(w)&&this._pages[w-1];if(!ce)return void console.error(`scrollPageIntoView: "${w}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!I)return void this._setCurrentPageNumber(w,!0);let Ce,Ee,fe=0,me=0,be=0,Se=0;const Z=ce.rotation%180!=0,F=(Z?ce.height:ce.width)/ce.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS,O=(Z?ce.width:ce.height)/ce.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS;let se=0;switch(I[1].name){case"XYZ":fe=I[2],me=I[3],se=I[4],fe=null!==fe?fe:0,me=null!==me?me:O;break;case"Fit":case"FitB":se="page-fit";break;case"FitH":case"FitBH":me=I[2],se="page-width",null===me&&this._location?(fe=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=O);break;case"FitV":case"FitBV":fe=I[2],be=F,Se=O,se="page-height";break;case"FitR":fe=I[2],me=I[3],be=I[4]-fe,Se=I[5]-me,Ce=(this.container.clientWidth-(this.removePageBorders?0:v.SCROLLBAR_PADDING))/be/f.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(this.container.clientHeight-(this.removePageBorders?0:v.VERTICAL_PADDING))/Se/f.PixelsPerInch.PDF_TO_CSS_UNITS,se=Math.min(Math.abs(Ce),Math.abs(Ee));break;default:return void console.error(`scrollPageIntoView: "${I[1].name}" is not a valid destination type.`)}if(ue||(se&&se!==this._currentScale?this.currentScaleValue=se:this._currentScale===v.UNKNOWN_SCALE&&(this.currentScaleValue=v.DEFAULT_SCALE_VALUE)),"page-fit"===se&&!I[4])return void ye(this,S,Ke).call(this,ce);const he=[ce.viewport.convertToViewportPoint(fe,me),ce.viewport.convertToViewportPoint(fe+be,me+Se)];let pe=Math.min(he[0][0],he[1][0]),ge=Math.min(he[0][1],he[1][1]);z||(pe=Math.max(pe,0),ge=Math.max(ge,0)),ye(this,S,Ke).call(this,ce,{left:pe,top:ge})}_updateLocation(w){const I=this._currentScale,z=this._currentScaleValue,ue=parseFloat(z)===I?Math.round(1e4*I)/100:z,ce=w.id,me=this.container,be=this._pages[ce-1].getPagePoint(me.scrollLeft-w.x,me.scrollTop-w.y),Se=Math.round(be[0]),Ce=Math.round(be[1]);let Ee=`#page=${ce}`;this.isInPresentationMode||(Ee+=`&zoom=${ue},${Se},${Ce}`),this._location={pageNumber:ce,scale:ue,top:Ce,left:Se,rotation:this._pagesRotation,pdfOpenParams:Ee}}update(){const w=this._getVisiblePages(),I=w.views,z=I.length;if(0===z)return;const ue=Math.max(10,2*z+1);Ae(this,j).resize(ue,w.ids),this.renderingQueue.renderHighestPriority(w);const ce=this._spreadMode===v.SpreadMode.NONE&&(this._scrollMode===v.ScrollMode.PAGE||this._scrollMode===v.ScrollMode.VERTICAL),fe=this._currentPageNumber;let me=!1;for(const be of I){if(be.percent<100)break;if(be.id===fe&&ce){me=!0;break}}this._setCurrentPageNumber(me?fe:I[0].id),this._updateLocation(w.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(w){return this.container.contains(w)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===v.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===v.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const w=this._scrollMode===v.ScrollMode.PAGE?Ae(this,te).pages:this._pages,I=this._scrollMode===v.ScrollMode.HORIZONTAL;return(0,v.getVisibleElements)({scrollEl:this.container,views:w,sortByVisibility:!0,horizontal:I,rtl:I&&this._isContainerRtl})}isPageVisible(w){return!!this.pdfDocument&&(Number.isInteger(w)&&w>0&&w<=this.pagesCount?this._getVisiblePages().ids.has(w):(console.error(`isPageVisible: "${w}" is not a valid page.`),!1))}isPageCached(w){if(!this.pdfDocument)return!1;if(!(Number.isInteger(w)&&w>0&&w<=this.pagesCount))return console.error(`isPageCached: "${w}" is not a valid page.`),!1;const I=this._pages[w-1];return Ae(this,j).has(I)}cleanup(){for(const w of this._pages)w.renderingState!==v.RenderingStates.FINISHED&&w.reset()}_cancelRendering(){for(const w of this._pages)w.cancelRendering()}forceRendering(w){const I=w||this._getVisiblePages(),z=ye(this,Q,Ct).call(this,I),ce=this.renderingQueue.getHighestPriority(I,this._pages,z,this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL);return ye(this,_e,wt).call(this,I.ids),!!ce&&(ye(this,H,Pt).call(this,ce).then(()=>{this.renderingQueue.renderView(ce)}),!0)}createTextLayerBuilder(w,I,z,ue=!1,ce,fe){return new g.TextLayerBuilder({textLayerDiv:w,eventBus:ce,pageIndex:I,viewport:z,enhanceTextSelection:!this.isInPresentationMode&&ue,highlighter:fe})}createTextHighlighter(w,I){return new d.TextHighlighter({eventBus:I,pageIndex:w,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(w,I,z=null,ue="",ce=!0,fe=a.NullL10n,me=null,be=null,Se=null,Ce=null,Ee=null){var Z,F,O,se;return new P.AnnotationLayerBuilder({pageDiv:w,pdfPage:I,annotationStorage:z||(null==(Z=this.pdfDocument)?void 0:Z.annotationStorage),imageResourcesPath:ue,renderForms:ce,linkService:this.linkService,downloadManager:this.downloadManager,l10n:fe,enableScripting:null!=me?me:this.enableScripting,hasJSActionsPromise:be||(null==(F=this.pdfDocument)?void 0:F.hasJSActions()),fieldObjectsPromise:Ce||(null==(O=this.pdfDocument)?void 0:O.getFieldObjects()),mouseState:Se||(null==(se=this._scriptingManager)?void 0:se.mouseState),annotationCanvasMap:Ee})}createXfaLayerBuilder(w,I,z=null){var ue;return new e.XfaLayerBuilder({pageDiv:w,pdfPage:I,annotationStorage:z||(null==(ue=this.pdfDocument)?void 0:ue.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(w){return new C.StructTreeLayerBuilder({pdfPage:w})}get hasEqualPageSizes(){const w=this._pages[0];for(let I=1,z=this._pages.length;I<z;++I){const ue=this._pages[I];if(ue.width!==w.width||ue.height!==w.height)return!1}return!0}getPagesOverview(){return this._pages.map(w=>{const I=w.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,v.isPortraitOrientation)(I)?{width:I.width,height:I.height,rotation:I.rotation}:{width:I.height,height:I.width,rotation:(I.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(w){if(!(w instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${w}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=w;const I={optionalContentConfigPromise:w};for(const z of this._pages)z.update(I);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:w})}get scrollMode(){return this._scrollMode}set scrollMode(w){if(this._scrollMode!==w){if(!(0,v.isValidScrollMode)(w))throw new Error(`Invalid scroll mode: ${w}`);this.pagesCount>m.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=w,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(w=null){const I=this._scrollMode,z=this.viewer;z.classList.toggle("scrollHorizontal",I===v.ScrollMode.HORIZONTAL),z.classList.toggle("scrollWrapped",I===v.ScrollMode.WRAPPED),this.pdfDocument&&w&&(I===v.ScrollMode.PAGE?ye(this,o,He).call(this):this._previousScrollMode===v.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(w){if(this._spreadMode!==w){if(!(0,v.isValidSpreadMode)(w))throw new Error(`Invalid spread mode: ${w}`);this._spreadMode=w,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:w}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(w=null){if(!this.pdfDocument)return;const I=this.viewer,z=this._pages;if(this._scrollMode===v.ScrollMode.PAGE)ye(this,o,He).call(this);else if(I.textContent="",this._spreadMode===v.SpreadMode.NONE)for(const ue of this._pages)I.appendChild(ue.div);else{const ue=this._spreadMode-1;let ce=null;for(let fe=0,me=z.length;fe<me;++fe)null===ce?(ce=document.createElement("div"),ce.className="spread",I.appendChild(ce)):fe%2===ue&&(ce=ce.cloneNode(!1),I.appendChild(ce)),ce.appendChild(z[fe].div)}!w||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}_getPageAdvance(w,I=!1){switch(this._scrollMode){case v.ScrollMode.WRAPPED:{const{views:z}=this._getVisiblePages(),ue=new Map;for(const{id:ce,y:fe,percent:me,widthPercent:be}of z){if(0===me||be<100)continue;let Se=ue.get(fe);Se||ue.set(fe,Se||(Se=[])),Se.push(ce)}for(const ce of ue.values()){const fe=ce.indexOf(w);if(-1===fe)continue;const me=ce.length;if(1===me)break;if(I)for(let be=fe-1,Se=0;be>=Se;be--){const Ee=ce[be+1]-1;if(ce[be]<Ee)return w-Ee}else for(let be=fe+1,Se=me;be<Se;be++){const Ee=ce[be-1]+1;if(ce[be]>Ee)return Ee-w}if(I){const be=ce[0];if(be<w)return w-be+1}else{const be=ce[me-1];if(be>w)return be-w+1}break}break}case v.ScrollMode.HORIZONTAL:break;case v.ScrollMode.PAGE:case v.ScrollMode.VERTICAL:{if(this._spreadMode===v.SpreadMode.NONE)break;const z=this._spreadMode-1;if(I&&w%2!==z)break;if(!I&&w%2===z)break;const{views:ue}=this._getVisiblePages(),ce=I?w-1:w+1;for(const{id:fe,percent:me,widthPercent:be}of ue)if(fe===ce){if(me>0&&100===be)return 2;break}break}}return 1}nextPage(){const w=this._currentPageNumber,I=this.pagesCount;if(w>=I)return!1;const z=this._getPageAdvance(w,!1)||1;return this.currentPageNumber=Math.min(w+z,I),!0}previousPage(){const w=this._currentPageNumber;if(w<=1)return!1;const I=this._getPageAdvance(w,!0)||1;return this.currentPageNumber=Math.max(w-I,1),!0}increaseScale(w=1){let I=this._currentScale;do{I=(I*v.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.ceil(10*I)/10,I=Math.min(v.MAX_SCALE,I)}while(--w>0&&I<v.MAX_SCALE);this.currentScaleValue=I}decreaseScale(w=1){let I=this._currentScale;do{I=(I/v.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.floor(10*I)/10,I=Math.max(v.MIN_SCALE,I)}while(--w>0&&I>v.MIN_SCALE);this.currentScaleValue=I}updateContainerHeightCss(){const w=this.container.clientHeight;w!==Ae(this,$)&&(Te(this,$,w),this._doc.style.setProperty("--viewer-container-height",`${w}px`))}};let x=re;j=new WeakMap,q=new WeakMap,B=new WeakMap,G=new WeakMap,$=new WeakMap,te=new WeakMap,ae=new WeakMap,L=new WeakSet,yt=function(w){!w||(w.includes(f.PermissionFlag.COPY)||this.viewer.classList.add(_),!w.includes(f.PermissionFlag.MODIFY_ANNOTATIONS)&&!w.includes(f.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ae(this,q)===f.AnnotationMode.ENABLE_FORMS&&(Te(this,B,Ae(this,q)),Te(this,q,f.AnnotationMode.ENABLE)))},h=new WeakSet,vt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const w=new Promise(I=>{Te(this,ae,()=>{"hidden"===document.visibilityState&&(I(),document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null))}),document.addEventListener("visibilitychange",Ae(this,ae))});return Promise.race([this._onePageRenderedCapability.promise,w])},o=new WeakSet,He=function(){if(this._scrollMode!==v.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const w=this._currentPageNumber,I=Ae(this,te),z=this.viewer;if(z.textContent="",I.pages.length=0,this._spreadMode!==v.SpreadMode.NONE||this.isInPresentationMode){const ue=new Set,ce=this._spreadMode-1;-1===ce?ue.add(w-1):w%2!==ce?(ue.add(w-1),ue.add(w)):(ue.add(w-2),ue.add(w-1));const fe=document.createElement("div");if(fe.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",fe.appendChild(me)}for(const me of ue){const be=this._pages[me];!be||(fe.appendChild(be.div),I.pages.push(be))}z.appendChild(fe)}else{const ue=this._pages[w-1];z.appendChild(ue.div),I.pages.push(ue)}I.scrollDown=w>=I.previousPageNumber,I.previousPageNumber=w},S=new WeakSet,Ke=function(w,I=null){const{div:z,id:ue}=w;if(this._scrollMode===v.ScrollMode.PAGE&&(this._setCurrentPageNumber(ue),ye(this,o,He).call(this),this.update()),!I&&!this.isInPresentationMode){const ce=z.offsetLeft+z.clientLeft,fe=ce+z.clientWidth,{scrollLeft:me,clientWidth:be}=this.container;(this._scrollMode===v.ScrollMode.HORIZONTAL||ce<me||fe>me+be)&&(I={left:0,top:0})}(0,v.scrollIntoView)(z,I)},T=new WeakSet,St=function(w){return w===this._currentScale||Math.abs(w-this._currentScale)<1e-15},W=new WeakSet,at=function(){const w=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ye(this,S,Ke).call(this,w)},H=new WeakSet,Pt=function(w){var I=this;return p(function*(){var z,ue;if(w.pdfPage)return w.pdfPage;try{const ce=yield I.pdfDocument.getPage(w.id);return w.pdfPage||w.setPdfPage(ce),(null==(ue=(z=I.linkService)._cachedPageNumber)?void 0:ue.call(z,ce.ref))||I.linkService.cachePageRef(w.id,ce.ref),ce}catch(ce){return console.error("Unable to get page for page view",ce),null}})()},Q=new WeakSet,Ct=function(w){var I,z;if(1===(null==(I=w.first)?void 0:I.id))return!0;if((null==(z=w.last)?void 0:z.id)===this.pagesCount)return!1;switch(this._scrollMode){case v.ScrollMode.PAGE:return Ae(this,te).scrollDown;case v.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},_e=new WeakSet,wt=function(w){for(const I of w){const z=this._pages[I-1];null==z||z.toggleLoadingIconSpinner(!0)}for(const I of Ae(this,j))w.has(I.id)||I.toggleLoadingIconSpinner(!1)},c.BaseViewer=x},(D,c,E)=>{var l;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFPageView=void 0;var f=E(3),v=E(6),P=E(13),a=E(4);const r=P.compatibilityParams.maxCanvasPixels||16777216;l=new WeakMap,c.PDFPageView=class t{constructor(d){var _,m,y,x;ve(this,l,f.AnnotationMode.ENABLE_FORMS);const g=d.container,e=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||v.DEFAULT_SCALE,this.viewport=e,this.pdfPageRotate=e.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(_=d.textLayerMode)?_:v.TextLayerMode.ENABLE,Te(this,l,null!=(m=d.annotationMode)?m:f.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=d.imageResourcesPath||"",this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||r,this.pageColors=d.pageColors||null,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.textHighlighter=null==(y=d.textHighlighterFactory)?void 0:y.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||v.RendererType.CANVAS,this.l10n=d.l10n||a.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=v.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(x=this.renderingQueue)?void 0:x.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(M=>{i.setAttribute("aria-label",M)}),this.div=i,null==g||g.appendChild(i)}setPdfPage(d){this.pdfPage=d,this.pdfPageRotate=d.rotate,this.viewport=d.getViewport({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var d=this;return p(function*(){let g=null;try{yield d.annotationLayer.render(d.viewport,"display")}catch(e){g=e}finally{d.eventBus.dispatch("annotationlayerrendered",{source:d,pageNumber:d.id,error:g})}})()}_renderXfaLayer(){var d=this;return p(function*(){let g=null;try{const e=yield d.xfaLayer.render(d.viewport,"display");d.textHighlighter&&d._buildXfaTextContentItems(e.textDivs)}catch(e){g=e}finally{d.eventBus.dispatch("xfalayerrendered",{source:d,pageNumber:d.id,error:g})}})()}_buildXfaTextContentItems(d){var g=this;return p(function*(){const e=yield g.pdfPage.getTextContent(),i=[];for(const _ of e.items)i.push(_.str);g.textHighlighter.setTextMapping(d,i),g.textHighlighter.enable()})()}_resetZoomLayer(d=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:d=!1,keepAnnotationLayer:g=!1,keepXfaLayer:e=!1}={}){var M,b;this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:e}),this.renderingState=v.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const _=i.childNodes,m=d&&this.zoomLayer||null,y=g&&(null==(M=this.annotationLayer)?void 0:M.div)||null,x=e&&(null==(b=this.xfaLayer)?void 0:b.div)||null;for(let R=_.length-1;R>=0;R--){const N=_[R];switch(N){case m:case y:case x:continue}N.remove()}i.removeAttribute("data-loaded"),y&&this.annotationLayer.hide(),x&&this.xfaLayer.hide(),m||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(R=>{var N;null==(N=this.loadingIconDiv)||N.setAttribute("aria-label",R)}),i.appendChild(this.loadingIconDiv)}update({scale:d=0,rotation:g=null,optionalContentConfigPromise:e=null}){if(this.scale=d||this.scale,"number"==typeof g&&(this.rotation=g),e instanceof Promise&&(this._optionalContentConfigPromise=e),this.viewport=this.viewport.clone({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:m}=document.documentElement;m.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let _=!1;if(this.canvas&&this.maxCanvasPixels>0){const m=this.outputScale;(Math.floor(this.viewport.width)*m.sx|0)*(Math.floor(this.viewport.height)*m.sy|0)>this.maxCanvasPixels&&(_=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&_)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:d=!1,keepXfaLayer:g=!1}={}){var e;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!d||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(e=this.textHighlighter)||e.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:d,redrawAnnotationLayer:g=!1,redrawXfaLayer:e=!1}){const i=this.viewport.width,_=this.viewport.height,m=this.div;d.style.width=d.parentNode.style.width=m.style.width=Math.floor(i)+"px",d.style.height=d.parentNode.style.height=m.style.height=Math.floor(_)+"px";const y=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,x=Math.abs(y);let M=1,b=1;if((90===x||270===x)&&(M=_/i,b=i/_),d.style.transform=`rotate(${y}deg) scale(${M}, ${b})`,this.textLayer){const R=this.textLayer.viewport,j=Math.abs(this.viewport.rotation-R.rotation);let q=i/R.width;(90===j||270===j)&&(q=i/R.height);const B=this.textLayer.textLayerDiv;let G,$;switch(j){case 0:G=$=0;break;case 90:G=0,$="-"+B.style.height;break;case 180:G="-"+B.style.width,$="-"+B.style.height;break;case 270:G="-"+B.style.width,$=0;break;default:console.error("Bad rotation value.")}B.style.transform=`rotate(${j}deg) scale(${q}) translate(${G}, ${$})`,B.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),e&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(d,g){return this.viewport.convertToPdfPoint(d,g)}toggleLoadingIconSpinner(d=!1){var g;null==(g=this.loadingIconDiv)||g.classList.toggle("notVisible",!d)}draw(){var b,R,N,d=this;this.renderingState!==v.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:e}=this;if(!e)return this.renderingState=v.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=v.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=g.style.width,i.style.height=g.style.height,i.classList.add("canvasWrapper"),(null==(b=this.annotationLayer)?void 0:b.div)?g.insertBefore(i,this.annotationLayer.div):g.appendChild(i);let _=null;if(this.textLayerMode!==v.TextLayerMode.DISABLE&&this.textLayerFactory){const j=document.createElement("div");j.className="textLayer",j.style.width=i.style.width,j.style.height=i.style.height,(null==(R=this.annotationLayer)?void 0:R.div)?g.insertBefore(j,this.annotationLayer.div):g.appendChild(j),_=this.textLayerFactory.createTextLayerBuilder(j,this.id-1,this.viewport,this.textLayerMode===v.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=_,Ae(this,l)!==f.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,e,null,this.imageResourcesPath,Ae(this,l)===f.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(N=this.xfaLayer)?void 0:N.div)&&g.appendChild(this.xfaLayer.div);let m=null;this.renderingQueue&&(m=j=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=v.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=v.RenderingStates.RUNNING,j()});j()});const y=function(){var j=p(function*(q=null){if(x===d.paintTask&&(d.paintTask=null),q instanceof f.RenderingCancelledException)d._renderError=null;else if(d._renderError=q,d.renderingState=v.RenderingStates.FINISHED,d.loadingIconDiv&&(d.loadingIconDiv.remove(),delete d.loadingIconDiv),d._resetZoomLayer(!0),d.eventBus.dispatch("pagerendered",{source:d,pageNumber:d.id,cssTransform:!1,timestamp:performance.now(),error:d._renderError}),q)throw q});return function(){return j.apply(this,arguments)}}(),x=this.renderer===v.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);x.onRenderContinue=m,this.paintTask=x;const M=x.promise.then(()=>y(null).then(()=>{if(_){const j=e.streamTextContent({includeMarkedContent:!0});_.setTextContentStream(j),_.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(j){return y(j)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,e,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=j=>{j.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(q=>{if(!q||!this.canvas)return;const B=this.structTreeLayer.render(q);B.classList.add("structTree"),this.canvas.appendChild(B)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(e)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),M}paintOnCanvas(d){const g=(0,f.createPromiseCapability)(),e={promise:g.promise,onRenderContinue(B){B()},cancel(){q.cancel()}},i=this.viewport,_=document.createElement("canvas");_.hidden=!0;let m=!0;const y=function(){m&&(_.hidden=!1,m=!1)};d.appendChild(_),this.canvas=_;const x=_.getContext("2d",{alpha:!1}),M=this.outputScale=new v.OutputScale;if(this.useOnlyCssZoom){const B=i.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});M.sx*=B.width/i.width,M.sy*=B.height/i.height}if(this.maxCanvasPixels>0){const G=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));M.sx>G||M.sy>G?(M.sx=G,M.sy=G,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const b=(0,v.approximateFraction)(M.sx),R=(0,v.approximateFraction)(M.sy);_.width=(0,v.roundToDivide)(i.width*M.sx,b[0]),_.height=(0,v.roundToDivide)(i.height*M.sy,R[0]),_.style.width=(0,v.roundToDivide)(i.width,b[1])+"px",_.style.height=(0,v.roundToDivide)(i.height,R[1])+"px",this.paintedViewportMap.set(_,i);const j={canvasContext:x,transform:M.scaled?[M.sx,0,0,M.sy,0,0]:null,viewport:this.viewport,annotationMode:Ae(this,l),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},q=this.pdfPage.render(j);return q.onContinue=function(B){y(),e.onRenderContinue?e.onRenderContinue(B):B()},q.promise.then(function(){y(),g.resolve()},function(B){y(),g.reject(B)}),e}paintOnSvg(d){let g=!1;const e=()=>{if(g)throw new f.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,_=this.viewport.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:Ae(this,l)}).then(y=>(e(),new f.SVGGraphics(i.commonObjs,i.objs).getSVG(y,_).then(M=>{e(),this.svg=M,this.paintedViewportMap.set(M,_),M.style.width=d.style.width,M.style.height=d.style.height,this.renderingState=v.RenderingStates.FINISHED,d.appendChild(M)}))),onRenderContinue(y){y()},cancel(){g=!0}}}setPageLabel(d){this.pageLabel="string"==typeof d?d:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(D,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.compatibilityParams=c.OptionKind=c.AppOptions=void 0;const E=Object.create(null);c.compatibilityParams=E;{const r=navigator.userAgent||"",t=navigator.platform||"",l=navigator.maxTouchPoints||1,C=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===t&&l>1||C)&&(E.maxCanvasPixels=5242880)}const f={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};c.OptionKind=f;const v={annotationMode:{value:2,kind:f.VIEWER+f.PREFERENCE},cursorToolOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:f.VIEWER},defaultZoomValue:{value:"",kind:f.VIEWER+f.PREFERENCE},disableHistory:{value:!1,kind:f.VIEWER},disablePageLabels:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePermissions:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:f.VIEWER+f.PREFERENCE},enableScripting:{value:!0,kind:f.VIEWER+f.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:f.VIEWER},externalLinkTarget:{value:0,kind:f.VIEWER+f.PREFERENCE},historyUpdateUrl:{value:!1,kind:f.VIEWER+f.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},imageResourcesPath:{value:"./images/",kind:f.VIEWER},maxCanvasPixels:{value:16777216,compatibility:E.maxCanvasPixels,kind:f.VIEWER},pageColorsBackground:{value:"Canvas",kind:f.VIEWER+f.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:f.VIEWER+f.PREFERENCE},pdfBugEnabled:{value:!1,kind:f.VIEWER+f.PREFERENCE},printResolution:{value:150,kind:f.VIEWER},renderer:{value:"canvas",kind:f.VIEWER},sidebarViewOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},scrollModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},spreadModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},textLayerMode:{value:1,kind:f.VIEWER+f.PREFERENCE},useOnlyCssZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},viewerCssTheme:{value:0,kind:f.VIEWER+f.PREFERENCE},viewOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},cMapPacked:{value:!0,kind:f.API},cMapUrl:{value:"../web/cmaps/",kind:f.API},disableAutoFetch:{value:!1,kind:f.API+f.PREFERENCE},disableFontFace:{value:!1,kind:f.API+f.PREFERENCE},disableRange:{value:!1,kind:f.API+f.PREFERENCE},disableStream:{value:!1,kind:f.API+f.PREFERENCE},docBaseUrl:{value:"",kind:f.API},enableXfa:{value:!0,kind:f.API+f.PREFERENCE},fontExtraProperties:{value:!1,kind:f.API},isEvalSupported:{value:!0,kind:f.API},maxImageSize:{value:-1,kind:f.API},pdfBug:{value:!1,kind:f.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:f.API},verbosity:{value:1,kind:f.API},workerPort:{value:null,kind:f.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:f.WORKER}};v.disablePreferences={value:!1,kind:f.VIEWER},v.locale={value:navigator.language||"en-US",kind:f.VIEWER},v.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:f.VIEWER},v.renderer.kind+=f.PREFERENCE;const P=Object.create(null);c.AppOptions=class a{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){var d;const l=P[t];if(void 0!==l)return l;const C=v[t];return void 0!==C?null!=(d=C.compatibility)?d:C.value:void 0}static getAll(t=null){var C;const l=Object.create(null);for(const d in v){const g=v[d];if(t){if(0==(t&g.kind))continue;if(t===f.PREFERENCE){const i=g.value,_=typeof i;if("boolean"===_||"string"===_||"number"===_&&Number.isInteger(i)){l[d]=i;continue}throw new Error(`Invalid type for preference: ${d}`)}}const e=P[d];l[d]=void 0!==e?e:null!=(C=g.compatibility)?C:g.value}return l}static set(t,l){P[t]=l}static setAll(t){for(const l in t)P[l]=t[l]}static remove(t){delete P[t]}static _hasUserOptions(){return Object.keys(P).length>0}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFRenderingQueue=void 0;var f=E(3),v=E(6);c.PDFRenderingQueue=class a{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(t){var l;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(t)&&(this.isThumbnailViewEnabled&&(null==(l=this.pdfThumbnailViewer)?void 0:l.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(t,l,C,d=!1){const g=t.views,e=g.length;if(0===e)return null;for(let x=0;x<e;x++){const M=g[x].view;if(!this.isViewFinished(M))return M}const i=t.first.id,_=t.last.id;if(_-i+1>e){const x=t.ids;for(let M=1,b=_-i;M<b;M++){const R=C?i+M:_-M;if(x.has(R))continue;const N=l[R-1];if(!this.isViewFinished(N))return N}}let m=C?_:i-2,y=l[m];return y&&!this.isViewFinished(y)||d&&(m+=C?1:-1,y=l[m],y&&!this.isViewFinished(y))?y:null}isViewFinished(t){return t.renderingState===v.RenderingStates.FINISHED}renderView(t){switch(t.renderingState){case v.RenderingStates.FINISHED:return!1;case v.RenderingStates.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case v.RenderingStates.RUNNING:this.highestPriorityPage=t.renderingId;break;case v.RenderingStates.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(l=>{l instanceof f.RenderingCancelledException||console.error(`renderView: "${l}"`)})}return!0}}},(D,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextHighlighter=void 0,c.TextHighlighter=class E{constructor({findController:v,eventBus:P,pageIndex:a}){this.findController=v,this.matches=[],this.eventBus=P,this.pageIdx=a,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(v,P){this.textDivs=v,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=v=>{(v.pageIndex===this.pageIdx||-1===v.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(v,P){if(!v)return[];const{textContentItemsStr:a}=this;let r=0,t=0;const l=a.length-1,C=[];for(let d=0,g=v.length;d<g;d++){let e=v[d];for(;r!==l&&e>=t+a[r].length;)t+=a[r].length,r++;r===a.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:r,offset:e-t}};for(e+=P[d];r!==l&&e>t+a[r].length;)t+=a[r].length,r++;i.end={divIdx:r,offset:e-t},C.push(i)}return C}_renderMatches(v){if(0===v.length)return;const{findController:P,pageIdx:a}=this,{textContentItemsStr:r,textDivs:t}=this,l=a===P.selected.pageIdx,C=P.selected.matchIdx;let g=null;function i(x,M){const b=x.divIdx;return t[b].textContent="",_(b,0,x.offset,M)}function _(x,M,b,R){let N=t[x];if(N.nodeType===Node.TEXT_NODE){const B=document.createElement("span");N.parentNode.insertBefore(B,N),B.appendChild(N),t[x]=B,N=B}const j=r[x].substring(M,b),q=document.createTextNode(j);if(R){const B=document.createElement("span");return B.className=`${R} appended`,B.appendChild(q),N.appendChild(B),R.includes("selected")?B.offsetLeft:0}return N.appendChild(q),0}let m=C,y=m+1;if(P.state.highlightAll)m=0,y=v.length;else if(!l)return;for(let x=m;x<y;x++){const M=v[x],b=M.begin,R=M.end,N=l&&x===C,j=N?" selected":"";let q=0;if(g&&b.divIdx===g.divIdx?_(g.divIdx,g.offset,b.offset):(null!==g&&_(g.divIdx,g.offset,undefined),i(b)),b.divIdx===R.divIdx)q=_(b.divIdx,b.offset,R.offset,"highlight"+j);else{q=_(b.divIdx,b.offset,undefined,"highlight begin"+j);for(let B=b.divIdx+1,G=R.divIdx;B<G;B++)t[B].className="highlight middle"+j;i(R,"highlight end"+j)}g=R,N&&P.scrollMatchIntoView({element:t[b.divIdx],selectedLeft:q,pageIndex:a,matchIndex:C})}g&&_(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:v,matches:P,pageIdx:a}=this,{textContentItemsStr:r,textDivs:t}=this;let l=-1;for(let g=0,e=P.length;g<e;g++){const i=P[g];for(let m=Math.max(l,i.begin.divIdx),y=i.end.divIdx;m<=y;m++){const x=t[m];x.textContent=r[m],x.className=""}l=i.end.divIdx+1}(null==v?void 0:v.highlightMatches)&&(this.matches=this._convertMatches(v.pageMatches[a]||null,v.pageMatchesLength[a]||null),this._renderMatches(this.matches))}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DownloadManager=void 0;var f=E(3);function v(a,r){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=a,t.target="_parent","download"in t&&(t.download=r),(document.body||document.documentElement).appendChild(t),t.click(),t.remove()}c.DownloadManager=class P{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,t){(0,f.createValidAbsoluteUrl)(r,"http://example.com")?v(r+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,t,l){v(URL.createObjectURL(new Blob([r],{type:l})),t)}openOrDownloadData(r,t,l){const C=(0,f.isPdfFile)(l),d=C?"application/pdf":"";if(C){let e,g=this._openBlobUrls.get(r);g||(g=URL.createObjectURL(new Blob([t],{type:d})),this._openBlobUrls.set(r,g)),e="?file="+encodeURIComponent(g+"#"+l);try{return window.open(e),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(r)}}return this.downloadData(t,l,d),!1}download(r,t,l,C="download"){v(URL.createObjectURL(r),l)}}},(D,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WaitOnType=c.EventBus=c.AutomationEventBus=void 0,c.waitOnEventOrTimeout=function f({target:a,name:r,delay:t=0}){return new Promise(function(l,C){if("object"!=typeof a||!r||"string"!=typeof r||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(_){a instanceof v?a._off(r,g):a.removeEventListener(r,g),i&&clearTimeout(i),l(_)}const g=d.bind(null,E.EVENT);a instanceof v?a._on(r,g):a.addEventListener(r,g);const e=d.bind(null,E.TIMEOUT),i=setTimeout(e,t)})};const E={EVENT:"event",TIMEOUT:"timeout"};c.WaitOnType=E;class v{constructor(){this._listeners=Object.create(null)}on(r,t,l=null){this._on(r,t,{external:!0,once:null==l?void 0:l.once})}off(r,t,l=null){this._off(r,t,{external:!0,once:null==l?void 0:l.once})}dispatch(r,t){const l=this._listeners[r];if(!l||0===l.length)return;let C;for(const{listener:d,external:g,once:e}of l.slice(0))e&&this._off(r,d),g?(C||(C=[])).push(d):d(t);if(C){for(const d of C)d(t);C=null}}_on(r,t,l=null){var d;((d=this._listeners)[r]||(d[r]=[])).push({listener:t,external:!0===(null==l?void 0:l.external),once:!0===(null==l?void 0:l.once)})}_off(r,t,l=null){const C=this._listeners[r];if(C)for(let d=0,g=C.length;d<g;d++)if(C[d].listener===t)return void C.splice(d,1)}}c.EventBus=v,c.AutomationEventBus=class P extends v{dispatch(r,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericL10n=void 0,E(19);var f=E(4);const v=document.webL10n;c.GenericL10n=class P{constructor(r){this._lang=r,this._ready=new Promise((t,l)=>{v.setLanguage((0,f.fixupLangCode)(r),()=>{t(v)})})}getLanguage(){var r=this;return p(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return p(function*(){return(yield r._ready).getDirection()})()}get(r,t=null,l=(0,f.getL10nFallback)(r,t)){var C=this;return p(function*(){return(yield C._ready).get(r,t,l)})()}translate(r){var t=this;return p(function*(){return(yield t._ready).translate(r)})()}}},()=>{document.webL10n=function(D,c,E){var f={},v="",P="textContent",a="",r={},t="loading";function i(B,G,$){G=G||function(L){},$=$||function(){};var te=new XMLHttpRequest;te.open("GET",B,!0),te.overrideMimeType&&te.overrideMimeType("text/plain; charset=utf-8"),te.onreadystatechange=function(){4==te.readyState&&(200==te.status||0===te.status?G(te.responseText):$())},te.onerror=$,te.ontimeout=$;try{te.send(null)}catch(ae){$()}}function m(B,G){B&&(B=B.toLowerCase()),G=G||function(){},function y(){f={},v="",a=""}(),a=B;var $=function C(){return c.querySelectorAll('link[type="application/l10n"]')}(),te=$.length;if(0!==te){var h,n=0;h=function(){++n>=te&&(G(),t="complete")};for(var u=0;u<te;u++)new o($[u]).load(B,h)}else{var ae=function d(){var B=c.querySelector('script[type="application/l10n"]');return B?JSON.parse(B.innerHTML):null}();if(ae&&ae.locales&&ae.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(f=ae.locales[B])){var L=ae.default_locale.toLowerCase();for(var s in ae.locales){if((s=s.toLowerCase())===B){f=ae.locales[B];break}s===L&&(f=ae.locales[L])}}G()}else console.log("no resource to load, early way out");t="complete"}function o(A){var T=A.href;this.load=function(V,W){!function _(B,G,$,te){var ae=B.replace(/[^\/]*$/,"")||"./";function L(h){return h.lastIndexOf("\\")<0?h:h.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(B,function(h){v+=h,function s(h,n){var o={},u=/^\s*|\s*$/,S=/^\s*#|^\s*$/,A=/^\s*\[(.*)\]\s*$/,T=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function W(H,X,Q){var le=H.replace(u,"").split(/[\r\n]+/),_e="*",J=G.split("-",1)[0],re=!1,ie="";!function w(){for(;;){if(!le.length)return void Q();var I=le.shift();if(!S.test(I)){if(X){if(ie=A.exec(I)){_e=ie[1].toLowerCase(),re="*"!==_e&&_e!==G&&_e!==J;continue}if(re)continue;if(ie=T.exec(I))return void U(ae+ie[1],w)}var z=I.match(V);z&&3==z.length&&(o[z[1]]=L(z[2]))}}}()}function U(H,X){i(H,function(Q){W(Q,!1,X)},function(){console.warn(H+" not found."),X()})}W(h,!0,function(){n(o)})}(h,function(n){for(var o in n){var u,S,A=o.lastIndexOf(".");A>0?(u=o.substring(0,A),S=o.substring(A+1)):(u=o,S=P),f[u]||(f[u]={}),f[u][S]=n[o]}$&&$()})},te)}(T,V,W,function(){console.warn(T+" not found."),console.warn('"'+V+'" resource not found'),a="",W()})}}}function M(B,G,$){var te=f[B];if(!te){if(console.warn("#"+B+" is undefined."),!$)return null;te=$}var ae={};for(var L in te){var s=te[L];s=R(s=b(s,G,B,L),G,B),ae[L]=s}return ae}function b(B,G,$,te){var L=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(B);if(!L||!L.length)return B;var n,s=L[1],h=L[2];return G&&h in G?n=G[h]:h in f&&(n=f[h]),s in r&&(B=(0,r[s])(B,n,$,te)),B}function R(B,G,$){return B.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ae,L){return G&&L in G?G[L]:L in f?f[L]:(console.log("argument {{"+L+"}} for #"+$+" is undefined."),ae)})}function N(B){var G=function e(B){if(!B)return{};var G=B.getAttribute("data-l10n-id"),$=B.getAttribute("data-l10n-args"),te={};if($)try{te=JSON.parse($)}catch(ae){console.warn("could not parse arguments for #"+G)}return{id:G,args:te}}(B);if(G.id){var $=M(G.id,G.args);if(!$)return void console.warn("#"+G.id+" is undefined.");if($[P]){if(0===function j(B){if(B.children)return B.children.length;if(void 0!==B.childElementCount)return B.childElementCount;for(var G=0,$=0;$<B.childNodes.length;$++)G+=1===B.nodeType?1:0;return G}(B))B[P]=$[P];else{for(var te=B.childNodes,ae=!1,L=0,s=te.length;L<s;L++)3===te[L].nodeType&&/\S/.test(te[L].nodeValue)&&(ae?te[L].nodeValue="":(te[L].nodeValue=$[P],ae=!0));if(!ae){var h=c.createTextNode($[P]);B.insertBefore(h,B.firstChild)}}delete $[P]}for(var n in $)B[n]=$[n]}}return r.plural=function(B,G,$,te){var ae=parseFloat(G);if(isNaN(ae)||te!=P)return B;r._pluralRules||(r._pluralRules=function x(B){function $(s,h){return-1!==h.indexOf(s)}function te(s,h,n){return h<=s&&s<=n}var ae={0:function(s){return"other"},1:function(s){return te(s%100,3,10)?"few":0===s?"zero":te(s%100,11,99)?"many":2==s?"two":1==s?"one":"other"},2:function(s){return 0!==s&&s%10==0?"many":2==s?"two":1==s?"one":"other"},3:function(s){return 1==s?"one":"other"},4:function(s){return te(s,0,1)?"one":"other"},5:function(s){return te(s,0,2)&&2!=s?"one":"other"},6:function(s){return 0===s?"zero":s%10==1&&s%100!=11?"one":"other"},7:function(s){return 2==s?"two":1==s?"one":"other"},8:function(s){return te(s,3,6)?"few":te(s,7,10)?"many":2==s?"two":1==s?"one":"other"},9:function(s){return 0===s||1!=s&&te(s%100,1,19)?"few":1==s?"one":"other"},10:function(s){return te(s%10,2,9)&&!te(s%100,11,19)?"few":s%10!=1||te(s%100,11,19)?"other":"one"},11:function(s){return te(s%10,2,4)&&!te(s%100,12,14)?"few":s%10==0||te(s%10,5,9)||te(s%100,11,14)?"many":s%10==1&&s%100!=11?"one":"other"},12:function(s){return te(s,2,4)?"few":1==s?"one":"other"},13:function(s){return te(s%10,2,4)&&!te(s%100,12,14)?"few":1!=s&&te(s%10,0,1)||te(s%10,5,9)||te(s%100,12,14)?"many":1==s?"one":"other"},14:function(s){return te(s%100,3,4)?"few":s%100==2?"two":s%100==1?"one":"other"},15:function(s){return 0===s||te(s%100,2,10)?"few":te(s%100,11,19)?"many":1==s?"one":"other"},16:function(s){return s%10==1&&11!=s?"one":"other"},17:function(s){return 3==s?"few":0===s?"zero":6==s?"many":2==s?"two":1==s?"one":"other"},18:function(s){return 0===s?"zero":te(s,0,2)&&0!==s&&2!=s?"one":"other"},19:function(s){return te(s,2,10)?"few":te(s,0,1)?"one":"other"},20:function(s){return!te(s%10,3,4)&&s%10!=9||te(s%100,10,19)||te(s%100,70,79)||te(s%100,90,99)?s%1e6==0&&0!==s?"many":s%10!=2||$(s%100,[12,72,92])?s%10!=1||$(s%100,[11,71,91])?"other":"one":"two":"few"},21:function(s){return 0===s?"zero":1==s?"one":"other"},22:function(s){return te(s,0,1)||te(s,11,99)?"one":"other"},23:function(s){return te(s%10,1,2)||s%20==0?"one":"other"},24:function(s){return te(s,3,10)||te(s,13,19)?"few":$(s,[2,12])?"two":$(s,[1,11])?"one":"other"}},L={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[B.replace(/-.*$/,"")];return L in ae?ae[L]:(console.warn("plural form unknown for ["+B+"]"),function(){return"other"})}(a));var L="["+r._pluralRules(ae)+"]";return 0===ae&&$+"[zero]"in f?B=f[$+"[zero]"][te]:1==ae&&$+"[one]"in f?B=f[$+"[one]"][te]:2==ae&&$+"[two]"in f?B=f[$+"[two]"][te]:$+L in f?B=f[$+L][te]:$+"[other]"in f&&(B=f[$+"[other]"][te]),B},{get:function(B,G,$){var L,te=B.lastIndexOf("."),ae=P;te>0&&(ae=B.substring(te+1),B=B.substring(0,te)),$&&((L={})[ae]=$);var s=M(B,G,L);return s&&ae in s?s[ae]:"{{"+B+"}}"},getData:function(){return f},getText:function(){return v},getLanguage:function(){return a},setLanguage:function(B,G){m(B,function(){G&&G()})},getDirection:function(){var G=a.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(G)>=0?"rtl":"ltr"},translate:function q(B){for(var G=function g(B){return B?B.querySelectorAll("*[data-l10n-id]"):[]}(B=B||c.documentElement),$=G.length,te=0;te<$;te++)N(G[te]);N(B)},getReadyState:function(){return t},ready:function(B){B&&("complete"==t||"interactive"==t?D.setTimeout(function(){B()}):c.addEventListener&&c.addEventListener("localized",function G(){c.removeEventListener("localized",G),B()}))}}}(window,document)},(D,c,E)=>{var R,xt,j,ot,B,lt,$,Et,ae,Tt,s,Mt,n,ct,u,Lt,A,kt,V,Je,U,Ge,X,je,le,Rt,J,ht,ie,ut,I,Ze,ue,Ft,fe,dt,be,Ot,Ce,ze;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFindController=c.FindState=void 0;var f=E(6),v=E(3),P=E(21);const a={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};c.FindState=a;const C={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[...d.values()].map(Z=>String.fromCharCode(Z)).join(""),e=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,_=/([^\p{M}])\p{M}*$/u,m=/^\p{M}*([^\p{M}])/u;let y=null;function x(Z){if(!y){const xe=Object.keys(C).join("");y=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const F=[];let O;for(;null!==(O=e.exec(Z));)F.push([O[0].length,O.index]);let se=Z.normalize("NFD");const he=[[0,0]];let pe=0,ge=0,Pe=0,we=0,Me=!1;return se=se.replace(y,(xe,Re,ke,Ie,Le,Oe)=>{var Be;if(Oe-=Pe,Re){const Ne=C[xe],Ve=Ne.length;for(let De=1;De<Ve;De++)he.push([Oe-ge+De,ge-De]);return ge-=Ve-1,Ne}if(ke){const Ne=ke.endsWith("\n"),Ve=Ne?ke.length-2:ke.length;Me=!0;let De=Ve;Oe+we===(null==(Be=F[pe])?void 0:Be[1])&&(De-=F[pe][0],++pe);for(let Fe=1;Fe<De+1;Fe++)he.push([Oe-1-ge+Fe,ge-Fe]);return ge-=De,Pe+=De,Ne?(he.push([(Oe+=Ve-1)-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,ke.slice(0,Ve)):ke}return Ie?(he.push([Oe-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,Ie.charAt(0)):(he.push([Oe-ge+1,ge-1]),ge-=1,Pe+=1,we+=1," ")}),he.push([se.length,ge]),[se,he,Me]}function M(Z,F,O){if(!Z)return[F,O];const se=F,he=F+O;let pe=(0,f.binarySearchFirstItem)(Z,Pe=>Pe[0]>=se);Z[pe][0]>se&&--pe;let ge=(0,f.binarySearchFirstItem)(Z,Pe=>Pe[0]>=he,pe);return Z[ge][0]>he&&--ge,[se+Z[pe][1],O+Z[ge][1]-Z[pe][1]]}R=new WeakSet,xt=function(F){if(!F)return;const O=this._pdfDocument,{type:se}=F;(null===this._state||ye(this,$,Et).call(this,F))&&(this._dirtyMatch=!0),this._state=F,"highlightallchange"!==se&&ye(this,Ce,ze).call(this,a.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;ye(this,A,kt).call(this);const he=!this._highlightMatches,pe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),se?this._dirtyMatch?ye(this,X,je).call(this):"again"===se?(ye(this,X,je).call(this),he&&this._state.highlightAll&&ye(this,U,Ge).call(this)):"highlightallchange"===se?(pe?ye(this,X,je).call(this):this._highlightMatches=!0,ye(this,U,Ge).call(this)):ye(this,X,je).call(this):this._findTimeout=setTimeout(()=>{ye(this,X,je).call(this),this._findTimeout=null},250)})},j=new WeakSet,ot=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,v.createPromiseCapability)()},B=new WeakSet,lt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=x(this._state.query)),this._normalizedQuery},$=new WeakSet,Et=function(F){if(F.query!==this._state.query)return!0;switch(F.type){case"again":const O=this._selected.pageIdx+1,se=this._linkService;return O>=1&&O<=se.pagesCount&&O!==se.page&&!se.isPageVisible(O);case"highlightallchange":return!1}return!0},ae=new WeakSet,Tt=function(F,O,se){let he=F.slice(0,O).match(_);if(he){const pe=F.charCodeAt(O),ge=he[1].charCodeAt(0);if((0,P.getCharacterType)(pe)===(0,P.getCharacterType)(ge))return!1}if(he=F.slice(O+se).match(m),he){const pe=F.charCodeAt(O+se-1),ge=he[1].charCodeAt(0);if((0,P.getCharacterType)(pe)===(0,P.getCharacterType)(ge))return!1}return!0},s=new WeakSet,Mt=function(F,O,se,he){const pe=[],ge=[],Pe=this._pageDiffs[se];let we;for(;null!==(we=F.exec(he));){if(O&&!ye(this,ae,Tt).call(this,he,we.index,we[0].length))continue;const[Me,xe]=M(Pe,we.index,we[0].length);xe&&(pe.push(Me),ge.push(xe))}this._pageMatches[se]=pe,this._pageMatchesLength[se]=ge},n=new WeakSet,ct=function(F,O){const{matchDiacritics:se}=this._state;let he=!1;return(F=F.replace(i,(ge,Pe,we,Me,xe,Re)=>Pe?`[ ]*\\${Pe}[ ]*`:we?`[ ]*${we}[ ]*`:Me?"[ ]+":se?xe||Re:xe?d.has(xe.charCodeAt(0))?xe:"":O?(he=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(F=F.slice(0,F.length-"[ ]*".length)),se&&O&&(he=!0,F=`${F}(?=[${g}]|[^\\p{M}]|$)`),[he,F]},u=new WeakSet,Lt=function(F){let O=Ae(this,B,lt);if(0===O.length)return;const{caseSensitive:se,entireWord:he,phraseSearch:pe}=this._state,ge=this._pageContents[F],Pe=this._hasDiacritics[F];let we=!1;if(pe)[we,O]=ye(this,n,ct).call(this,O,Pe);else{const Re=O.match(/\S+/g);Re&&(O=Re.sort().reverse().map(ke=>{const[Ie,Le]=ye(this,n,ct).call(this,ke,Pe);return we||(we=Ie),`(${Le})`}).join("|"))}O=new RegExp(O,`g${we?"u":""}${se?"":"i"}`),ye(this,s,Mt).call(this,O,he,F,ge),this._state.highlightAll&&ye(this,V,Je).call(this,F),this._resumePageIdx===F&&(this._resumePageIdx=null,ye(this,J,ht).call(this));const xe=this._pageMatches[F].length;xe>0&&(this._matchesCountTotal+=xe,ye(this,be,Ot).call(this))},A=new WeakSet,kt=function(){if(this._extractTextPromises.length>0)return;let F=Promise.resolve();for(let O=0,se=this._linkService.pagesCount;O<se;O++){const he=(0,v.createPromiseCapability)();this._extractTextPromises[O]=he.promise,F=F.then(()=>this._pdfDocument.getPage(O+1).then(pe=>pe.getTextContent()).then(pe=>{const ge=[];for(const Pe of pe.items)ge.push(Pe.str),Pe.hasEOL&&ge.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=x(ge.join("")),he.resolve()},pe=>{console.error(`Unable to get text content for page ${O+1}`,pe),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,he.resolve()}))}},V=new WeakSet,Je=function(F){this._scrollMatches&&this._selected.pageIdx===F&&(this._linkService.page=F+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:F})},U=new WeakSet,Ge=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},X=new WeakSet,je=function(){const F=this._state.findPrevious,O=this._linkService.page-1,se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ye(this,U,Ge).call(this);for(let pe=0;pe<se;pe++)this._pendingFindMatches.has(pe)||(this._pendingFindMatches.add(pe),this._extractTextPromises[pe].then(()=>{this._pendingFindMatches.delete(pe),ye(this,u,Lt).call(this,pe)}))}if(""===Ae(this,B,lt))return void ye(this,Ce,ze).call(this,a.FOUND);if(this._resumePageIdx)return;const he=this._offset;if(this._pagesToSearch=se,null!==he.matchIdx){const pe=this._pageMatches[he.pageIdx].length;if(!F&&he.matchIdx+1<pe||F&&he.matchIdx>0)return he.matchIdx=F?he.matchIdx-1:he.matchIdx+1,void ye(this,I,Ze).call(this,!0);ye(this,ie,ut).call(this,F)}ye(this,J,ht).call(this)},le=new WeakSet,Rt=function(F){const O=this._offset,se=F.length,he=this._state.findPrevious;return se?(O.matchIdx=he?se-1:0,ye(this,I,Ze).call(this,!0),!0):(ye(this,ie,ut).call(this,he),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(ye(this,I,Ze).call(this,!1),!0))},J=new WeakSet,ht=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let F=null;do{const O=this._offset.pageIdx;if(F=this._pageMatches[O],!F){this._resumePageIdx=O;break}}while(!ye(this,le,Rt).call(this,F))},ie=new WeakSet,ut=function(F){const O=this._offset,se=this._linkService.pagesCount;O.pageIdx=F?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=se||O.pageIdx<0)&&(O.pageIdx=F?se-1:0,O.wrapped=!0)},I=new WeakSet,Ze=function(F=!1){let O=a.NOT_FOUND;const se=this._offset.wrapped;if(this._offset.wrapped=!1,F){const he=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=se?a.WRAPPED:a.FOUND,-1!==he&&he!==this._selected.pageIdx&&ye(this,V,Je).call(this,he)}ye(this,Ce,ze).call(this,O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ye(this,V,Je).call(this,this._selected.pageIdx))},ue=new WeakSet,Ft=function(F){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ye(this,Ce,ze).call(this,a.FOUND),this._highlightMatches=!1,ye(this,U,Ge).call(this))})},fe=new WeakSet,dt=function(){var pe;const{pageIdx:F,matchIdx:O}=this._selected;let se=0,he=this._matchesCountTotal;if(-1!==O){for(let ge=0;ge<F;ge++)se+=(null==(pe=this._pageMatches[ge])?void 0:pe.length)||0;se+=O+1}return(se<1||se>he)&&(se=he=0),{current:se,total:he}},be=new WeakSet,Ot=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ye(this,fe,dt).call(this)})},Ce=new WeakSet,ze=function(F,O=!1){var se,he;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:F,previous:O,matchesCount:ye(this,fe,dt).call(this),rawQuery:null!=(he=null==(se=this._state)?void 0:se.query)?he:null})},c.PDFFindController=class b{constructor({linkService:F,eventBus:O}){ve(this,R),ve(this,j),ve(this,B),ve(this,$),ve(this,ae),ve(this,s),ve(this,n),ve(this,u),ve(this,A),ve(this,V),ve(this,U),ve(this,X),ve(this,le),ve(this,J),ve(this,ie),ve(this,I),ve(this,ue),ve(this,fe),ve(this,be),ve(this,Ce),this._linkService=F,this._eventBus=O,ye(this,j,ot).call(this),O._on("find",ye(this,R,xt).bind(this)),O._on("findbarclose",ye(this,ue,Ft).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(F){this._pdfDocument&&ye(this,j,ot).call(this),F&&(this._pdfDocument=F,this._firstPageCapability.resolve())}scrollMatchIntoView({element:F=null,selectedLeft:O=0,pageIndex:se=-1,matchIndex:he=-1}){this._scrollMatches&&F&&-1!==he&&he===this._selected.matchIdx&&-1!==se&&se===this._selected.pageIdx&&(this._scrollMatches=!1,(0,f.scrollIntoView)(F,{top:-50,left:O+-400},!0))}}},(D,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterType=void 0,c.getCharacterType=function e(i){return function f(i){return i<11904}(i)?function v(i){return 0==(65408&i)}(i)?function r(i){return 32===i||9===i||13===i||10===i}(i)?E.SPACE:function P(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function a(i){return i>=48&&i<=57}(i)||95===i?E.ALPHA_LETTER:E.PUNCT:function g(i){return 3584==(65408&i)}(i)?E.THAI_LETTER:160===i?E.SPACE:E.ALPHA_LETTER:function t(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?E.HAN_LETTER:function l(i){return i>=12448&&i<=12543}(i)?E.KATAKANA_LETTER:function C(i){return i>=12352&&i<=12447}(i)?E.HIRAGANA_LETTER:function d(i){return i>=65376&&i<=65439}(i)?E.HALFWIDTH_KATAKANA_LETTER:E.ALPHA_LETTER};const E={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};c.CharacterType=E},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFHistory=void 0,c.isDestArraysEqual=d,c.isDestHashesEqual=C;var f=E(6),v=E(17);function t(){return document.location.hash}function C(g,e){return"string"==typeof g&&"string"==typeof e&&(g===e||(0,f.parseQueryString)(g).get("nameddest")===e)}function d(g,e){function i(_,m){if(typeof _!=typeof m||Array.isArray(_)||Array.isArray(m))return!1;if(null!==_&&"object"==typeof _&&null!==m){if(Object.keys(_).length!==Object.keys(m).length)return!1;for(const y in _)if(!i(_[y],m[y]))return!1;return!0}return _===m||Number.isNaN(_)&&Number.isNaN(m)}if(!Array.isArray(g)||!Array.isArray(e)||g.length!==e.length)return!1;for(let _=0,m=g.length;_<m;_++)if(!i(g[_],e[_]))return!1;return!0}c.PDFHistory=class l{constructor({linkService:e,eventBus:i}){this.linkService=e,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",_=>{this._isPagesLoaded=!!_.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:i=!1,updateUrl:_=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const m=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===_,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=t(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||i){const{hash:M,page:b,rotation:R}=this._parseCurrentHash(!0);return!M||m||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:M,page:b,rotation:R},!0)}const x=y.destination;this._updateInternalState(x,y.uid,!0),void 0!==x.rotation&&(this._initialRotation=x.rotation),x.dest?(this._initialBookmark=JSON.stringify(x.dest),this._destination.page=null):x.hash?this._initialBookmark=x.hash:x.page&&(this._initialBookmark=`page=${x.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:i,pageNumber:_}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(_)&&(null!==_||this._destination))return void console.error(`PDFHistory.push: "${_}" is not a valid pageNumber parameter.`);const m=e||JSON.stringify(i);if(!m)return;let y=!1;if(this._destination&&(C(this._destination.hash,m)||d(this._destination.dest,i))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:i,hash:m,page:_,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var i;if(this._initialized){if(!this._isValidPage(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,i=!1){const _=i||!this._destination,m={fingerprint:this._fingerprint,uid:_?this._uid:this._uid+1,destination:e};let y;if(this._updateInternalState(e,m.uid),this._updateUrl&&(null==e?void 0:e.hash)){const x=document.location.href.split("#")[0];x.startsWith("file://")||(y=`${x}#${e.hash}`)}_?window.history.replaceState(m,"",y):window.history.pushState(m,"",y)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let i=this._position;if(e&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let _=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;_=!0}this._pushOrReplaceState(i,_)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,i=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[_]=performance.getEntriesByType("navigation");if("reload"!==(null==_?void 0:_.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}_updateInternalState(e,i,_=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),_&&(null==e?void 0:e.temporary)&&delete e.temporary,this._destination=e,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const i=unescape(t()).substring(1),_=(0,f.parseQueryString)(i),m=_.get("nameddest")||"";let y=0|_.get("page");return(!this._isValidPage(y)||e&&m.length>0)&&(y=null),{hash:i,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const i=t(),_=this._currentHash!==i;if(this._currentHash=i,!e){this._uid++;const{hash:y,page:x,rotation:M}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:y,page:x,rotation:M},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,_&&(this._blockHashChange++,(0,v.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const m=e.destination;this._updateInternalState(m,e.uid,!0),(0,f.isValidRotation)(m.rotation)&&(this.linkService.rotation=m.rotation),m.dest?this.linkService.goToDestination(m.dest):m.hash?this.linkService.setHash(m.hash):m.page&&(this.linkService.page=m.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var f=E(6),v=E(3);c.PDFScriptingManager=class P{constructor({eventBus:r,sandboxBundleSrc:t=null,scriptingFactory:l=null,docPropertiesLookup:C=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=t,this._scriptingFactory=l,this._docPropertiesLookup=C,this._scriptingFactory||window.addEventListener("updatefromsandbox",d=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:d.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var t=this;return p(function*(){var g;if(t._pdfDocument&&(yield t._destroyScripting()),t._pdfDocument=r,!r)return;const[l,C,d]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(l||d){if(r===t._pdfDocument){try{t._scripting=t._createScripting()}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield t._destroyScripting())}t._internalEvents.set("updatefromsandbox",e=>{(null==e?void 0:e.source)===window&&t._updateFromSandbox(e.detail)}),t._internalEvents.set("dispatcheventinsandbox",e=>{var i;null==(i=t._scripting)||i.dispatchEventInSandbox(e.detail)}),t._internalEvents.set("pagechanging",({pageNumber:e,previous:i})=>{e!==i&&(t._dispatchPageClose(i),t._dispatchPageOpen(e))}),t._internalEvents.set("pagerendered",({pageNumber:e})=>{!t._pageOpenPending.has(e)||e===t._pdfViewer.currentPageNumber&&t._dispatchPageOpen(e)}),t._internalEvents.set("pagesdestroy",function(){var e=p(function*(i){var _,m;yield t._dispatchPageClose(t._pdfViewer.currentPageNumber),yield null==(_=t._scripting)?void 0:_.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(m=t._closeCapability)||m.resolve()});return function(i){return e.apply(this,arguments)}}()),t._domEvents.set("mousedown",e=>{t._mouseState.isDown=!0}),t._domEvents.set("mouseup",e=>{t._mouseState.isDown=!1});for(const[e,i]of t._internalEvents)t._eventBus._on(e,i);for(const[e,i]of t._domEvents)window.addEventListener(e,i,!0);try{const e=yield t._getDocProperties();if(r!==t._pdfDocument)return;yield t._scripting.createSandbox({objects:l,calculationOrder:C,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ye($e({},e),{actions:d})}),t._eventBus.dispatch("sandboxcreated",{source:t})}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield t._destroyScripting())}yield null==(g=t._scripting)?void 0:g.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t._dispatchPageOpen(t._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===t._pdfDocument&&(t._ready=!0)})}}else yield t._destroyScripting()})()}dispatchWillSave(r){var t=this;return p(function*(){var l;return null==(l=t._scripting)?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var t=this;return p(function*(){var l;return null==(l=t._scripting)?void 0:l.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var t=this;return p(function*(){var l;return null==(l=t._scripting)?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var t=this;return p(function*(){var l;return null==(l=t._scripting)?void 0:l.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var r;return(null==(r=this._destroyCapability)?void 0:r.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,v.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,v.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,v.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,v.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var t=this;return p(function*(){var _;const l=t._pdfViewer.isInPresentationMode||t._pdfViewer.isChangingPresentationMode,{id:C,siblings:d,command:g,value:e}=r;if(!C){switch(g){case"clear":console.clear();break;case"error":console.error(e);break;case"layout":if(l)return;const m=(0,f.apiPageLayoutToViewerModes)(e);t._pdfViewer.spreadMode=m.spreadMode;break;case"page-num":t._pdfViewer.currentPageNumber=e+1;break;case"print":yield t._pdfViewer.pagesPromise,t._eventBus.dispatch("print",{source:t});break;case"println":console.log(e);break;case"zoom":if(l)return;t._pdfViewer.currentScaleValue=e;break;case"SaveAs":t._eventBus.dispatch("save",{source:t});break;case"FirstPage":t._pdfViewer.currentPageNumber=1;break;case"LastPage":t._pdfViewer.currentPageNumber=t._pdfViewer.pagesCount;break;case"NextPage":t._pdfViewer.nextPage();break;case"PrevPage":t._pdfViewer.previousPage();break;case"ZoomViewIn":if(l)return;t._pdfViewer.increaseScale();break;case"ZoomViewOut":if(l)return;t._pdfViewer.decreaseScale()}return}if(l&&r.focus)return;delete r.id,delete r.siblings;const i=d?[C,...d]:[C];for(const m of i){const y=document.getElementById(m);y?y.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):null==(_=t._pdfDocument)||_.annotationStorage.setValue(m,r)}})()}_dispatchPageOpen(r,t=!1){var l=this;return p(function*(){const C=l._pdfDocument,d=l._visitedPages;if(t&&(l._closeCapability=(0,v.createPromiseCapability)()),!l._closeCapability)return;const g=l._pdfViewer.getPageView(r-1);if((null==g?void 0:g.renderingState)!==f.RenderingStates.FINISHED)return void l._pageOpenPending.add(r);l._pageOpenPending.delete(r);const e=p(function*(){var _,m;const i=yield d.has(r)?null:null==(_=g.pdfPage)?void 0:_.getJSActions();C===l._pdfDocument&&(yield null==(m=l._scripting)?void 0:m.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:i}))})();d.set(r,e)})()}_dispatchPageClose(r){var t=this;return p(function*(){var g;const l=t._pdfDocument,C=t._visitedPages;if(!t._closeCapability||t._pageOpenPending.has(r))return;const d=C.get(r);!d||(C.set(r,null),yield d,l===t._pdfDocument&&(yield null==(g=t._scripting)?void 0:g.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return p(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:t}=E(24);return t(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,v.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=E(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return p(function*(){var t,l;if(!r._scripting)return r._pdfDocument=null,void(null==(t=r._destroyCapability)||t.resolve());r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(C=>{setTimeout(C,1e3)})]).catch(C=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch(C){}for(const[C,d]of r._internalEvents)r._eventBus._off(C,d);r._internalEvents.clear();for(const[C,d]of r._domEvents)window.removeEventListener(C,d,!0);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,null==(l=r._destroyCapability)||l.resolve()})()}}},(D,c,E)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericScripting=void 0,c.docPropertiesLookup=function v(r){return P.apply(this,arguments)};var f=E(3);function P(){return(P=p(function*(r){const l="".split("#")[0];let{info:C,metadata:d,contentDispositionFilename:g,contentLength:e}=yield r.getMetadata();if(!e){const{length:i}=yield r.getDownloadInfo();e=i}return Ye($e({},C),{baseURL:l,filesize:e,filename:g||(0,f.getPdfFilenameFromUrl)(""),metadata:null==d?void 0:d.getRaw(),authors:null==d?void 0:d.get("dc:creator"),numPages:r.numPages,URL:""})})).apply(this,arguments)}c.GenericScripting=class a{constructor(t){this._ready=(0,f.loadScript)(t,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(t){var l=this;return p(function*(){(yield l._ready).create(t)})()}dispatchEventInSandbox(t){var l=this;return p(function*(){const C=yield l._ready;setTimeout(()=>C.dispatchEvent(t),0)})()}destroySandbox(){var t=this;return p(function*(){(yield t._ready).nukeSandbox()})()}}}],ee={};function Y(D){var c=ee[D];if(void 0!==c)return c.exports;var E=ee[D]={exports:{}};return oe[D](E,E.exports,Y),E.exports}var K={};return(()=>{var D=K;Object.defineProperty(D,"__esModule",{value:!0}),Object.defineProperty(D,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return P.AnnotationLayerBuilder}}),Object.defineProperty(D,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return c.DefaultAnnotationLayerFactory}}),Object.defineProperty(D,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return c.DefaultStructTreeLayerFactory}}),Object.defineProperty(D,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return c.DefaultTextLayerFactory}}),Object.defineProperty(D,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return c.DefaultXfaLayerFactory}}),Object.defineProperty(D,"DownloadManager",{enumerable:!0,get:function(){return a.DownloadManager}}),Object.defineProperty(D,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(D,"GenericL10n",{enumerable:!0,get:function(){return t.GenericL10n}}),Object.defineProperty(D,"LinkTarget",{enumerable:!0,get:function(){return E.LinkTarget}}),Object.defineProperty(D,"NullL10n",{enumerable:!0,get:function(){return l.NullL10n}}),Object.defineProperty(D,"PDFFindController",{enumerable:!0,get:function(){return C.PDFFindController}}),Object.defineProperty(D,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(D,"PDFLinkService",{enumerable:!0,get:function(){return E.PDFLinkService}}),Object.defineProperty(D,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(D,"PDFScriptingManager",{enumerable:!0,get:function(){return e.PDFScriptingManager}}),Object.defineProperty(D,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(D,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}}),Object.defineProperty(D,"ProgressBar",{enumerable:!0,get:function(){return f.ProgressBar}}),Object.defineProperty(D,"SimpleLinkService",{enumerable:!0,get:function(){return E.SimpleLinkService}}),Object.defineProperty(D,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(D,"TextLayerBuilder",{enumerable:!0,get:function(){return _.TextLayerBuilder}}),Object.defineProperty(D,"XfaLayerBuilder",{enumerable:!0,get:function(){return m.XfaLayerBuilder}}),Object.defineProperty(D,"parseQueryString",{enumerable:!0,get:function(){return f.parseQueryString}});var c=Y(1),E=Y(5),f=Y(6),v=Y(10),P=Y(2),a=Y(16),r=Y(17),t=Y(18),l=Y(4),C=Y(20),d=Y(22),g=Y(12),e=Y(23),i=Y(7),_=Y(8),m=Y(9)})(),K})(),de.exports=Y()},8926:de=>{function k(p,oe,ee,Y,K,D,c){try{var E=p[D](c),f=E.value}catch(v){return void ee(v)}E.done?oe(f):Promise.resolve(f).then(Y,K)}de.exports=function ne(p){return function(){var oe=this,ee=arguments;return new Promise(function(Y,K){var D=p.apply(oe,ee);function c(f){k(D,Y,K,c,E,"next",f)}function E(f){k(D,Y,K,c,E,"throw",f)}c(void 0)})}},de.exports.__esModule=!0,de.exports.default=de.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},9438:(de,k,ne)=>{"use strict";ne.d(k,{rQ:()=>m,xC:()=>y});var p=ne(4893),oe=ne(4968),ee=ne(7579),Y=ne(2076),K=ne(4482),D=ne(5403),c=ne(8421),E=ne(5032);function f(x){return(0,K.e)((M,b)=>{(0,c.Xf)(x).subscribe((0,D.x)(b,()=>b.complete(),E.Z)),!b.closed&&M.subscribe(b)})}var v=ne(8372),P=ne(9300),a=ne(6036),r=ne.t(a,2),t=ne(2813),l=ne.t(t,2);const C=["pdfViewerContainer"];function e(x,M,b){x[M]=b}function i(){return"undefined"==typeof window}i()||e(r,"verbosity",a.VerbosityLevel.INFOS);var _=(()=>{return(x=_||(_={}))[x.DISABLED=0]="DISABLED",x[x.ENABLED=1]="ENABLED",x[x.ENHANCED=2]="ENHANCED",_;var x})();let m=(()=>{class x{constructor(b,R){if(this.element=b,this.ngZone=R,this.isVisible=!1,this._cMapsUrl=void 0!==r?`https://unpkg.com/pdfjs-dist@${a.version}/cmaps/`:null,this._imageResourcesPath=void 0!==r?`https://unpkg.com/pdfjs-dist@${a.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=_.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new ee.x,this.afterLoadComplete=new p.vpe,this.pageRendered=new p.vpe,this.pageInitialized=new p.vpe,this.textLayerRendered=new p.vpe,this.onError=new p.vpe,this.onProgress=new p.vpe,this.pageChange=new p.vpe(!0),i())return;let N;N=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${a.version}/legacy/build/pdf.worker.min.js`,e(a.GlobalWorkerOptions,"workerSrc",N)}set cMapsUrl(b){this._cMapsUrl=b}set page(b){const R=b=parseInt(b,10)||1;this._pdf&&(b=this.getValidPageNumber(b)),this._page=b,R!==b&&this.pageChange.emit(b)}set renderText(b){this._renderText=b}set renderTextMode(b){this._renderTextMode=b}set originalSize(b){this._originalSize=b}set showAll(b){this._showAll=b}set stickToPage(b){this._stickToPage=b}set zoom(b){b<=0||(this._zoom=b)}get zoom(){return this._zoom}set zoomScale(b){this._zoomScale=b}get zoomScale(){return this._zoomScale}set rotation(b){"number"==typeof b&&b%90==0?this._rotation=b:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(b){this._externalLinkTarget=b}set autoresize(b){this._canAutoResize=Boolean(b)}set fitToPage(b){this._fitToPage=Boolean(b)}set showBorders(b){this._showBorders=Boolean(b)}static getLinkTarget(b){switch(b){case"blank":return t.LinkTarget.BLANK;case"none":return t.LinkTarget.NONE;case"self":return t.LinkTarget.SELF;case"parent":return t.LinkTarget.PARENT;case"top":return t.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const b=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=b?!1===this.isVisible&&null!=b&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(b){if(!i()&&this.isVisible)if("src"in b)this.loadPDF();else if(this._pdf){if("renderText"in b?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:_.DISABLED,this.resetPdfDocument()):"showAll"in b&&(this.setupViewer(),this.resetPdfDocument()),"page"in b){const{page:R}=b;if(R.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,Y.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(f(this.destroy$)).subscribe({next:b=>{const R=this._rotation||b.rotate,N=b.getViewport({scale:this._zoom,rotation:R}).width*x.CSS_UNITS;let j=this._zoom,q=!0;if(!this._originalSize||this._fitToPage&&N>this.pdfViewerContainer.nativeElement.clientWidth){const B=b.getViewport({scale:1,rotation:R});j=this.getScale(B.width,B.height),q=!this._stickToPage}this.pdfViewer._setScale(j,q)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const b=x.getLinkTarget(this._externalLinkTarget);return b?{externalLinkTarget:b}:{}}initEventBus(){this.eventBus=function d(x,M){const b=new x.EventBus;return function g(x,M){(0,oe.R)(x,"documentload").pipe(f(M)).subscribe(()=>{const b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(b)}),(0,oe.R)(x,"pagerendered").pipe(f(M)).subscribe(({pageNumber:b,cssTransform:R,source:N})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("pagerendered",!0,!0,{pageNumber:b,cssTransform:R}),N.div.dispatchEvent(j)}),(0,oe.R)(x,"textlayerrendered").pipe(f(M)).subscribe(({pageNumber:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b}),R.textLayerDiv.dispatchEvent(N)}),(0,oe.R)(x,"pagechanging").pipe(f(M)).subscribe(({pageNumber:b,source:R})=>{const N=document.createEvent("UIEvents");N.initEvent("pagechanging",!0,!0),N.pageNumber=b,R.container.dispatchEvent(N)}),(0,oe.R)(x,"pagesinit").pipe(f(M)).subscribe(({source:b})=>{const R=document.createEvent("CustomEvent");R.initCustomEvent("pagesinit",!0,!0,null),b.container.dispatchEvent(R)}),(0,oe.R)(x,"pagesloaded").pipe(f(M)).subscribe(({pagesCount:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b}),R.container.dispatchEvent(N)}),(0,oe.R)(x,"scalechange").pipe(f(M)).subscribe(({scale:b,presetValue:R,source:N})=>{const j=document.createEvent("UIEvents");j.initEvent("scalechange",!0,!0),j.scale=b,j.presetValue=R,N.container.dispatchEvent(j)}),(0,oe.R)(x,"updateviewarea").pipe(f(M)).subscribe(({location:b,source:R})=>{const N=document.createEvent("UIEvents");N.initEvent("updateviewarea",!0,!0),N.location=b,R.container.dispatchEvent(N)}),(0,oe.R)(x,"find").pipe(f(M)).subscribe(({source:b,type:R,query:N,phraseSearch:j,caseSensitive:q,highlightAll:B,findPrevious:G})=>{if(b===window)return;const $=document.createEvent("CustomEvent");$.initCustomEvent("find"+R,!0,!0,{query:N,phraseSearch:j,caseSensitive:q,highlightAll:B,findPrevious:G}),window.dispatchEvent($)}),(0,oe.R)(x,"attachmentsloaded").pipe(f(M)).subscribe(({attachmentsCount:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b}),R.container.dispatchEvent(N)}),(0,oe.R)(x,"sidebarviewchanged").pipe(f(M)).subscribe(({view:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("sidebarviewchanged",!0,!0,{view:b}),R.outerContainer.dispatchEvent(N)}),(0,oe.R)(x,"pagemode").pipe(f(M)).subscribe(({mode:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("pagemode",!0,!0,{mode:b}),R.pdfViewer.container.dispatchEvent(N)}),(0,oe.R)(x,"namedaction").pipe(f(M)).subscribe(({action:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("namedaction",!0,!0,{action:b}),R.pdfViewer.container.dispatchEvent(N)}),(0,oe.R)(x,"presentationmodechanged").pipe(f(M)).subscribe(({active:b,switchInProgress:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("presentationmodechanged",!0,!0,{active:b,switchInProgress:R}),window.dispatchEvent(N)}),(0,oe.R)(x,"outlineloaded").pipe(f(M)).subscribe(({outlineCount:b,source:R})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b}),R.container.dispatchEvent(N)})}(b,M),b}(l,this.destroy$),(0,oe.R)(this.eventBus,"pagerendered").pipe(f(this.destroy$)).subscribe(b=>{this.pageRendered.emit(b)}),(0,oe.R)(this.eventBus,"pagesinit").pipe(f(this.destroy$)).subscribe(b=>{this.pageInitialized.emit(b)}),(0,oe.R)(this.eventBus,"pagechanging").pipe(f(this.destroy$)).subscribe(({pageNumber:b})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=b,this.pageChange.emit(b)},100)}),(0,oe.R)(this.eventBus,"textlayerrendered").pipe(f(this.destroy$)).subscribe(b=>{this.textLayerRendered.emit(b)})}initPDFServices(){this.pdfLinkService=new t.PDFLinkService(Object.assign({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new t.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:_.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){e(r,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new t.PDFViewer(this.getPDFOptions()):new t.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(b){return b<1?1:b>this._pdf.numPages?this._pdf.numPages:b}getDocumentParams(){const b=typeof this.src;if(!this._cMapsUrl)return this.src;const R={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===b?R.url=this.src:"object"===b&&(void 0!==this.src.byteLength?R.data=this.src:Object.assign(R,this.src)),R}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=a.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=R=>{this.onProgress.emit(R)};const b=this.src;(0,Y.D)(this.loadingTask.promise).pipe(f(this.destroy$)).subscribe({next:R=>{this._pdf=R,this.lastLoaded=b,this.afterLoadComplete.emit(R),this.resetPdfDocument(),this.update()},error:R=>{this.lastLoaded=null,this.onError.emit(R)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(b,R){const N=this._showBorders?2*x.BORDER_WIDTH:0,j=this.pdfViewerContainer.nativeElement.clientWidth-N,q=this.pdfViewerContainer.nativeElement.clientHeight-N;if(0===q||0===R||0===j||0===b)return 1;let B=1;switch(this._zoomScale){case"page-fit":B=Math.min(q/R,j/b);break;case"page-height":B=q/R;break;default:B=j/b}return this._zoom*B/x.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){i()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){i()||this.ngZone.runOutsideAngular(()=>{(0,oe.R)(window,"resize").pipe((0,v.b)(100),(0,P.h)(()=>this._canAutoResize&&!!this._pdf),f(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return x.CSS_UNITS=96/72,x.BORDER_WIDTH=9,x.\u0275fac=function(b){return new(b||x)(p.Y36(p.SBq),p.Y36(p.R0b))},x.\u0275cmp=p.Xpm({type:x,selectors:[["pdf-viewer"]],viewQuery:function(b,R){if(1&b&&p.Gf(C,5),2&b){let N;p.iGM(N=p.CRH())&&(R.pdfViewerContainer=N.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[p.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(b,R){1&b&&(p.TgZ(0,"div",0,1),p._UZ(2,"div",2),p.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),x})(),y=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})()}}]);