"use strict";(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[699],{6699:(pe,b,a)=>{a.r(b),a.d(b,{CmsModule:()=>de});var c=a(9808),R=a(8231),_=a(4776),T=a(9841),u=a(4004),M=a(9646),f=a(8056);const I=[{title:"Support",url:"/content/support"},{title:"Mayor's Corner",url:"/content/mayors-corner/gallery"},{title:"Makati News",url:"/content/news"},{title:"Makati News",url:"/content/events"},{title:"Makati News",url:"/content/makati-videos"},{title:"Are you satisfied?",url:"/content/content/customer-satisfaction-survey-form"},{title:"I Want To",url:"/content/i-want-to"},{title:"Downloads",url:"/content/downloads"}];var L=a(7854),t=a(4893),C=a(817),W=a(7787),w=a(7045);function A(n,o){1&n&&(t.TgZ(0,"span"),t._UZ(1,"i",6),t.qZA())}function H(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"shrd-sidebar-item",7),t.NdJ("on_is_active",function(s){const l=t.CHM(e).index;return t.oxw().set_up_parent(s,l)})("on_select",function(s){return t.CHM(e),t.oxw().on_select.emit(s)}),t.qZA()}if(2&n){const e=o.$implicit;t.Q6J("is_child_menu",!0)("item",e)}}const Z=function(n,o){return{"ps-3 pt-3":n,"p-3":o}},B=function(n){return{"text-primary tx-active":n}};let O=(()=>{class n{constructor(e,i){this.route=e,this.router=i,this.is_child_menu=!1,this.on_select=new t.vpe,this.on_is_active=new t.vpe(!1),this._is_active=!1,this.is_collapsed=!0,this._subscriptions=[],this.child_statuses=[]}ngOnInit(){this.set_up_is_active()}on_click(){this.item.children.length>0?this.is_collapsed=!this.is_collapsed:this.on_select.emit(this.item)}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}ngAfterViewInit(){if(0!=this.item.menuId&&0==this.item.children.length==1){const i=this.router.events.subscribe(s=>{s instanceof _.m2&&this.set_up_is_active()});this._subscriptions.push(i)}}set_up_is_active(){var e,i;const s=null!==(e=this.route.snapshot.queryParamMap.get("content"))&&void 0!==e?e:0,r=null!==(i=this.route.snapshot.paramMap.get("pageId"))&&void 0!==i?i:0;this.is_active=+this.item.menuId==+(0!=+s?+s:+r)}set is_active(e){setTimeout(()=>{this._is_active=e,this.on_is_active.emit(e),this.is_collapsed=!e,this.child_statuses=[]},20)}get is_active(){return this._is_active}set_up_parent(e,i){if(this.child_statuses.push(e),i+1==this.item.children.length){const s=this.child_statuses.reduce((r,l)=>1==r||l,!1);this.is_active=s}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["shrd-sidebar-item"]],inputs:{item:"item",is_child_menu:"is_child_menu"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:7,vars:12,consts:[[1,"d-flex","flex-column",3,"ngClass"],[1,"d-flex","justify-content-between","c-pointer",3,"click"],[1,"pb-3","tx",3,"ngClass"],[4,"ngIf"],[1,"ms-1",3,"collapse","isAnimated"],[3,"is_child_menu","item","on_is_active","on_select",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-down"],[3,"is_child_menu","item","on_is_active","on_select"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return i.on_click()}),t.TgZ(2,"span",2),t._uU(3),t.qZA(),t.YNc(4,A,2,0,"span",3),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,H,1,2,"shrd-sidebar-item",5),t.qZA()()),2&e&&(t.Q6J("ngClass",t.WLB(7,Z,1==i.is_child_menu,0==i.is_child_menu)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,B,1==i.is_active)),t.xp6(1),t.hij(" ",i.item.menuLabel," "),t.xp6(1),t.Q6J("ngIf",i.item.children.length>0),t.xp6(1),t.Q6J("collapse",i.is_collapsed)("isAnimated",!0),t.xp6(1),t.Q6J("ngForOf",i.item.children))},directives:[c.mk,c.O5,w.Y,c.sg,n],styles:[""]}),n})();function J(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"shrd-sidebar-item",2),t.NdJ("on_select",function(s){return t.CHM(e),t.oxw().on_select.emit(s)}),t.qZA()}2&n&&t.Q6J("item",o.$implicit)}let N=(()=>{class n{constructor(){this.items=[],this.on_select=new t.vpe,this.on_is_active=new t.vpe}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["shrd-sidebar"]],inputs:{items:"items"},outputs:{on_select:"on_select",on_is_active:"on_is_active"},decls:2,vars:1,consts:[[1,"sidebar-bg"],[3,"item","on_select",4,"ngFor","ngForOf"],[3,"item","on_select"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,J,1,1,"shrd-sidebar-item",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.items))},directives:[c.sg,O],styles:[""]}),n})();var Y=a(1135),F=a(8372),P=a(1884),Q=a(9300),U=a(8505),V=a(3900),z=a(2340),X=a(2313);const k=["contentRef"],$=["*"];let j=(()=>{class n{constructor(e){this.display="inline-block",this._dragDisabled=!1,this._elementRef=e}get dragDisabled(){return this._dragDisabled}set dragDisabled(e){this._dragDisabled=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(e,i){2&e&&t.Udp("display",i.display)},inputs:{dragDisabled:["drag-disabled","dragDisabled"]}}),n})(),G=(()=>{class n{constructor(e,i,s){this._elementRef=e,this._renderer=i,this._document=s,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new t.vpe,this.indexChanged=new t.vpe,this.reachesLeftBound=new t.vpe,this.reachesRightBound=new t.vpe,this.snapAnimationFinished=new t.vpe,this.dragStart=new t.vpe,this.dragEnd=new t.vpe,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(e){e!==this._index&&(this._index=e,this.indexChanged.emit(e))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(e){this._scrollbarHidden=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get xDisabled(){return this._xDisabled}set xDisabled(e){this._xDisabled=e}get yDisabled(){return this._yDisabled}set yDisabled(e){this._yDisabled=e}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(e){this._xWheelEnabled=e}get dragDisabled(){return this._dragDisabled}set dragDisabled(e){this._dragDisabled=e}get snapDisabled(){return this._snapDisabled}set snapDisabled(e){this._snapDisabled=e}get snapOffset(){return this._snapOffset}set snapOffset(e){this._snapOffset=e}get snapDuration(){return this._snapDuration}set snapDuration(e){this._snapDuration=e}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType="undefined"!=typeof window?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",e=>{e.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl="rtl"===getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(e){this.onMouseMove(e)}onMouseMove(e){if((e.clientX!==this.downX||e.clientY!==this.downY)&&this.isPressed&&!this.disabled){if(!e.buttons&&!e.which)return this.onMouseUpHandler(e);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){const i=e.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-i+this.downX,this.downX=i}if(!this.yDisabled&&!this.dragDisabled){const i=e.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-i+this.downY,this.downY=i}}}onMouseDownHandler(e){const i=this.locateDragScrollItem(e.target);if(i&&i.dragDisabled)return;this._startGlobalListening("touchstart"===e.type),this.isPressed=!0;const r=e;this.downX=r.clientX,this.downY=r.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),this.isPressed||this.isAnimating||this.snapDisabled?this.locateCurrentIndex():(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500))}onMouseUpHandler(e){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(0!==this.currIndex||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){const e=this.wrapper||this.parentNode,i=e?e.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(i,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(e){const i=this.wrapper||this.parentNode,s=i?i.clientWidth:0;e>=0&&e!==this.currIndex&&this.currIndex<=this.maximumIndex(s,this._children.toArray())&&(this.currIndex=Math.min(e,this.maximumIndex(s,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{const e=Boolean(this._children.length<=1),i=Boolean(this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth);e||i?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):0===this._contentRef.nativeElement.scrollLeft&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(e){this._xWheelEnabled&&(e.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(e.deltaY,0):e.deltaY<0?this.moveLeft():e.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(e){this._isDragging!==e&&(this._isDragging=e,e?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(e){this._onMouseMoveListener||(this._onMouseMoveListener=this._renderer.listen("document",e?"touchmove":"mousemove",this.onMouseMoveHandler.bind(this))),this._onMouseUpListener||(this._onMouseUpListener=this._renderer.listen("document",e?"touchend":"mouseup",this.onMouseUpHandler.bind(this)))}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(e){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${e}`,"hidden")}enableScroll(e){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${e}`,"auto")}hideScrollbar(){"none"!==this._contentRef.nativeElement.style.display&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),null!==this.parentNode&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._renderer.setStyle(this._contentRef.nativeElement,"height",this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?"100%":`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"width",this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?"100%":`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.setStyle(e,"visibility","hidden"),this._renderer.setStyle(e,"width","100px"),this._renderer.setStyle(e,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,e);const i=e.offsetWidth;this._renderer.setStyle(e,"overflow","scroll");const s=this._renderer.createElement("div");this._renderer.setStyle(s,"width","100%"),this._renderer.appendChild(e,s);const r=s.offsetWidth;return this._renderer.removeChild(this._document.body,e),i-r||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px":"100%"))}scrollTo(e,i,s){const r=this;r.isAnimating=!0;const h=e.scrollLeft,m=(this.rtl?-1:1)*i-h-this.snapOffset;let v=0;const S=function(){var p,x,E;v+=20,e.scrollLeft=(p=v,x=h,E=m,(p/=s/2)<1?E/2*p*p+x:-E/2*(--p*(p-2)-1)+x),v<s?r.scrollToTimer=setTimeout(S,20):setTimeout(()=>{r.isAnimating=!1,r.snapAnimationFinished.emit(r.currIndex)},20)};S()}locateCurrentIndex(e){const i=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((s,r,l,h,m)=>{i>=l&&i<=r?(r-i>s/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=h),e&&this.scrollTo(this._contentRef.nativeElement,l,this.snapDuration)):0!==i&&(this.isAnimating||(this.currIndex=h+1),e&&this.scrollTo(this._contentRef.nativeElement,l+s,this.snapDuration)),m()):h+1===this._children.length-1&&(this.isAnimating||(this.currIndex=h+1),m())})}currentChildWidth(e){let i=0,s=!1;const r=function(){s=!0},l=this._children.toArray();for(let h=0;h<l.length&&h!==l.length-1&&!s;h++){const d=l[h]._elementRef.nativeElement.clientWidth;e(d,i+l[h+1]._elementRef.nativeElement.clientWidth,i,h,r),i+=d}}toChildrenLocation(){let e=0;const i=this._children.toArray();for(let s=0;s<this.currIndex;s++)e+=i[s]._elementRef.nativeElement.clientWidth;return e}locateDragScrollItem(e){let i=null;const s=this._children.toArray();for(let r=0;r<s.length;r++)e===s[r]._elementRef.nativeElement&&(i=s[r]);return i}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");const e=this.wrapper||this.parentNode;this._children.length>1&&(this.indexBound=this.maximumIndex(e?e.clientWidth:0,this._children.toArray()))}maximumIndex(e,i){let s=0,r=0;for(let l=0;l<=i.length;l++){const h=i[i.length-1-l];if(!h)break;{const m=h._elementRef.nativeElement;let d=m.clientWidth;if(0===d&&m.firstElementChild&&(d=h._elementRef.nativeElement.firstElementChild.clientWidth),r+=d,!(r<e))break;s++}}return i.length-s}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){const e=this._children.toArray();this._renderer.setStyle(e[e.length-1]._elementRef.nativeElement,"margin-right",this.wrapper&&e.length>1?this.scrollbarWidth:0)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(c.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["drag-scroll"]],contentQueries:function(e,i,s){if(1&e&&t.Suo(s,j,5),2&e){let r;t.iGM(r=t.CRH())&&(i._children=r)}},viewQuery:function(e,i){if(1&e&&t.Gf(k,7),2&e){let s;t.iGM(s=t.CRH())&&(i._contentRef=s.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("wheel",function(r){return i.onWheel(r)})("resize",function(){return i.onWindowResize()},!1,t.Jf7),2&e&&t.Udp("pointer-events",i._pointerEvents)},inputs:{scrollbarHidden:["scrollbar-hidden","scrollbarHidden"],disabled:["drag-scroll-disabled","disabled"],xDisabled:["drag-scroll-x-disabled","xDisabled"],yDisabled:["drag-scroll-y-disabled","yDisabled"],xWheelEnabled:["scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:["drag-disabled","dragDisabled"],snapDisabled:["snap-disabled","snapDisabled"],snapOffset:["snap-offset","snapOffset"],snapDuration:["snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},features:[t.TTD],ngContentSelectors:$,decls:3,vars:0,consts:[[1,"drag-scroll-content"],["contentRef",""]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"]}),n})(),K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var q=a(7286);function ee(n,o){if(1&n&&(t.TgZ(0,"drag-scroll"),t._UZ(1,"div",1),t.ALo(2,"safeHtml"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,e.item.contentDetail),t.oJD)}}let te=(()=>{class n{constructor(e){this.sanitizer=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cms-html-content-viewer"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"draggable-cont",3,"innerHTML"]],template:function(e,i){1&e&&t.YNc(0,ee,3,3,"drag-scroll",0),2&e&&t.Q6J("ngIf",i.item.contentDetail)},directives:[c.O5,G],pipes:[q.z],styles:["[_nghost-%COMP%]     .draggable-cont{white-space:pre-wrap}"]}),n})();var D=a(9438),y=a(2492),g=a(3075);function ie(n,o){if(1&n&&t._UZ(0,"cms-html-content-viewer",5),2&n){const e=t.oxw(2);t.Q6J("item",e.content)}}function ne(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"pagination",9),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(3).pdf_page=s}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("itemsPerPage",1)("totalItems",e.pdf_total_pages)("ngModel",e.pdf_page)("maxSize",5)}}function se(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"pdf-viewer",7),t.NdJ("after-load-complete",function(s){return t.CHM(e),t.oxw(2).callBackFn(s)})("pageChange",function(s){return t.CHM(e),t.oxw(2).pdf_page=s}),t.qZA(),t.YNc(2,ne,2,4,"div",8),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.content.contentDetail)("render-text",!1)("fit-to-page",!0)("show-all",!1)("zoom-scale","page-fit")("original-size",!1)("autoresize",!0)("page",e.pdf_page),t.xp6(1),t.Q6J("ngIf",e.pdf_total_pages>1)}}function re(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Unsupported content"),t.qZA())}function oe(n,o){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,ie,1,1,"cms-html-content-viewer",2),t.YNc(2,se,3,9,"div",3),t.YNc(3,re,2,0,"div",4),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngSwitch",e.content.contentType),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2)}}let le=(()=>{class n{constructor(e,i){this.menu_service=e,this.app_loader_service=i,this._cms_content_id=new Y.X(0),this._subscriptions=[],this.pdf_page=1,this.pdf_total_pages=0}set cms_content_id(e){this._cms_content_id.next(e)}get cms_content_id(){return this._cms_content_id.getValue()}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}ngOnInit(){const e=this._cms_content_id.pipe((0,F.b)(200),(0,P.x)(),(0,Q.h)(i=>0!=i),(0,U.b)(i=>this.content=void 0),(0,V.w)(i=>(this.app_loader_service.loading_start(),this.menu_service.get_menu_content(+i)))).subscribe(i=>{this.app_loader_service.loading_end(),2==i.contentType&&(this.pdf_page=1,this.pdf_total_pages=0,this.app_loader_service.loading_start(),i.contentDetail=`${z.N.api}/assets/uploads${i.contentDetail}`),this.content=i});this._subscriptions.push(e)}callBackFn(e){this.pdf_total_pages=e.numPages,this.app_loader_service.loading_end()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.h),t.Y36(C.P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cms-content-viewer"]],inputs:{cms_content_id:"cms_content_id"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"item",4,"ngSwitchCase"],["class","pdf-viewer",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"item"],[1,"pdf-viewer"],[3,"src","render-text","fit-to-page","show-all","zoom-scale","original-size","autoresize","page","after-load-complete","pageChange"],[4,"ngIf"],[3,"itemsPerPage","totalItems","ngModel","maxSize","ngModelChange"]],template:function(e,i){1&e&&t.YNc(0,oe,4,3,"div",0),2&e&&t.Q6J("ngIf",i.content)},directives:[c.O5,c.RF,c.n9,te,D.rQ,y.Qt,g.JJ,g.On,c.ED],styles:[".html-cont[_ngcontent-%COMP%]{overflow:auto;cursor:grab}.pdf-viewer[_ngcontent-%COMP%]{height:1100px}pdf-viewer[_ngcontent-%COMP%]{height:100%}"]}),n})();const ae=[{path:":grandParentTitle/:pageTitle/:pageId",component:(()=>{class n{constructor(e,i,s,r){this.route=e,this.router=i,this.app_loader=s,this.menu_service=r,this.sidebar_content=[],this.title="",this._subscriptions=[],this.content_id$=(0,T.a)([this.route.paramMap.pipe((0,u.U)(l=>l.get("pageId"))),this.route.queryParamMap.pipe((0,u.U)(l=>l.get("content")))]).pipe((0,u.U)(l=>{var h;return l[1]?+l[1]:+(null!==(h=l[0])&&void 0!==h?h:0)}))}ngOnInit(){this.set_up_page();const e=this.route.paramMap.pipe((0,u.U)(i=>i.get("pageId"))).subscribe(i=>{this.set_up_page()});this._subscriptions.push(e)}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}set_up_page(){var e;const i=this.route.snapshot.queryParamMap.get("content"),s=+(null!==(e=this.route.snapshot.paramMap.get("pageId"))&&void 0!==e?e:0);i||(this.sidebar_content=this.default_sidebar()),(i?this.menu_service.get_top_menu_tree(+s):(0,M.of)(this.default_sidebar())).subscribe(l=>{if(i){const h=f.h.get_first_grandchild(l[0]);this.title=h.menuLabel}else this.title="";this.sidebar_content=l,this.app_loader.loading_end()})}default_sidebar(){return(0,L.JG)(I).map((i,s)=>({children:[],isPublished:!0,menuId:0,menuLabel:i.title,menuOrder:s,menuParent:0}))}navigate(e){const i={content:e.menuId};this.title=e.menuLabel,this.router.navigate([],{relativeTo:this.route,queryParams:i,queryParamsHandling:"merge"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(_.F0),t.Y36(C.P),t.Y36(f.h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-default-cms"]],decls:15,vars:6,consts:[["cms",""],[1,"bg-white","py-5","mayora-overflow-fix"],[1,"container","layout-container"],[1,"row"],[1,"col-md-3"],[3,"items","on_select"],[1,"col-md-9"],[1,"cms-cont","ms-3"],[1,"cms-title","mb-3","p-relative",3,"hidden"],[1,"priority"],[3,"cms_content_id"]],template:function(e,i){1&e&&(t.TgZ(0,"div",null,0),t._UZ(2,"util-page-title"),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"shrd-sidebar",5),t.NdJ("on_select",function(r){return i.navigate(r)}),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"h2",8),t._UZ(11,"div",9),t._uU(12),t.qZA(),t._UZ(13,"cms-content-viewer",10),t.ALo(14,"async"),t.qZA()()()()()()),2&e&&(t.xp6(7),t.Q6J("items",i.sidebar_content),t.xp6(3),t.Q6J("hidden",!i.title),t.xp6(2),t.hij(" ",i.title," "),t.xp6(1),t.Q6J("cms_content_id",t.lcZ(14,4,i.content_id$)))},directives:[W.T,N,le],pipes:[c.Ov],styles:[""]}),n})()}];let he=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.Bz.forChild(ae)],_.Bz]}),n})();var ce=a(2234);let de=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,he,R.A,w.f,K,D.xC,y.u3,g.u5,ce.m]]}),n})()}}]);