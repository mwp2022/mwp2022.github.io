"use strict";(self.webpackChunkmakatiportal2022=self.webpackChunkmakatiportal2022||[]).push([[820],{6820:(Ne,T,f)=>{f.r(T),f.d(T,{ContentModule:()=>Fe});var h=f(9808),b=f(4776),e=f(4893),A=f(3650);let I=(()=>{class t{constructor(i,n){this._auth_service=i,this.router=n}canActivate(i,n){return!!this._auth_service.is_authenticated||this.router.createUrlTree(["/auth"])}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(A.e),e.LFG(b.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=f(7787);let Q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-news"]],decls:6,vars:2,consts:[["cms",""],[3,"title","is_cms_content"],[1,"bg-white","py-5"],[1,"container"]],template:function(i,n){1&i&&(e.TgZ(0,"div",null,0),e._UZ(2,"util-page-title",1),e.TgZ(3,"div",2)(4,"div",3),e._uU(5," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eveniet illo odio amet possimus eaque atque! Minus impedit aut modi consequatur ea maiores placeat quaerat. Nam, inventore deleniti? Exercitationem, non quis! "),e.qZA()()()),2&i&&(e.xp6(2),e.Q6J("title","Makati News")("is_cms_content",!1))},directives:[J.T],styles:[""]}),t})();var S=f(1135),N=f(695),P=f(6470),l=f(3075),Y=f(3900),L=f(9646),q=f(628),C=f(7854),B=f(2313),w=f(3290),V=f(655),_=(()=>{return(t=_||(_={}))[t.Up=1]="Up",t[t.Down=3]="Down",t[t.Right=6]="Right",t[t.Left=8]="Left",t[t.UpMirrored=2]="UpMirrored",t[t.DownMirrored=4]="DownMirrored",t[t.LeftMirrored=5]="LeftMirrored",t[t.RightMirrored=7]="RightMirrored",t[t.Default=0]="Default",t[t.NotJpeg=-1]="NotJpeg",t[t.NotDefined=-2]="NotDefined",_;var t})();class m{}m.getOrientation=t=>new Promise((o,i)=>{try{const n=new FileReader;n.onload=()=>{const r=new DataView(n.result);if(!r.byteLength||65496!==r.getUint16(0,!1))return o(_.NotDefined);const a=r.byteLength;let s=2;for(;s<a;){const p=r.getUint16(s,!1);if(s+=2,65505===p){if(1165519206!==r.getUint32(s+=2,!1))return o(_.NotJpeg);const g=18761===r.getUint16(s+=6,!1);s+=r.getUint32(s+4,g);const u=r.getUint16(s,g);s+=2;for(let c=0;c<u;c++)if(274===r.getUint16(s+12*c,g))return o(r.getUint16(s+12*c+8,g))}else{if(65280!=(65280&p))break;s+=r.getUint16(s,!1)}}return o(_.NotJpeg)},n.readAsArrayBuffer(t)}catch(n){return i(_.Default)}}),m.uploadFile=(t,o=!0,i=!1)=>new Promise(function(n,r){const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Promise.resolve(a).then(s=>s?m.generateUploadInputNative(window.document,o,i):m.generateUploadInputRenderer(t,o,i)).then(s=>{const p=s?Array.from(s):[],g=p.map(d=>m.getOrientation(d)),u=p.map(d=>m.fileToDataURL(d));let c=[];Promise.all(g).then(d=>(c=d,Promise.all(u))).then(d=>{const v=d.map((x,F)=>({image:x.dataUrl,orientation:c[F],fileName:x.fileName}));n(o?v:v[0])})}).catch(s=>r(s))}),m.fileToDataURL=t=>new Promise((o,i)=>{const n=new FileReader;n.onload=r=>{o({dataUrl:r.target.result,fileName:t.name})};try{n.readAsDataURL(t)}catch(r){i(`ngx-image-compress - probably no file have been selected: ${r}`)}}),m.generateUploadInputRenderer=(t,o=!0,i=!1)=>{let n=!1;return new Promise((r,a)=>{const s=t.createElement("input");t.setStyle(s,"display","none"),t.setProperty(s,"type","file"),t.setProperty(s,"accept","image/*"),o&&t.setProperty(s,"multiple","true"),t.listen(s,"click",p=>{p.target.value=""}),t.listen(s,"change",p=>{n=!0,r(p.target.files)}),i&&window.addEventListener("focus",()=>{setTimeout(()=>{n||a(new Error("file upload on blur - no file selected"))},300)},{once:!0}),s.click()})},m.generateUploadInputNative=(t,o=!0,i=!1)=>{let n=!1;return new Promise((r,a)=>{const s=t.createElement("input");s.id="upload-input"+new Date,s.style.display="none",s.setAttribute("type","file"),o&&s.setAttribute("multiple","true"),t.body.appendChild(s),s.addEventListener("change",()=>{n=!0,r(s.files),t.body.removeChild(t.getElementById(s.id))},{once:!0}),i&&window.addEventListener("focus",()=>{setTimeout(()=>{!n&&t.getElementById(s.id)&&(a(new Error("file upload on blur - no file selected")),t.body.removeChild(t.getElementById(s.id)))},300)},{once:!0}),s.click()})},m.compress=(t,o,i,n=50,r=50,a=0,s=0)=>new Promise(function(p,g){r/=100,n/=100;const u=new Image;u.onload=()=>{const c=i.createElement("canvas"),d=c.getContext("2d");if(!d)return g("No canvas context available");let v=u.naturalWidth,x=u.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(o===_.Right||o===_.Left)){const Je=v;v=x,x=Je}n=Math.min(n,a?a/v:1,s?s/x:1),c.width=v*n,c.height=x*n;const U=Math.PI/180;CSS.supports("image-orientation","from-image")||o===_.Up?d.drawImage(u,0,0,c.width,c.height):o===_.Right?(d.save(),d.rotate(90*U),d.translate(0,-c.width),d.drawImage(u,0,0,c.height,c.width),d.restore()):o===_.Left?(d.save(),d.rotate(-90*U),d.translate(-c.width,0),d.drawImage(u,0,0,c.height,c.width),d.restore()):o===_.Down?(d.save(),d.rotate(180*U),d.translate(-c.width,-c.height),d.drawImage(u,0,0,c.width,c.height),d.restore()):d.drawImage(u,0,0,c.width,c.height);const Te=t.substr(5,t.split(";")[0].length-5),Ae=c.toDataURL(Te,r);p(Ae)},u.onerror=c=>g(c),u.src=t}),m.byteCount=t=>encodeURI(t).split(/%..|./).length-1,m.getImageMaxSize=(t,o,i)=>(0,V.mG)(void 0,void 0,void 0,function*(){const r=p=>(p/1024/1024).toFixed(2);o&&console.debug("NgxImageCompress - Opening upload window");let s,a=yield m.uploadFile(i,!1);for(let p=0;p<10;p++){const g=m.byteCount(a.image);s=yield m.compress(a.image,a.orientation,i,50,100);const u=m.byteCount(s);if(console.debug("NgxImageCompress -","Compression from",r(g),"MB to",r(u),"MB"),u>=g)throw 0===p?(o&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",r(g),"MB large"),a.image):(o&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",r(g),"MB large"),a.image);if(u<1024*t*1024)return o&&console.debug("NgxImageCompress -","Here your file",r(u),"MB large"),s;if(9===p)throw o&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",r(g),"MB large"),a.image;o&&console.debug("NgxImageCompress -","Reached",r(u),"MB large. Trying another time after",p+1,"times"),a.image=s}throw o&&console.debug("NgxImageCompress - Unexpected error"),""});let j=(()=>{class t{constructor(i){this.DOC_ORIENTATION=_,this.render=i.createRenderer(null,null)}byteCount(i){return m.byteCount(i)}getOrientation(i){return m.getOrientation(i)}uploadFile(){return m.uploadFile(this.render,!1)}uploadMultipleFiles(){return m.uploadFile(this.render,!0)}uploadFileOrReject(){return m.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return m.uploadFile(this.render,!0,!0)}compressFile(i,n,r=50,a=50,s=0,p=0){return m.compress(i,n,this.render,r,a,s,p)}uploadAndGetImageWithMaxSize(i=1,n=!1){return m.getImageMaxSize(i,n,this.render)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(e.FYo))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),z=(()=>{class t{constructor(i){this.imageCompress=i,this.base64_image="",this.default_image="/assets/images/illustrations/undraw_male_avatar_re_y880.svg",this.on_change=new e.vpe,this.img=this.default_image}ngOnInit(){this.base64_image&&(this.img=this.base64_image)}compressFile(){this.imageCompress.uploadFile().then(({image:i,orientation:n})=>{this.imageCompress.compressFile(i,n,50,50,200,200).then(r=>{this.on_change.emit(r)})})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(j))},t.\u0275cmp=e.Xpm({type:t,selectors:[["util-img-base64"]],inputs:{base64_image:"base64_image",default_image:"default_image"},outputs:{on_change:"on_change"},decls:5,vars:1,consts:[[1,"p-relative","img-holder"],["alt","","width","100%",3,"src"],[1,"upload-btn","c-pointer",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div")(1,"div",0),e._UZ(2,"img",1),e.TgZ(3,"span",2),e.NdJ("click",function(){return n.compressFile()}),e._uU(4,"Edit"),e.qZA()()()),2&i&&(e.xp6(2),e.Q6J("src",n.img,e.LSH))},styles:["img[_ngcontent-%COMP%]{aspect-ratio:1 / 1;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;text-align:center;width:100%;position:absolute;bottom:0;left:0;padding:.5em 0}.img-holder[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden}"]}),t})();function E(t,o){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("firstName","First Name")," ")}}function G(t,o){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("middleName","Middle Name")," ")}}function H(t,o){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("lastName","Last Name")," ")}}function K(t,o){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("birthdate","Birthdate")," ")}}function X(t,o){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("gender","Gender")," ")}}function D(t,o){1&t&&(e.TgZ(0,"div")(1,"small",27),e._uU(2,"reCAPTCHA is required."),e.qZA()())}const Z=function(t){return{"is-invalid":t}};function R(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){return e.CHM(i),e.oxw().submit()}),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),e._uU(5,"First Name"),e.qZA(),e._UZ(6,"input",6),e.YNc(7,E,2,1,"div",7),e.qZA(),e.TgZ(8,"div",4)(9,"label",8),e._uU(10,"Middle Name"),e.qZA(),e._UZ(11,"input",9),e.YNc(12,G,2,1,"div",7),e.qZA(),e.TgZ(13,"div",4)(14,"label",10),e._uU(15,"Last Name"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,H,2,1,"div",7),e.qZA(),e.TgZ(18,"div",4)(19,"label",12),e._uU(20,"Birthdate"),e.qZA(),e._UZ(21,"input",13),e.ALo(22,"date"),e.YNc(23,K,2,1,"div",7),e.qZA(),e.TgZ(24,"div",2)(25,"div",14)(26,"div",4)(27,"label",15),e._uU(28,"Gender"),e.qZA(),e.TgZ(29,"select",16)(30,"option",17),e._uU(31,"Please Select"),e.qZA(),e.TgZ(32,"option",18),e._uU(33,"Male"),e.qZA(),e.TgZ(34,"option",19),e._uU(35,"Female"),e.qZA()(),e.YNc(36,X,2,1,"div",7),e.qZA()()(),e.TgZ(37,"div",4),e._UZ(38,"re-captcha",20),e.YNc(39,D,3,0,"div",21),e.qZA()(),e.TgZ(40,"div",22)(41,"div",23)(42,"util-img-base64",24),e.NdJ("on_change",function(r){return e.CHM(i),e.oxw().image_change(r)}),e.qZA()()()(),e.TgZ(43,"button",25),e._uU(44,"Submit"),e.qZA()()}if(2&t){const i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngClass",e.VKq(19,Z,i.control_is_invalid("firstName"))),e.xp6(1),e.Q6J("ngIf",i.control_is_invalid("firstName")),e.xp6(4),e.Q6J("ngClass",e.VKq(21,Z,i.control_is_invalid("middleName"))),e.xp6(1),e.Q6J("ngIf",i.control_is_invalid("middleName")),e.xp6(4),e.Q6J("ngClass",e.VKq(23,Z,i.control_is_invalid("lastName"))),e.xp6(1),e.Q6J("ngIf",i.control_is_invalid("lastName")),e.xp6(4),e.Q6J("max",e.xi3(22,16,i.now,"y-LL-dd"))("ngClass",e.VKq(25,Z,i.control_is_invalid("birthdate"))),e.xp6(2),e.Q6J("ngIf",i.control_is_invalid("birthdate")),e.xp6(6),e.Q6J("ngClass",e.VKq(27,Z,i.control_is_invalid("gender"))),e.xp6(7),e.Q6J("ngIf",i.control_is_invalid("gender")),e.xp6(3),e.Q6J("ngIf",i.control_is_invalid("recaptcha")),e.xp6(3),e.Q6J("base64_image",i.img)("default_image",i.img),e.xp6(1),e.Q6J("disabled",i.is_pending)}}let $=(()=>{class t extends q.l{constructor(i,n,r,a,s){super(i),this._fb=n,this._profile_service=r,this._router=a,this._sanitizer=s,this.img=C.tb}ngOnInit(){this.now=new Date,this.initialValue=this._profile_service.get_profile(!0).pipe((0,Y.w)(i=>i?(0,L.of)(i):this._profile_service.get_profile(!1))).subscribe({next:i=>{this.initialValue=i,this.initialValue.birthdate&&(this.initialValue.birthdate=this.initialValue.birthdate.split("T")[0]),this.set_image(),this.initialize(this._fb.group({profilePicture:[""],firstName:["",l.kI.required],middleName:[""],lastName:["",l.kI.required],birthdate:["",l.kI.required],gender:["",l.kI.required],recaptcha:["",l.kI.required]}))},error:i=>{this._alert_service.add_alert("Could not load profile."),this._router.navigate(["/"])}})}image_change(i){var n;null===(n=this.ctrl("profilePicture"))||void 0===n||n.setValue(i.split(",")[1])}set_image(){if(this.initialValue.profilePicture)try{return void(this.img=this._sanitizer.bypassSecurityTrustUrl((0,C.qo)(this.initialValue.profilePicture)))}catch(i){return void(this.img=this.get_default_image())}this.img=this.get_default_image()}get_default_image(){return this.initialValue.gender?"MALE"==this.initialValue.gender.toUpperCase().trim()?C.tb:C.Ld:C.tb}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(P.c),e.Y36(l.qu),e.Y36(N.H),e.Y36(b.F0),e.Y36(B.H7))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile-form"]],features:[e.qOj],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-8"],[1,"mb-3"],["for","firstName",1,"form-label","sform-label"],["type","text","id","firstName","placeholder","Type here","autocomplete","false","formControlName","firstName","tabindex","1",1,"form-control","sform-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","middleName",1,"form-label","sform-label"],["type","text","id","middleName","placeholder","Type here","autocomplete","false","formControlName","middleName","tabindex","2",1,"form-control","sform-control",3,"ngClass"],["for","lastName",1,"form-label","sform-label"],["type","text","id","lastName","placeholder","Type here","autocomplete","false","formControlName","lastName","tabindex","3",1,"form-control","sform-control",3,"ngClass"],["for","birthdate",1,"form-label","sform-label"],["type","date","id","birthdate","autocomplete","false","formControlName","birthdate","tabindex","4",1,"form-control","sform-control",3,"max","ngClass"],[1,"col-lg-5"],["for","gender",1,"form-label","sform-label"],["id","gender","formControlName","gender","tabindex","5",1,"form-select","sform-control",3,"ngClass"],["selected","","value",""],["value","MALE"],["value","FEMALE"],["tabindex","2","formControlName","recaptcha"],[4,"ngIf"],[1,"col-lg-4"],[1,"d-none","d-lg-block"],[3,"base64_image","default_image","on_change"],["type","submit","tabindex","3",1,"btn","btn-primary","px-5","py-2","mt-3",3,"disabled"],[1,"invalid-feedback"],[1,"text-danger"]],template:function(i,n){1&i&&e.YNc(0,R,45,29,"form",0),2&i&&e.Q6J("ngIf",n.form)},directives:[h.O5,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,h.mk,l.EJ,l.YN,l.Kr,w.wT,w.Vd,z],pipes:[h.uU],styles:[""]}),t})();var M=f(4986),W=f(8306),O=f(3532);function oe(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1,".\xa0"),e.qZA())}let ne=(()=>{class t{constructor(){this.message="Loading",this.description="Please wait.",this.is_loading=!1,this.dot=[],this._subs=[]}ngOnInit(){if(!0===this.is_loading){const i=function ie(t=0,o=M.z){return t<0&&(t=0),function te(t=0,o,i=M.P){let n=-1;return null!=o&&((0,O.K)(o)?i=o:n=o),new W.y(r=>{let a=function ee(t){return t instanceof Date&&!isNaN(t)}(t)?+t-i.now():t;a<0&&(a=0);let s=0;return i.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},a)})}(t,t,o)}(500).subscribe(n=>{this.dot.length>=3?this.dot=[]:this.dot.push(1)});this._subs.push(i)}}ngOnDestroy(){this._subs.forEach(i=>i.unsubscribe())}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["util-message"]],inputs:{message:"message",description:"description",is_loading:"is_loading"},decls:8,vars:3,consts:[[1,"d-flex","flex-column","align-items-center"],["src","/assets/images/illustrations/undraw_my_personal_files_re_3q0p.svg","width","300px","alt","",1,"m-auto","mb-3"],[1,"sheader","p-relative"],[1,"ld"],[4,"ngFor","ngForOf"],[1,"sheadersub","mb-3","text-center"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2),e._uU(3),e.TgZ(4,"div",3),e.YNc(5,oe,2,0,"span",4),e.qZA()(),e.TgZ(6,"div",5),e._uU(7),e.qZA()()),2&i&&(e.xp6(3),e.hij(" ",n.message," "),e.xp6(2),e.Q6J("ngForOf",n.dot),e.xp6(2),e.hij(" ",n.description," "))},directives:[h.sg],styles:[".ld[_ngcontent-%COMP%]{position:absolute;right:-2.1em;top:0;width:2em}"]}),t})();function re(t,o){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("oldPassword","Old Password")," ")}}const ae=function(){return{name:"pattern",msg:"New Password should be atleast 6 characters length that consists of alteast 1 Uppercase, 1 Lowercase, 1 Numeric and 1 Special Character."}},le=function(t){return[t]};function ce(t,o){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.validation_msg("newPassword","New Password",null,e.VKq(2,le,e.DdM(1,ae)))," ")}}function de(t,o){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const i=e.oxw(3);e.xp6(1),e.Oqu(i.validation_msg("confirmPassword","Password confirmation"))}}function me(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1,"Password does not match."),e.qZA())}function fe(t,o){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,de,2,1,"span",12),e.YNc(2,me,2,0,"span",12),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.control_is_invalid("confirmPassword")),e.xp6(1),e.Q6J("ngIf",i.form.hasError("notSame"))}}function pe(t,o){1&t&&(e.TgZ(0,"div")(1,"small",15),e._uU(2,"reCAPTCHA is required."),e.qZA()())}const y=function(t){return{"is-invalid":t}};function ue(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){return e.CHM(i),e.oxw().submit()}),e.TgZ(1,"div",2)(2,"label",3),e._uU(3,"Old Password "),e.qZA(),e._UZ(4,"input",4),e.YNc(5,re,2,1,"div",5),e.qZA(),e.TgZ(6,"div",2)(7,"label",6),e._uU(8,"New Password "),e.qZA(),e._UZ(9,"input",7),e.YNc(10,ce,2,4,"div",5),e.qZA(),e.TgZ(11,"div",8)(12,"label",9),e._uU(13,"Confirm Password "),e.qZA(),e._UZ(14,"input",10),e.YNc(15,fe,3,2,"div",5),e.qZA(),e.TgZ(16,"div",2),e._UZ(17,"re-captcha",11),e.YNc(18,pe,3,0,"div",12),e.qZA(),e.TgZ(19,"button",13),e._uU(20,"Submit"),e.qZA()()}if(2&t){const i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(4),e.Q6J("ngClass",e.VKq(9,y,i.control_is_invalid("oldPassword"))),e.xp6(1),e.Q6J("ngIf",i.control_is_invalid("oldPassword")),e.xp6(4),e.Q6J("ngClass",e.VKq(11,y,i.control_is_invalid("newPassword"))),e.xp6(1),e.Q6J("ngIf",i.control_is_invalid("newPassword")),e.xp6(4),e.Q6J("ngClass",e.VKq(13,y,i.form.hasError("notSame")||i.control_is_invalid("confirmPassword"))),e.xp6(1),e.Q6J("ngIf",i.form.hasError("notSame")||i.control_is_invalid("password")),e.xp6(3),e.Q6J("ngIf",i.control_is_invalid("recaptcha")),e.xp6(1),e.Q6J("disabled",i.is_pending)}}let ge=(()=>{class t extends q.l{constructor(i,n){super(i),this._fb=n,this.checkPasswords=r=>{var a,s;return(null===(a=null==r?void 0:r.get("newPassword"))||void 0===a?void 0:a.value)===(null===(s=null==r?void 0:r.get("confirmPassword"))||void 0===s?void 0:s.value)?null:{notSame:!0}}}ngOnInit(){this.initialize(this._fb.group({confirmPassword:["",l.kI.required],newPassword:["",[l.kI.required,l.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,}$")]],oldPassword:["",l.kI.required],recaptcha:["",l.kI.required]},{validators:this.checkPasswords}))}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(P.c),e.Y36(l.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-change-password-form"]],features:[e.qOj],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","oldPassword",1,"form-label","sform-label"],["type","password","id","oldPassword","placeholder","Type here","autocomplete","false","formControlName","oldPassword","tabindex","1",1,"form-control","sform-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","newPassword",1,"form-label","sform-label"],["type","password","id","newPassword","placeholder","Type here","autocomplete","false","formControlName","newPassword","tabindex","2",1,"form-control","sform-control",3,"ngClass"],[1,"mb-4"],["for","confirmPassword",1,"form-label","sform-label"],["type","password","id","confirmPassword","placeholder","Type here","autocomplete","false","formControlName","confirmPassword","tabindex","3",1,"form-control","sform-control",3,"ngClass"],["tabindex","4","formControlName","recaptcha"],[4,"ngIf"],["type","submit","tabindex","5",1,"btn","btn-primary","px-5","py-2","mt-3",3,"disabled"],[1,"invalid-feedback"],[1,"text-danger"]],template:function(i,n){1&i&&e.YNc(0,ue,21,15,"form",0),2&i&&e.Q6J("ngIf",n.form)},directives:[h.O5,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,h.mk,w.wT,w.Vd],styles:[""]}),t})();const _e=function(t){return{"text-primary tx-active":t}};function he(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e.NdJ("click",function(){const a=e.CHM(i).$implicit;return e.oxw().navigate(a)}),e.TgZ(2,"span",12),e.ALo(3,"async"),e._uU(4),e.qZA()()()}if(2&t){const i=o.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(4,_e,e.lcZ(3,2,n.active_cont$)==i)),e.xp6(2),e.hij(" ",i," ")}}function ve(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"app-profile-form",17),e.NdJ("on_submit",function(r){return e.CHM(i),e.oxw(2).update_profile(r)}),e.qZA()}if(2&t){const i=e.oxw(2);e.Q6J("is_pending",i.is_pending)}}function xe(t,o){1&t&&e._UZ(0,"util-message",18),2&t&&e.Q6J("message","Loading")("is_loading",!0)("description","Please wait while we load your profile.")}function we(t,o){if(1&t&&(e.TgZ(0,"div")(1,"h2",13),e._UZ(2,"div",14),e._uU(3," Personal Details "),e.qZA(),e.YNc(4,ve,1,1,"app-profile-form",15),e.ALo(5,"async"),e.YNc(6,xe,1,3,"ng-template",null,16,e.W1O),e.qZA()),2&t){const i=e.MAs(7),n=e.oxw();e.xp6(4),e.Q6J("ngIf",0==e.lcZ(5,2,n.profile_service.profile_loading$))("ngIfElse",i)}}function be(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"h2",13),e._UZ(2,"div",14),e._uU(3," Change Password "),e.qZA(),e.TgZ(4,"app-change-password-form",17),e.NdJ("on_submit",function(r){return e.CHM(i),e.oxw().change_password(r)}),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(4),e.Q6J("is_pending",i.is_pending)}}const Ce=[{path:"profile",component:(()=>{class t{constructor(i,n,r){this.profile_service=i,this._alert_service=n,this._auth_service=r,this.sidebar_content=["Personal Details","Change Password"],this._active_cont=new S.X("Change Password"),this.active_cont$=this._active_cont.asObservable(),this.is_pending=!1}ngOnInit(){this.profile_service.get_profile(!0).subscribe()}load_profile(){}navigate(i){this._active_cont.next(i)}ngOnDestroy(){}update_profile(i){this.is_pending=!0,this.profile_service.submit(i).subscribe({next:n=>{this.is_pending=!1,this._alert_service.add_alert("Profile successfully updated.")},error:n=>{this.is_pending=!1,this._alert_service.http_error(n)}})}change_password(i){this.is_pending=!0,this._auth_service.change_password(i).subscribe({next:n=>{this.is_pending=!1,this._alert_service.add_alert("Password changed successfully."),this._active_cont.next(""),setTimeout(()=>{this._active_cont.next("Change Password")},50)},error:n=>{this.is_pending=!1,this._alert_service.http_error(n)}})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(N.H),e.Y36(P.c),e.Y36(A.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:13,vars:8,consts:[[3,"title","is_cms_content"],[1,"bg-white","py-5"],[1,"container","layout-container"],[1,"row"],[1,"col-md-4","mb-5"],[1,"sidebar-bg"],["class","d-flex flex-column p-3",4,"ngFor","ngForOf"],[1,"col-md-8",3,"ngSwitch"],[1,"cms-cont","ms-3"],[4,"ngSwitchCase"],[1,"d-flex","flex-column","p-3"],[1,"d-flex","justify-content-between","c-pointer",3,"click"],[1,"pb-3","tx",3,"ngClass"],[1,"cms-title","mb-3","p-relative"],[1,"priority"],[3,"is_pending","on_submit",4,"ngIf","ngIfElse"],["profile_loading",""],[3,"is_pending","on_submit"],[3,"message","is_loading","description"]],template:function(i,n){1&i&&(e.TgZ(0,"div"),e._UZ(1,"util-page-title",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e.YNc(7,he,5,6,"div",6),e.qZA()(),e.TgZ(8,"div",7),e.ALo(9,"async"),e.TgZ(10,"div",8),e.YNc(11,we,8,4,"div",9),e.YNc(12,be,5,1,"div",9),e.qZA()()()()()()),2&i&&(e.xp6(1),e.Q6J("title","Profile")("is_cms_content",!1),e.xp6(6),e.Q6J("ngForOf",n.sidebar_content),e.xp6(1),e.Q6J("ngSwitch",e.lcZ(9,6,n.active_cont$)),e.xp6(3),e.Q6J("ngSwitchCase","Personal Details"),e.xp6(1),e.Q6J("ngSwitchCase","Change Password"))},directives:[J.T,h.sg,h.mk,h.RF,h.n9,h.O5,$,ne,ge],pipes:[h.Ov],styles:[""]}),t})(),canActivate:[I]},{path:"news",component:Q}];let Ze=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[b.Bz.forChild(Ce)],b.Bz]}),t})();var Pe=f(8231),ye=f(2234);let Fe=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.ez,Ze,Pe.A,ye.m,l.u5,l.UX,b.Bz,w.a,w.lQ]]}),t})()}}]);